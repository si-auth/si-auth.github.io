<!DOCTYPE html>
<!-- saved from url=(0046)https://pages.nist.gov/800-63-4/sp800-63c.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
    <meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
    <link rel="canonical" href="https://pages.nist.gov/800-63-4/sp800-63c.html">

    <!-- Google Analytics -->
    <!--<script type="text/javascript" id="_fed_an_js_tag" src="http://www.nist.gov/js/federated-analytics.all.min.js?agency=NIST&subagency=mml&pua=UA-66610693-1&yt=true&exts=ppsx,pps,f90,sch,rtf,wrl,txz,m1v,xlsm,msi,xsd,f,tif,eps,mpg,xml,pl,xlt,c"></script> -->
    <!-- DAP Analytics -->
    <script type="text/javascript" id="www-widgetapi-script" src="./sp800-63c_files/www-widgetapi.js.ダウンロード" async=""></script><script src="./sp800-63c_files/iframe_api"></script><script type="text/javascript" id="_fed_an_ua_tag" src="./sp800-63c_files/Universal-Federated-Analytics-Min.js.ダウンロード"></script><script type="text/javascript" src="./sp800-63c_files/js"></script>

	<link rel="stylesheet" href="./sp800-63c_files/nist-combined.css">
	<script src="./sp800-63c_files/jquery-3.6.2.min.js.ダウンロード" type="text/javascript"></script>
	<script src="./sp800-63c_files/nist-header-footer.js.ダウンロード" type="text/javascript" defer="defer"></script>
	<script src="./sp800-63c_files/simple-jekyll-search.min.js.ダウンロード"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="./sp800-63c_files/font-awesome.min.css">
    <link rel="stylesheet" href="./sp800-63c_files/NISTStyle.css">
    <link rel="stylesheet" href="./sp800-63c_files/NISTPages.css">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    
    <title _msttexthash="22180769" _msthash="0">NIST特別出版物800-63C</title>
    <meta property="og:title" content="NIST Special Publication 800-63C">
    

    
    <meta name="description" content="NIST Special Publication 800-63C">
    <meta property="og:description" content="NIST Special Publication 800-63C">
    
</head>


<body><div id="nistheadergoeshere"><header class="nist-header" id="nist-header" role="banner">

  <a href="https://www.nist.gov/" title="National Institute of Standards and Technology" class="nist-header__logo-link" rel="home">
    <svg aria-hidden="true" class="nist-header__logo-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="32" viewBox="0 0 24 32">
      <path d="M20.911 5.375l-9.482 9.482 9.482 9.482c0.446 0.446 0.446 1.161 0 1.607l-2.964 2.964c-0.446 0.446-1.161 0.446-1.607 0l-13.25-13.25c-0.446-0.446-0.446-1.161 0-1.607l13.25-13.25c0.446-0.446 1.161-0.446 1.607 0l2.964 2.964c0.446 0.446 0.446 1.161 0 1.607z"></path>
    </svg>
    <svg class="nist-header__logo-image" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="-237 385.7 109.7 29.3">
      <title _mstTextHash="37009388" _mstHash="51">国立標準技術研究所</title>
      <g>
        <path class="st0" d="M-231,415h-6v-23.1c0,0,0-4.4,4.4-5.8c4-1.3,6.6,1.3,6.6,1.3l19.7,21.3c1,0.6,1.4,0,1.4-0.6v-22h6.1V409
          c0,1.9-1.6,4.4-4,5.3c-2.4,0.9-4.9,0.9-7.9-1.7l-18.5-20c-0.5-0.5-1.8-0.6-1.8,0.4L-231,415L-231,415z"></path>
        <path class="st0" d="M-195,386.1h6.1v20.7c0,2.2,1.9,2.2,3.6,2.2h26.8c1.1,0,2.4-1.3,2.4-2.7c0-1.4-1.3-2.8-2.5-2.8H-176
          c-3,0.1-9.2-2.7-9.2-8.5c0-7.1,5.9-8.8,8.6-9h49.4v6.1h-12.3V415h-6v-22.9h-30.2c-2.9-0.2-4.9,4.7-0.2,5.4h18.6
          c2.8,0,7.4,2.4,7.5,8.4c0,6.1-3.6,9-7.5,9H-185c-4.5,0-6.2-1.1-7.8-2.5c-1.5-1.5-1.7-2.3-2.2-5.3L-195,386.1
          C-194.9,386.1-195,386.1-195,386.1z"></path>
      </g>
    </svg>
  </a>

</header>
</div>

<nav class="navbar navbar-default navbar-fixed-left" role="navigation">
	<ul class="nav navbar-nav">
      <li id="search-box">
        <input type="text" id="search-input" placeholder="捜索。。。" onfocus="loadSearch()" _mstplaceholder="99723" _msthash="1">
        <ul id="results-container"></ul>
      </li>
      
        
        
        
        <li class="">
          
              <a href="https://pages.nist.gov/800-63-4/" _msttexthash="2136498" _msthash="2">家</a>
          
          
          
          
          
        </li>
      
        
        
        
        <li class="">
          
              <a href="https://pages.nist.gov/800-63-4/sp800-63.html" _msttexthash="60957" _msthash="3">SP 800-63</a>
          
          
          
          
          
        </li>
      
        
        
        
        <li class="">
          
              <a href="https://pages.nist.gov/800-63-4/sp800-63a.html" _msttexthash="73632" _msthash="4">SP 800-63A</a>
          
          
          
          
          
        </li>
      
        
        
        
        <li class="">
          
              <a href="https://pages.nist.gov/800-63-4/sp800-63b.html" _msttexthash="73827" _msthash="5">SP 800-63B</a>
          
          
          
          
          
        </li>
      
        
        
        
        <li class="active">
          
              <a href="https://pages.nist.gov/800-63-4/sp800-63c.html" _msttexthash="74022" _msthash="6">SP 800-63C</a>
          
          
          
        
            
            
            
            <ul class="subnav">
            
              
              
              
                
                
                
                
                
                    <li class=""><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#abstract" _msttexthash="6531707" _msthash="7">要約</a></li>
                
              
              

            
              
              
              
                
                
                
                
                
                    <li class=""><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#preface" _msttexthash="6105424" _msthash="8">前書き</a></li>
                
              
              

            
              
              
              
                
                
                
                
                
                    <li class=""><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#introduction" _msttexthash="5698394" _msthash="9"><span class="section" _istranslated="1">1</span>紹介</a></li>
                
              
              

            
              
              
              
                
                
                
                
                
                    <li class=""><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fal" _msttexthash="4389177" _msthash="10"><span class="section" _istranslated="1">2</span>ファル</a></li>
                
              
              

            
              
              
              
                
                
                
                
                
                    <li class=""><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#common" _msttexthash="14962064" _msthash="11"><span class="section" _istranslated="1">3</span>フェデレーション</a></li>
                
              
              

            
              
              
              
                
                
                
                
                
                    <li class=""><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#GenIdP" _msttexthash="6433570" _msthash="12"><span class="section" _istranslated="1">4</span>汎用 IdP</a></li>
                
              
              

            
              
              
              
                
                
                
                
                
                    <li class=""><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#wallet" _msttexthash="6564766" _msthash="13"><span class="section" _istranslated="1">5</span>財布</a></li>
                
              
              

            
              
              
              
                
                
                
                
                
                    <li class=""><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#security" _msttexthash="4880226" _msthash="14"><span class="section" _istranslated="1">6</span>安全</a></li>
                
              
              

            
              
              
              
                
                
                
                
                
                    <li class=""><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#privacy" _msttexthash="10240698" _msthash="15"><span class="section" _istranslated="1">7</span>プライバシー</a></li>
                
              
              

            
              
              
              
                
                
                
                
                
                    <li class=""><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#usability" _msttexthash="29554629" _msthash="16"><span class="section" _istranslated="1">8</span>カスタマーエクスペリエンス</a></li>
                
              
              

            
              
              
              
                
                
                
                
                
                    <li class=""><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#examples" _msttexthash="2122939" _msthash="17"><span class="section" _istranslated="1">9</span>例</a></li>
                
              
              

            
              
              
              
                
                
                
                
                
                    <li class=""><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#references" _msttexthash="4970446" _msthash="18">参照</a></li>
                
              
              

            
              
              
              
                
                
                
                
                
                    <li class=""><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#abbr" _msttexthash="10546003" _msthash="19"><span class="section" _istranslated="1">ある</span>略語</a></li>
                
              
              

            
              
              
              
                
                
                
                
                
                    <li class=""><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#def-and-acr" _msttexthash="12294776" _msthash="20"><span class="section" _istranslated="1">B</span>用語集</a></li>
                
              
              

            
              
              
              
                
                
                
                
                
                    <li class=""><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#changelog" _msttexthash="13540098" _msthash="21"><span class="section" _istranslated="1">Cさん</span>変更ログ</a></li>
                
              
              

            
          
            </ul>
          
          
          
        </li>
      
      
      
  </ul>

</nav>


<div class="page-switch" _msttexthash="138521630" _msthash="22">このドキュメントを次の形式で表示します: <b _istranslated="1">1 ページ</b> |<a href="https://pages.nist.gov/800-63-4/sp800-63c/introduction/" _istranslated="1">複数のページ</a>。</div>

<div class="container">
  <div class="row">





<p _msttexthash="373997" _msthash="23">Tue, 26 Aug 2025 08:51:12 -0500</p>

<h1 id="abstract"><font _mstmutation="1" _msttexthash="6531707" _msthash="24">要約</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#abstract" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h1>

<p _msttexthash="6952728263" _msthash="25">このガイドラインは、ID フェデレーションと、それらを実装するためのアサーションの使用に焦点を当てています。フェデレーションを使用すると、特定の資格情報サービス プロバイダーは、個別に管理される多数の証明書利用者に認証属性と (オプションで) サブスクライバ属性を提供できます。同様に、証明書利用者は複数の資格情報サービス プロバイダーを使用する場合があります。これらのガイドラインは、この目的以外の標準の開発または使用を制限することを意図したものではありません。この出版物は、NIST Special Publication (SP) 800-63C に取って代わります。</p>
<h1 id="keywords"><font _mstmutation="1" _msttexthash="7319897" _msthash="26">キーワード</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#keywords" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h1>

<p _msttexthash="332475806" _msthash="27">アサーション;認証;クレデンシャルサービスプロバイダー。デジタル認証;デジタルウォレット;連合;ID プロバイダー。</p>

<h1 id="preface"><font _mstmutation="1" _msttexthash="6105424" _msthash="28">前書き</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#preface" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h1>

<p _msttexthash="721496555" _msthash="29">この出版物および関連する関連書籍 <a href="https://pages.nist.gov/800-63-4/sp800-63.html#introduction" latex-href="#ref-SP800-63" _istranslated="1">[SP800-63]</a>、[<a href="https://pages.nist.gov/800-63-4/sp800-63a.html#introduction" latex-href="#ref-SP800-63A" _istranslated="1">SP800-63A]</a>、<a href="https://pages.nist.gov/800-63-4/sp800-63b.html#introduction" latex-href="#ref-SP800-63B" _istranslated="1">および [SP800-63B]</a> は、デジタル ID サービスの実装に関する技術ガイドラインを組織に提供します。</p>

<p _msttexthash="3048184971" _msthash="30">このドキュメントでは、フェデレーション ID システムの ID プロバイダー (IdP) と証明書利用者 (RP) の要件を提供します。フェデレーションにより、特定の IdP は、フェデレーションプロトコルとアサーションを通じて、個別に管理される多数の RP に認証属性と(オプションで)サブスクライバ属性を提供できます。同様に、RP は ID のソースとして複数の IdP を使用できます。</p>

<h1 id="introduction" data-section="1"><font _mstmutation="1" _msttexthash="5014971" _msthash="31">紹介</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#introduction" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h1>

<p><em _msttexthash="33744646" _msthash="32">このセクションは有益です。</em></p>

<p _msttexthash="8631348778" _msthash="33">フェデレーションは、RP がサブスクライバのオーセンティケータを直接検証せずに、証明書利用者 (RP) に対してサブスクライバを認証するプロセスです。ID プロバイダー (IdP) は、[<a href="https://pages.nist.gov/800-63-4/sp800-63a.html#introduction" latex-href="#ref-SP800-63A" _istranslated="1">SP800-63A]</a> で定義された加入者アカウントをフェデレーション プロトコルを介して RP で使用できるようにします。IdP は、加入者の認証イベントによってトリガーされたアサーションを RP に送信します。アサーションは、RP へのサブスクライバ アカウントに関する検証可能なステートメントです。RP は、IdP によって提供されるアサーションを検証し、サブスクライバとの認証済みセッションを作成し、サブスクライバに RP の機能へのアクセスを許可します。</p>

<p _msttexthash="78557206" _msthash="34">IdP は、次の 2 つのモードのいずれかで動作します。</p>

<ul>
  <li _msttexthash="529902555" _msthash="35"><a href="https://pages.nist.gov/800-63-4/sp800-63b.html#introduction" latex-href="#ref-SP800-63B" _istranslated="1">[SP800-63B]</a> (詳細は <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#GenIdP" _istranslated="1">Sec. 4</a> を参照) で説明されているように、加入者アカウントにバインドされた認証者の検証者として、または</li>
  <li _msttexthash="1441853140" _msthash="36">加入者制御デバイス(デジタルウォレットと呼ばれることが多い)またはホストされたサービス(クラウドウォレットと呼ばれることが多い)上のソフトウェアとして、CSPによって署名された属性バンドルが発行されます(詳細については、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#wallet" _istranslated="1">セクション5</a>を参照)。</li>
</ul>

<p _msttexthash="8226058516" _msthash="37">フェデレーション プロセスにより、加入者は、各 RP で個別のオーセンティケータを保持または維持することなく、複数の RP からサービスを取得できます。このプロセスは、<em _istranslated="1">シングルサインオン</em>と呼ばれることもあります。フェデレーション プロセスは、RP と加入者アカウントが共通のセキュリティ ドメインで一緒に管理されていない場合にも、加入者が管理する追加の認証子を RP が発行する必要がないため、一般的に認証への推奨アプローチです。それでも、フェデレーションは単一のセキュリティ ドメイン内で適用でき、一元化されたアカウント管理や技術統合など、さまざまな利点が得られます。</p>

<p _msttexthash="1267929975" _msthash="38">フェデレーションプロセスは、実施されている信頼契約を促進するためのフェデレーション機関や、プロトコル接続を促進するためのフェデレーションプロキシなど、他の役割で行動する追加の関係者によって促進できます。</p>
<h2 id="notations" data-section="1"><font _mstmutation="1" _msttexthash="6854328" _msthash="39">表記</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#notations" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="158624596" _msthash="40">このガイドラインでは、テキストで次のタイポグラフィ規則を使用します。</p>

<ul>
  <li><font _mstmutation="1" _msttexthash="633525997" _msthash="41"><strong class="normative" _mstmutation="1" _istranslated="1">CAPITALS</strong>の特定の用語は、規範的な要件を表しています。これらの同じ用語が <strong class="normative" _mstmutation="1" _istranslated="1">CAPITALS</strong> にない場合、その用語は規範的な要件を表しません。</font><ul>
      <li _msttexthash="544766534" _msthash="42">「<strong class="normative" _istranslated="1">SHALL」</strong>および「<strong class="normative" _istranslated="1">SHALL NOT</strong>」という用語は、出版物に準拠するために厳密に従うべき要件を示し、そこからの逸脱は許されません。</li>
      <li _msttexthash="2740246405" _msthash="43">「<strong class="normative" _istranslated="1">すべき</strong>」と「<strong class="normative" _istranslated="1">すべきではない</strong>」という用語は、いくつかの可能性のうち、他の可能性に言及または除外することなく、1つが特に適切であると推奨されていること、特定の行動方針が好ましいが必ずしも必要ではないこと、または(否定的な形で)特定の可能性または行動方針が推奨されないが禁止されていないことを示しています。</li>
      <li _msttexthash="327323256" _msthash="44">「<strong class="normative" _istranslated="1">MAY</strong>」および「<strong class="normative" _istranslated="1">NEED NOT</strong>」という用語は、出版物の範囲内で許容される一連の行動を示します。</li>
      <li _msttexthash="838411587" _msthash="45">「<strong class="normative" _istranslated="1">CAN</strong>」および「<strong class="normative" _istranslated="1">CANNOT」</strong>という用語は、物質的、物理的、または因果関係を問わず、可能性と能力、または否定的には、その可能性または能力の欠如を示します。</li>
    </ul>
  </li>
</ul>
<h3 id="cryptographic-terminology" data-section="1"><font _mstmutation="1" _msttexthash="16087461" _msthash="46">暗号化用語</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#cryptographic-terminology" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="5277966330" _msthash="47">これらのガイドラインでは、アサーション、属性バンドル、およびフェデレーション プロトコルのその他の要素は、非対称デジタル署名または対称メッセージ認証コード(MAC)によって検証されます。非対称暗号化または対称暗号化のいずれかが特に必要な場合、<em _istranslated="1">対</em><em _istranslated="1">称署名</em>や<em _istranslated="1">非対称署名</em>など、要件を示すために署名と<em _istranslated="1">署名</em>という用語が適切に修飾されます。いずれかのオプションが可能な場合は、<em _istranslated="1">署名</em>と<em _istranslated="1">署名</em>という用語が修飾子なしで使用されます。</p>

<p _msttexthash="3522734280" _msthash="48">対称署名と非対称署名の両方で、署名の作成に使用されるキーは<em _istranslated="1">署名キー</em>と呼ばれます。非対称暗号化では、署名キーは暗号化キー ペアの秘密キーを参照します。同様に、署名の検証に使用されるキーは<em _istranslated="1">、検証キー</em>と呼ばれます。非対称暗号化の場合、検証キーは暗号化キー ペアの公開キーを参照します。対称暗号化では、対称キーは署名キーと検証キーの両方です。</p>

<p _msttexthash="5698696718" _msthash="49">対称暗号化と非対称暗号化の両方で、ペイロードの暗号化に使用されるキーは<em _istranslated="1">暗号化キー</em>と呼ばれます。非対称暗号化では、暗号化キーは暗号化キー ペアの公開キーを参照し、ペイロードを暗号化する対称キーをカプセル化するために使用されます。同様に、暗号化されたペイロードの復号化に使用されるキーは、<em _istranslated="1">復号化キー</em>と呼ばれます。非対称暗号化では、復号化キーは暗号化キーペアの秘密キーを参照します。対称暗号化では、対称鍵は暗号化鍵と復号化鍵の両方です。</p>

<p _msttexthash="3714093422" _msthash="50">一部の暗号化プロセスでは、公開鍵と秘密鍵のペアを使用して、実際に使用する共有鍵を派生させるなど、複数の鍵を組み合わせて使用します。特に指定がない限り、これらのガイドラインは、フェデレーションプロトコルに参加する当事者によって知られている、または転送された最初のキーマテリアルに焦点を当てており、それらのキーから派生した暗号化マテリアルには焦点が当てられていません。</p>

<div latex-literal="true" class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\clearpage
</code></pre></div></div>
<h2 id="document-structure" data-section="1"><font _mstmutation="1" _msttexthash="20555782" _msthash="67">ドキュメント構造</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#document-structure" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="819283504" _msthash="68">この文書は次のように構成されています。各セクションには、規範的 (つまり、コンプライアンスのために必須) または有益 (つまり、必須ではない) のいずれかとしてラベル付けされています。</p>

<ul>
  <li _msttexthash="157651000" _msthash="69">セクション 1 では、ドキュメントを紹介します。このセクションは<em _istranslated="1">有益です</em>。</li>
  <li _msttexthash="322533731" _msthash="70">セクション 2 では、フェデレーション保証レベルの要件について説明します。このセクションは<em _istranslated="1">規範的</em>です。</li>
  <li _msttexthash="363323961" _msthash="71">セクション 3 では、フェデレーション システムの一般的な要件について説明します。このセクションは<em _istranslated="1">規範的</em>です。</li>
  <li _msttexthash="230486659" _msthash="72">セクション 4 では、汎用 IdP の要件について説明します。このセクションは<em _istranslated="1">規範的</em>です。</li>
  <li _msttexthash="298955527" _msthash="73">セクション5では、加入者管理ウォレットの要件について説明します。このセクションは<em _istranslated="1">規範的</em>です。</li>
  <li _msttexthash="285514385" _msthash="74">セクション 6 では、セキュリティに関する考慮事項について説明します。このセクションは<em _istranslated="1">有益です</em>。</li>
  <li _msttexthash="279619574" _msthash="75">セクション7では、プライバシーに関する考慮事項を記載しています。このセクションは<em _istranslated="1">有益です</em>。</li>
  <li _msttexthash="290469907" _msthash="76">セクション 8 では、顧客エクスペリエンスに関する考慮事項を示します。このセクションは<em _istranslated="1">有益です</em>。</li>
  <li _msttexthash="171943265" _msthash="77">セクション 9 では、追加のシナリオ例を示します。このセクションは<em _istranslated="1">有益です</em>。</li>
  <li _msttexthash="351543283" _msthash="78">参考文献セクションには、この文書で引用されている出版物のリストが含まれています。このセクションは<em _istranslated="1">有益です</em>。</li>
  <li _msttexthash="340595983" _msthash="79">付録 A には、このドキュメントで使用される略語の選択されたリストが含まれています。この付録は<em _istranslated="1">有益です</em>。</li>
  <li _msttexthash="323729380" _msthash="80">付録 B には、このドキュメントで使用される選択された用語集が含まれています。この付録は<em _istranslated="1">有益です</em>。</li>
  <li _msttexthash="302547726" _msthash="81">付録 C には、このドキュメントの履歴の変更点の要約リストが含まれています。この付録は<em _istranslated="1">有益です</em>。</li>
</ul>

<h1 id="fal" data-section="2"><font _mstmutation="1" _msttexthash="33875309" _msthash="82">フェデレーション保証レベル(FAL)</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fal" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h1>

<p><em _msttexthash="42919942" _msthash="83">このセクションは規範的です。</em></p>

<p _msttexthash="1932883225" _msthash="84">このセクションでは、<em _istranslated="1">フェデレーション保証レベル</em> (FAL) と、各 FAL でフェデレーション トランザクションを保護するための要件を定義します。特定の FAL の要件を満たすために、フェデレーション トランザクションは、その FAL にリストされているすべての要件を満たすか、それを超える<strong class="normative" _istranslated="1">ものとします。</strong></p>

<p _msttexthash="831287236" _msthash="85">各 FAL は、FAL の増加に応じてセキュリティを強化する一連の要件によって特徴付けられます。これらの要件は、ここにリストされ、このドキュメントの他のセクションで拡張されています。</p>

<dl>
  <dt _msttexthash="22695400" _msthash="86">オーディエンス制限</dt>
  <dd _msttexthash="572862030" _msthash="87">フェデレーションプロトコルで提示されるアサーションは特定のRPを対象としており、RPはそれがアサーションの対象ユーザーであることを確認できます。</dd>
  <dt _msttexthash="14017185" _msthash="88">リプレイ保護</dt>
  <dd _msttexthash="283335871" _msthash="89">フェデレーションプロトコルで提示されるアサーションは、複数回提示されないように保護されます。</dd>
  <dt _msttexthash="50633869" _msthash="90">アサーション・インジェクション保護</dt>
  <dd>
    <p _msttexthash="1017548194" _msthash="91">RPは、攻撃者がフェデレーテッド・トランザクションを完了し、偽造、キャプチャ、または変更されたアサーションで認証されたセッションを開始することから強力に保護されています(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#injection-protection" _istranslated="1">第3.11.1項</a>を参照)。</p>
  </dd>
  <dt _msttexthash="23374741" _msthash="92">信託契約の成立</dt>
  <dd _msttexthash="1113235643" _msthash="93">フェデレーショントランザクションにおける当事者の権利と期待は、RPで加入者用の認証されたセッションを作成する目的で、それらの当事者間の信頼をサポートするために確立されます(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#trust-agreement" _istranslated="1">セクション3.5</a>を参照)。</dd>
  <dt _msttexthash="27367262" _msthash="94">識別子とキーの確立</dt>
  <dd _msttexthash="875171206" _msthash="95">IdPとRPは、将来のフェデレーショントランザクション中にアサーションやその他のアーティファクトを検証できるように、識別子と暗号化キーマテリアルを交換しました(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#identifiers-keys" _istranslated="1">セクション3.6</a>を参照)。</dd>
  <dt _msttexthash="16100331" _msthash="96">プレゼンテーション</dt>
  <dd _msttexthash="707154877" _msthash="97">アサーションは、単独で (ベアラー アサーションとして) RP に提示することも、サブスクライバーによって提示されたオーセンティケーターと連携して提示することもできます。</dd>
</dl>

<p _msttexthash="4051674705" _msthash="98"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#table-1" _istranslated="1">表 1 は</a>、各 FAL の要件の非規範的な要約を示しています。連続する各レベルは、下位レベルのすべての要件を包含し、満たします(たとえば、FAL3はこれらの下位レベルの要件をすべて満たすため、FAL3でのフェデレーションプロセスはFAL2またはFAL1で受け入れることができます)。<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#table-1" _istranslated="1">表 1</a> にない組み合わせも可能であり、政府機関は、特定の FAL で 1 つ以上の要件領域でより強力な保護を実装することを選択できます。</p>

<p latex-ignore="true"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#table-1" name="table-1" _msttexthash="44522998" _msthash="99">表 1.フェデレーション保証レベル</a></p>

<table latex-table="1" latex-caption="Federation assurance levels" latex-columns="p@0.20\textwidth,p@0.22\textwidth,p@0.22\textwidth,p@0.22\textwidth">
  <thead>
    <tr>
      <th style="text-align: center" _msttexthash="5305547" _msthash="100">要件</th>
      <th _msttexthash="3903848" _msthash="101">ファル1</th>
      <th _msttexthash="28522" _msthash="102">FAL2</th>
      <th _msttexthash="28652" _msthash="103">FAL3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center" _msttexthash="22695400" _msthash="104">オーディエンス制限</td>
      <td _msttexthash="183064310" _msthash="105">アサーションごとに複数の RP が許可されます。アサーションごとに単一の RP を推奨</td>
      <td _msttexthash="27819428" _msthash="106">アサーションごとに単一の RP</td>
      <td _msttexthash="27819428" _msthash="107">アサーションごとに単一の RP</td>
    </tr>
    <tr>
      <td style="text-align: center" _msttexthash="14017185" _msthash="108">リプレイ保護</td>
      <td _msttexthash="14620372" _msthash="109">RPごとに必要</td>
      <td _msttexthash="6278727" _msthash="110">必須</td>
      <td _msttexthash="6278727" _msthash="111">必須</td>
    </tr>
    <tr>
      <td style="text-align: center" _msttexthash="50633869" _msthash="112">アサーション・インジェクション保護</td>
      <td _msttexthash="40270867" _msthash="113">すべてのトランザクションに推奨</td>
      <td _msttexthash="64422202" _msthash="114">必須;トランザクションは RP で開始されます</td>
      <td _msttexthash="64422202" _msthash="115">必須;トランザクションは RP で開始されます</td>
    </tr>
    <tr>
      <td style="text-align: center" _msttexthash="23374741" _msthash="116">信託契約の成立</td>
      <td _msttexthash="42674931" _msthash="117">加入者主導または事前確立</td>
      <td _msttexthash="17172818" _msthash="118">事前設定済み</td>
      <td _msttexthash="17172818" _msthash="119">事前設定済み</td>
    </tr>
    <tr>
      <td style="text-align: center" _msttexthash="27367262" _msthash="120">識別子とキーの確立</td>
      <td _msttexthash="17429373" _msthash="121">動的または手動</td>
      <td _msttexthash="17429373" _msthash="122">動的または手動</td>
      <td _msttexthash="4495153" _msthash="123">手動</td>
    </tr>
    <tr>
      <td style="text-align: center" _msttexthash="16100331" _msthash="124">プレゼンテーション</td>
      <td _msttexthash="18690061" _msthash="125">ベアラーアサーション</td>
      <td _msttexthash="18690061" _msthash="126">ベアラーアサーション</td>
      <td _msttexthash="116805221" _msthash="127">キー所有者アサーションまたはバインドされたオーセンティケーター</td>
    </tr>
  </tbody>
</table>

<p _msttexthash="1136383664" _msthash="128">さまざまなフェデレーション実装オプションが可能ですが、FAL は、ますます安全な展開オプションを表す明確なガイダンスを提供することを目的としています。最適なFALの選び方については<a href="https://pages.nist.gov/800-63-4/sp800-63.html#introduction" latex-href="#ref-SP800-63" _istranslated="1">、[SP800-63]</a>を参照してください。</p>
<h2 id="falcommon" data-section="2"><font _mstmutation="1" _msttexthash="20825090" _msthash="129">一般的な FAL 要件</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#falcommon" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="323851073" _msthash="130">信託契約または連合取引によってFALが指定されていない場合でも、このセクションの要件が適用されます。</p>

<p _msttexthash="2228509595" _msthash="131">すべてのFALにおいて、すべてのフェデレーショントランザクションは、RPにアサーションを配信し、RPで認証されたセッションを作成するために、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#common" _istranslated="1">第3条</a>の要件に準拠<strong class="normative" _istranslated="1">するものとする(MUST)。</strong>フェデレーション プロトコルで使用されるアサーションの例としては、OpenID Connect <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC" _istranslated="1">[OIDC]</a> の ID トークンや Security Assertion Markup Language <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SAML" _istranslated="1">(SAML)</a> アサーション形式などがあります。</p>

<p _msttexthash="751732059" _msthash="132">すべての FAL において、RP は IdP を信頼して加入者の認証イベントを表す有効なアサーションを提供する必要があるため、RP は IdP からのアサーションを検証<strong class="normative" _istranslated="1">するものとします (SHALL SHOULD</strong>)。</p>

<p _msttexthash="313174173" _msthash="133">連盟のすべての当事者は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#security-controls" _istranslated="1">第 3.11 条</a>で説明されているように、セキュリティ管理を採用<strong class="normative" _istranslated="1">するものとします</strong>。</p>

<p _msttexthash="17795784266" _msthash="134">IdP または RP は、ユースケースとニーズに応じて、複数の FAL で同時に動作させることができます。たとえば、IdP は、一連のリスクの高い機能へのアクセスを提供する RP に FAL3 でのフェデレーション トランザクションを提供すると同時に、リスク プロファイルの低い RP に FAL2 を提供することができます。同様に、RP では、通常のアクションには FAL2 が必要になりますが、RP での影響が大きいアクションや機密性の高いアクションを実行するには、加入者が FAL3 フェデレーション トランザクションを正常に完了する必要があります。IdP は、任意の IAL で証明された加入者アカウントに同時にアクセスし、任意の AAL で認証を許可できるため、この機能は他の次元にも拡張されます。その IdP と通信する RP には、通常、アクセスを受け入れる最低の IAL と AAL に制限があります。その結果、さまざまなユースケースで許可および必要なxALを確立するには、信頼契約が必要です(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#request-xals" _istranslated="1">セクション2.5</a>を参照)。</p>
<h2 id="fal1" data-section="2"><font _mstmutation="1" _msttexthash="33908303" _msthash="135">フェデレーション保証レベル1(FAL1)</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fal1" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="521760525" _msthash="136">FAL1 は、フェデレーション トランザクションの基本的なレベルの保護を提供し、幅広いユースケースとデプロイメントの決定を可能にします。</p>

<p _msttexthash="1075399026" _msthash="137">FAL1 では、フェデレーションプロトコルは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#injection-protection" _istranslated="1">セクション 3.11.1</a> で説明されているように、アサーションインジェクション保護を適用<strong class="normative" _istranslated="1">すべきです(SHOULD</strong>)。フェデレーション トランザクションは RP によって開始<strong class="normative" _istranslated="1">されるべきです (SHOULD)。</strong></p>

<p _msttexthash="2276255371" _msthash="138">FAL1 では、IdP は承認された暗号化を使用してアサーションに署名<strong class="normative" _istranslated="1">するものとします (SHALL )。</strong>RPは、予想されるIdPに関連付けられた検証キーを使用して署名を検証<strong class="normative" _istranslated="1">するものとします(SHALL SHOULD</strong>)。シグネチャは、アサーションの内容の整合性を保護し、IdP をアサーションのソースとして検証できるようにします。</p>

<p _msttexthash="5408791583" _msthash="139">FAL1 では、アサーションは特定の RP または RP のセットにオーディエンス制限される<strong class="normative" _istranslated="1">ものとし</strong>、RP は、それが特定のアサーションのターゲット RP の 1 つであることを検証<strong class="normative" _istranslated="1">するものとします (SHOULD</strong>)。オーディエンスの各 RP は、同じアサーションが特定の RP によって複数回受け入れられないようにするために、アサーションにリプレイ保護メカニズムを適用<strong class="normative" _istranslated="1">するものとします (SHALL SHOULD</strong>)。複数のオーディエンスを持つアサーションは、複数の RP によって受け入れられますが、各 RP によって 1 回しか受け入れられません。</p>

<p _msttexthash="554036561" _msthash="140">FAL1 では、フェデレーション識別子には、ユーザー名、メールアドレス、従業員番号などのプレーンテキストの個人情報を含める<strong class="normative" _istranslated="1">べきではありません。</strong></p>

<p _msttexthash="2042777906" _msthash="141">FAL1 では、信託契約は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#subscriber-driven-trust-agreements" _istranslated="1">第 4.3.2 節</a>で説明されているように、フェデレーション取引中に加入者によって確立<strong class="normative" _istranslated="1">される可能性があります</strong>。あるいは、信託契約は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#pre-established-trust-agreements" _istranslated="1">第4.3.1条</a>で説明されているように、連盟取引(すなわち、「事前に確立された」信託契約)の前に確立<strong class="normative" _istranslated="1">されてもよい(MAY)。</strong></p>
<h2 id="fal2" data-section="2"><font _mstmutation="1" _msttexthash="33908888" _msthash="142">フェデレーション保証レベル2(FAL2)</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fal2" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="2987003409" _msthash="143">FAL2 は、フェデレーテッド トランザクションにアサーションを挿入する試みなど、フェデレーテッド システムに対するさまざまな攻撃に対する追加の保護を要求することで、フェデレーション トランザクションに高レベルの保護を提供します。FAL1 のすべての要件は、ここでより具体的または厳格な要件によって上書きされる場合を除き、FAL2 に適用されます。</p>

<p _msttexthash="1109764929" _msthash="144">FAL2 では、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#injection-protection" _istranslated="1">Sec. 3.11.1</a> で説明されているように、アサーションはアサーション インジェクション攻撃から強力に保護<strong class="normative" _istranslated="1">されるものとします (SHOULD</strong>)。フェデレーション トランザクションは、RP によって開始<strong class="normative" _istranslated="1">されるものとします (SHALL )。</strong></p>

<p _msttexthash="638335724" _msthash="145">FAL2 では、アサーションは 1 つの RP に限定されたオーディエンスである<strong class="normative" _istranslated="1">ものとします (SHALL SHOULD</strong>)。RPは、アサーションでリプレイ保護メカニズムを強制<strong class="normative" _istranslated="1">するものとする(SHOULD</strong>)。</p>

<p _msttexthash="515494759" _msthash="146">FAL2 では、フェデレーション識別子には、ユーザー名、電子メール アドレス、従業員番号などの平文の個人情報が含まれ<strong class="normative" _istranslated="1">てはなりません。</strong></p>

<p _msttexthash="718840148" _msthash="147">FAL2では、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#pre-established-trust-agreements" _istranslated="1">第4.3.1条</a>で説明されているように、連盟取引が行われる前に信託契約(すなわち、「事前に確立された」信託契約)が確立<strong class="normative" _istranslated="1">されるものとします</strong>。</p>

<p _msttexthash="1471578693" _msthash="148">FAL2 以上のアサーションを提示する連邦政府機関によって、または連邦政府機関に代わって運営される IdP は、[<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-FIPS140" _istranslated="1">FIPS140]</a> レベル 1 以上で検証されたメカニズムを使用して、アサーションの生成に使用される署名鍵を保護する<strong class="normative" _istranslated="1">ものとします (SHOULD</strong>)。</p>
<h2 id="fal3" data-section="2"><font _mstmutation="1" _msttexthash="33909473" _msthash="149">フェデレーション保証レベル3(FAL3)</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fal3" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="5221473829" _msthash="150">FAL3 は、フェデレーション トランザクションに対して非常に高いレベルの保護を提供し、フェデレーション トランザクションで通信される情報が CSP および IdP によって確立された情報と一致するという非常に高い信頼性を確立します。また、FAL3 は、RP で加入者による追加の認証を要求することで、IdP が侵害される可能性から保護します。FAL1 および FAL2 のすべての要件は、ここでより具体的または厳格な要件によって上書きされる場合を除き、FAL3 に適用されます。</p>

<p _msttexthash="1945998288" _msthash="151">FAL3 では、RP は、サブスクライバがアサーションに加えてオーセンティケータを制御していることを検証<strong class="normative" _istranslated="1">するものとします (SHOULD</strong>)。このオーセンティケーターは、キー所有者アサーション (<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-managed-bound-authn" _istranslated="1">セクション 3.15</a> を参照) で識別されるか、バインドされたオーセンティケーター (<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#bound-authn" _istranslated="1">セクション 3.16</a> を参照) のいずれかです。</p>

<p _msttexthash="786797193" _msthash="152">FAL3 では、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#pre-established-trust-agreements" _istranslated="1">第 4.3.1 節</a>で説明されているように、フェデレーション取引が行われる前に信託契約 (つまり、「事前に確立された」信託契約) が確立<strong class="normative" _istranslated="1">されるものとします</strong>。</p>

<p _msttexthash="22529442884" _msthash="153">FAL3 では、CSP、IdP、RP の識別子は手動で確立<strong class="normative" _istranslated="1">されるものとします (SHOULD</strong>)。各識別子は、代表される当事者の検証キーに一意に関連付けられ<strong class="normative" _istranslated="1">るものとします(SHOULD</strong>)。検証キーは、信頼契約に示されているように、手動または自動の信頼できるメカニズムを介して送信<strong class="normative" _istranslated="1">されるものとします(SHOULD</strong>)。
たとえば、RP を表す公開鍵証明書は、手動登録プロセス中に IdP にアップロードされます。RP は、IdP の公開鍵のダウンロードに使用できる URL を使用して手動で設定されます。または、IdP と RP がそれぞれそれぞれの公開鍵をフェデレーション機関にアップロードし、同じ場所から互いの鍵をダウンロードすることもできます。加入者制御ウォレットの場合、RP は CSP の公開鍵を表す URL を使用して手動で設定できます。RP はこの公開鍵を取得し、それを使用して、加入者制御ウォレットによって提示される属性バンドルの署名を検証します。キーの確立、管理、ローテーション、失効、および識別子との関連付けの詳細については、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#identifiers-keys" _istranslated="1">セクション 3.6</a> を参照してください。</p>
<h2 id="request-xals" data-section="2"><font _mstmutation="1" _msttexthash="22697389" _msthash="154">xAL の要求と処理</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#request-xals" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="1614375633" _msthash="155">IdP は、さまざまなフェデレーション パラメータを使用して、さまざまなオーセンティケータを使用して、さまざまなサブスクライバの ID をアサートできるため、IAL、AAL、および FAL は、同じ RP であっても、異なるフェデレーション トランザクション間で異なる可能性があります。</p>

<p _msttexthash="22139858013" _msthash="156">IdP は、信頼契約の一部として許容される最小限の xAL のセットを指定する RP のメカニズムを支持<strong class="normative" _istranslated="1">するものとし、</strong>フェデレーション トランザクションの一部として実行時により厳密な最小セットを指定する RP をサポートする<strong class="normative" _istranslated="1">べきです (SHOULD</strong>)。RP が特定の xAL を要求した場合、IdP は可能であればその要求を満たす<strong class="normative" _istranslated="1">べきである (SHOULD</strong>)、または RP の要求された xAL を満たすことができない場合は要求を失敗<strong class="normative" _istranslated="1">させるべきである (SHOULD)。</strong>IdP は、要求が満たされていなくても、常にアサーションで結果の xAL を示す<strong class="normative" _istranslated="1">ものとします (SHALL )。</strong>たとえば、加入者に AAL1 で認証されたアクティブなセッションがあり、RP が AAL2 を要求した場合、IdP は、可能であれば、加入者が IdP で対話している間に IdP でのセッションのセキュリティを強化するために、加入者に AAL2 認証を求める必要があります。IdP は、AAL1 (つまり、ステップアップ認証要求が満たされなかった) または AAL2 (つまり、ステップアップ認証要求が正常に満たされた) であるかどうかにかかわらず、返されたアサーションの一部として結果の AAL を送信します。</p>

<p _msttexthash="237471091" _msthash="157">IdP は、各フェデレーション トランザクションについて次の情報を RP に通知<strong class="normative" _istranslated="1">するものとします (SHOULD)。</strong></p>

<ul>
  <li _msttexthash="225038060" _msthash="158">RP に提示されている加入者アカウントの IAL 、または IAL 要求が行われていないことを示す</li>
  <li _msttexthash="288587442" _msthash="159">IdP でのサブスクライバの現在アクティブなセッションの AAL、または AAL 要求が行われていないことを示す</li>
  <li _msttexthash="45390891" _msthash="160">フェデレーション・トランザクションの FAL</li>
</ul>

<p _msttexthash="7820103993" _msthash="161">RPは、信託契約の条件(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#trust-agreement" _istranslated="1">第3.5条</a>を参照)とアサーションに含まれる情報(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertions" _istranslated="1">第4.9条</a>および<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertion-contents" _istranslated="1">第5.8条</a>を参照)の組み合わせからこのxAL情報を取得します。IdPとRP間のすべてのメッセージでxALが変更されない場合(例えば、すべての加入者が同じIALでID証明され、同じオーセンティケータータイプを使用するエンタープライズシナリオ)、xAL情報は、IdPとRPの間の信頼契約の条件に含まれる<strong class="normative" _istranslated="1">ものとします(SHOULD)。</strong>xAL が信頼契約で指定された可能な値の範囲内にある可能性がある場合、RP が xAL を決定できるように、アサーションの内容の一部として十分な情報を含める<strong class="normative" _istranslated="1">ものとします。</strong></p>

<p _msttexthash="4514362502" _msthash="162">IdP は、特定のフェデレーション トランザクションについて IAL または AAL に対してクレームが行われないことを示し<strong class="normative" _istranslated="1">ても構いません (MAY)。</strong>このような場合、RP によって結果の xAL にデフォルト値は割り当てられません。つまり、信頼契約またはアサーションのいずれかに IAL 宣言がないフェデレーション トランザクションは、機能的に "IAM なし" と見なされ、RP は、アカウントが "IAL1 (このスイートで説明されている最小番号の IAL) を満たしていると想定できません。</p>

<p _msttexthash="24542535667" _msthash="163">RP は、提供された機能へのアクセスに対して受け入れる意思のある最小 IAL、AAL、および FAL を決定し、保護されたリソースへのアクセスを許可する前に、これらの xAL が満たされていることを確認するためにすべての IdP アサーションを評価する<strong class="normative" _istranslated="1">ものとします</strong>。IdP応答が要求されたパラメータを満たさない場合、RPは、これらの要求に対処するためのメカニズムを有<strong class="normative" _istranslated="1">するものとする(例えば</strong>、要求を拒否するか、またはユーザーを例外処理プロセスにルーティングする)。RP は、特定のフェデレーション認証の IAL、AAL、および FAL に基づいて、その機能を変え<strong class="normative" _istranslated="1">ても構いません。</strong>たとえば、RP は、一般的な機能 (例えば、ダムシステムのステータスの表示) のために AAL2 で認証されたフェデレーショントランザクションを許可することができますが、よりリスクの高い機能 (例えば、ダムシステムの流量の変更) には AAL3 を使用する必要があります。同様に、RP は、リスクの高い機能 (機密情報へのアクセスなど) を IAL2 で ID 証明された特定の加入者アカウントのみに制限し、IAL に関係なく、すべての加入者アカウントに基本的な機能を許可することができます。</p>

<p _msttexthash="12355895734" _msthash="164">フェデレーション プロセスでは、RP は、CSP によって IdP に提供されたサブスクライバ アカウントの詳細に直接アクセスできず、その詳細によってサブスクライバ アカウントの IAL が決まります。また、RP は IdP での認証イベントやアクティベーション イベントに参加しないため、RP は AAL を判別できません。RP は、FAL を決定するフェデレーション トランザクションの多くの側面を確認しますが、IdP が意図したフェデレーション トランザクションの FAL を RP に通知するなど、FAL に関連する独自の責任もあります。したがって、IdP は、各フェデレーション トランザクションの IAL、AAL、および IdP が意図する FAL を決定するのに十分な情報を RP に提供<strong class="normative" _istranslated="1">するものとします (SHOULD</strong>)。これは、アサーション、信託契約の事前の取り決め、または両方の組み合わせで行う<strong class="normative" _istranslated="1">ことができます</strong>。</p>

<p _msttexthash="3332076995" _msthash="165">RPは、トランザクションで宣言されたFALのフェデレーショントランザクションにおける義務を果たすことを保証する<strong class="normative" _istranslated="1">ものとします(MUST)。</strong>たとえば、RP は、プレゼンテーション方法が FAL2 以降のアサーション インジェクション保護要件を満たしていること、および適切なキー所有者の証明またはバインドされた認証子が FAL3 で提示されていることを確認する必要があります。</p>

<h1 id="common" data-section="3"><font _mstmutation="1" _msttexthash="43252586" _msthash="166">一般的なフェデレーション要件</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#common" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h1>

<p><em _msttexthash="42919942" _msthash="167">このセクションは規範的です。</em></p>

<p _msttexthash="3325847980" _msthash="168">フェデレーション トランザクションを使用すると、加入者は IdP に認識されている加入者アカウントに基づいて RP との認証済みセッションを確立できます。フェデレーション・トランザクションは、認証されたセッションに関連付けられた一連の ID 属性を RP に提供することもできます。認証されたセッションは、次のようなユースケースをサポートするアクティビティにRPによって使用できます。</p>

<ul>
  <li _msttexthash="95400058" _msthash="169">RP の機能にアクセスするためのサブスクライバへのログイン</li>
  <li _msttexthash="82488705" _msthash="170">提示された属性に基づくサブスクライバーの識別</li>
  <li _msttexthash="179162789" _msthash="171">フェデレーション・トランザクションで提示されたサブスクライバー属性の処理</li>
</ul>

<p _msttexthash="2538068598" _msthash="172">フェデレーション トランザクションには、微妙なセキュリティとプライバシーの特性を備えた比較的複雑なマルチパーティ プロトコルが必要です。特定のフェデレーションプロトコル、プロファイル、またはデプロイ構造を評価する場合、多くの場合、それをコンポーネント関係に分割し、それぞれのニーズを評価することが有益です。</p>

<ul>
  <li _msttexthash="20472998" _msthash="173">CSP のサブスクライバー</li>
  <li _msttexthash="5870462" _msthash="174">CSP から IdP へ</li>
  <li _msttexthash="20475312" _msthash="175">IdP のサブスクライバー</li>
  <li _msttexthash="5694936" _msthash="176">IdP から RP へ</li>
  <li _msttexthash="16233269" _msthash="177">RP のサブスクライバ</li>
</ul>

<p _msttexthash="5448214343" _msthash="178">さらに、加入者は多くの場合、ユーザーエージェント(Webブラウザなど)を介してCSP、IdP、およびRPと対話し、その結果、フェデレーションプロセスに関与します。これらのガイドライン全体で説明されている加入者のアクションは、オプションでユーザーエージェントを介して実行できますが、ユーザーエージェントは、すべてのタイプのアプリケーションおよびインタラクション(ネイティブアプリケーションなど)に必要ではありません。必要に応じて、ユーザーエージェントの要件が直接呼び出されます。</p>

<p _msttexthash="651110343" _msthash="179">フェデレーションプロトコルの各当事者は、フェデレーションシステムが意図したとおりに機能するために満たす必要がある特定の責任と期待を負います。</p>

<p _msttexthash="324280606" _msthash="180">フェデレーション・トランザクションは、次の 3 つの個別の要素で構成されますが、関連する要素です。</p>

<dl>
  <dt _msttexthash="12381382" _msthash="181">信託契約:</dt>
  <dd _msttexthash="837076448" _msthash="182">CSP、IdP、および RP がフェデレーションの目的で接続できるようにするポリシー決定の確立。このポリシーは、接続の権限を確立する一連の条件によって管理されます。</dd>
  <dt _msttexthash="27379326" _msthash="183">識別子とキーの確立:</dt>
  <dd _msttexthash="913736525" _msthash="184">フェデレーション トランザクションに参加する CSP、IdP、RP の暗号化キーと識別子の関連付け。このプロセスにより、当事者は将来の交換のために安全に互いを識別できるようになります。</dd>
  <dt _msttexthash="27485731" _msthash="185">フェデレーションプロトコル:</dt>
  <dd _msttexthash="790624809" _msthash="186">IdP による加入者の ID の検証と、その後の RP へのアサーションの発行。これにより、加入者属性が RP に渡され、RP で加入者に対して認証されたセッションが確立されます。</dd>
</dl>

<p _msttexthash="1433278080" _msthash="187">フェデレーションプロセスを完了するには、これらの要素をすべて満たす必要があります。それが行われる正確な順序と、どの関係者がどのステップに関与するかは、展開モデル、プロトコルの選択、およびその他の要因によって異なります。</p>
<h2 id="federation-models" data-section="3"><font _mstmutation="1" _msttexthash="21462168" _msthash="188">フェデレーション モデル</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#federation-models" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="9894734720" _msthash="189">これらのガイドラインは、汎用 IdP と加入者制御ウォレットの 2 つのフェデレーション モデルの要件を提供します。加入者制御のウォレットは、加入者によって制御されるデバイス、または加入者に代わって操作されるリモートホストシステムでホストできます。モデルは一般に、サブスクライバー アカウントの内容をフェデレーション システムで使用できるようにする方法によって区別されます。汎用 IdP では、サブスクライバー アカウントの全部または一部は、通常サブスクライバーが関与しないアクションを通じて CSP によって使用可能になります。サブスクライバー制御ウォレットでは、サブスクライバーアカウントは、属性バンドルの発行を通じてCSPによって利用可能になります。</p>

<p _msttexthash="5757386752" _msthash="190">組織がホストするマルチアカウント ID プロバイダーなど、汎用 IdP に固有の要件については、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#GenIdP" _istranslated="1">セクション 4</a> で説明します。オンデバイスデジタルウォレットソフトウェアやクラウドホストウォレットプロバイダーなど、加入者が管理するウォレットに固有の要件については、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#wallet" _istranslated="1">セクション5</a>で説明します。<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#common" _istranslated="1">セクション 3</a> の一般要件を含む他のすべての要件は、特に指定がない限り、両方のモデルに適用されます。フェデレーションシステムのさまざまなモデルは、さまざまな方法で信頼と情報の要件を満たします。</p>

<p _msttexthash="2469593178" _msthash="191"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#table-2" _istranslated="1">表 2 は</a>、フェデレーテッド システムのさまざまなモデルに対する要件の非規範的なリストを示し、IdP からのアサーションまたは CSP からの属性バンドルのいずれかでコア情報が伝達される場所を示しています。フェデレーション実装に両方のモデルの側面がある場合は、問題のセクションの関連部分が適用されます。</p>

<p></p>

<p latex-ignore="true"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#table-2" name="table-2" _msttexthash="30014998" _msthash="192">表 2.フェデレーション モデル</a></p>

<table latex-table="2" latex-caption="Federation models" latex-columns="p@0.20\textwidth,p@0.17\textwidth,p@0.18\textwidth,p@0.28\textwidth">
  <thead>
    <tr>
      <th style="text-align: center" _msttexthash="5305547" _msthash="193">要件</th>
      <th _msttexthash="4670588" _msthash="194">場所</th>
      <th _msttexthash="5675215" _msthash="195">汎用 IdP</th>
      <th _msttexthash="30392557" _msthash="196">加入者管理のウォレット</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center" _msttexthash="28485613" _msthash="197">IdP 発行者識別子</td>
      <td _msttexthash="4357249" _msthash="198">主張</td>
      <td _msttexthash="6278727" _msthash="199">必須</td>
      <td _msttexthash="6091501" _msthash="200">随意</td>
    </tr>
    <tr>
      <td style="text-align: center" _msttexthash="28485613" _msthash="201">IdP 発行者識別子</td>
      <td _msttexthash="11542323" _msthash="202">属性バンドル</td>
      <td _msttexthash="6091501" _msthash="203">随意</td>
      <td _msttexthash="6091501" _msthash="204">随意</td>
    </tr>
    <tr>
      <td style="text-align: center" _msttexthash="12648103" _msthash="205">IdP 検証キー</td>
      <td _msttexthash="11542323" _msthash="206">属性バンドル</td>
      <td _msttexthash="6091501" _msthash="207">随意</td>
      <td _msttexthash="6278727" _msthash="208">必須</td>
    </tr>
    <tr>
      <td style="text-align: center" _msttexthash="23657764" _msthash="209">サブジェクト識別子</td>
      <td _msttexthash="4357249" _msthash="210">主張</td>
      <td _msttexthash="6278727" _msthash="211">必須</td>
      <td _msttexthash="6091501" _msthash="212">随意</td>
    </tr>
    <tr>
      <td style="text-align: center" _msttexthash="23657764" _msthash="213">サブジェクト識別子</td>
      <td _msttexthash="11542323" _msthash="214">属性バンドル</td>
      <td _msttexthash="6091501" _msthash="215">随意</td>
      <td _msttexthash="209916954" _msthash="216">エフェメラルプロビジョニングまたはアカウント解決が使用されていない限り必須</td>
    </tr>
    <tr>
      <td style="text-align: center" _msttexthash="28483299" _msthash="217">CSP 発行者識別子</td>
      <td _msttexthash="11542323" _msthash="218">属性バンドル</td>
      <td _msttexthash="6278727" _msthash="219">必須</td>
      <td _msttexthash="6278727" _msthash="220">必須</td>
    </tr>
  </tbody>
</table>

<p></p>
<h2 id="roles" data-section="3"><font _mstmutation="1" _msttexthash="4419155" _msthash="221">役割</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#roles" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<h3 id="credential-service-provider-csp" data-section="3"><font _mstmutation="1" _msttexthash="37164673" _msthash="222">資格情報サービス プロバイダー (CSP)</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#credential-service-provider-csp" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="1811262882" _msthash="223">CSP は、サブスクライバから属性を収集して検証し、サブスクライバ アカウントに保存します。また、CSP は 1 つ以上のオーセンティケーターをサブスクライバー アカウントにバインドし、サブスクライバーがオーセンティケーターを検証できるシステムに対して直接認証できるようにします。</p>

<p _msttexthash="2206290762" _msthash="224">CSP は、フェデレーション トランザクションで使用するために、属性、派生属性値、または属性バンドルを IdP に提供します。特に、CSPは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#scidp-provisioning" _istranslated="1">Sec.5.1</a>で説明されているように、署名付き属性バンドルを加入者制御のウォレットに発行して、ウォレットがフェデレーションプロセスでIdPとして機能できるようにします。</p>
<h3 id="identity-provider-idp" data-section="3"><font _mstmutation="1" _msttexthash="11299587" _msthash="225">ID プロバイダー (IdP)</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#identity-provider-idp" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="2118562394" _msthash="226">IdP は、加入者アカウント(CSP によって確立された)と加入者がアクセスしている RP との間にブリッジを提供します。IdP は、複数の加入者アカウントのサービスとして、または加入者のデバイス上の加入者制御ウォレットなど、単一の加入者によって制御されるコンポーネントとして展開できます。</p>

<p _msttexthash="1443017160" _msthash="227">IdPは、オーセンティケーターの検証(汎用IdPの場合)またはアクティベーションファクターの提示(加入者制御ウォレットの場合)を通じて、加入者との認証イベントを確立します。IdP は、認証イベントを表すアサーションを作成します。</p>

<p _msttexthash="457669914" _msthash="228">IdP は、CSP からサブスクライバー アカウントを、以下を含むがこれらに限定されないフェデレーション固有の項目で拡張します。</p>

<ul>
  <li _msttexthash="212642209" _msthash="229">フェデレーションプロトコルで使用するための 1 つ以上の外部フェデレーション識別子</li>
  <li _msttexthash="671088899" _msthash="230">どの RP がサブスクライバ アカウントのどの属性にアクセスできるかを詳細に示す一連のアクセス権 (許可リストやサブスクライバによる保存されたランタイム決定など)</li>
  <li _msttexthash="59253571" _msthash="231">フェデレーション アカウントの使用情報</li>
  <li _msttexthash="212855929" _msthash="232">IdP によって収集された、またはIdP によってアカウントに割り当てられた追加の属性</li>
</ul>

<p _msttexthash="370020235" _msthash="233">IdPは、アサーション内またはID APIを介して、サブスクライバーのID属性を利用できるようにします(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#s-identity-api" _istranslated="1">セクション3.12.3</a>を参照)。</p>

<p><em _msttexthash="123039904" _msthash="234">一部のシステムでは、これはオファリングパーティ (OP) とも呼ばれます。</em></p>
<h3 id="relying-party-rp" data-section="3"><font _mstmutation="1" _msttexthash="21203078" _msthash="235">証明書利用者(RP)</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#relying-party-rp" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="1303686423" _msthash="236">RP は IdP からのアサーションを処理し、加入者がアクセスしようとしているサービスを提供します。直接認証モデルとは異なり、RP は加入者アカウントに関連付けられているオーセンティケータに検証者機能を提供しません。</p>

<p _msttexthash="5073238950" _msthash="237">ID 属性は、アサーションまたは ID API を介して、フェデレーション プロセスを通じて RP で使用できるようにすることができます (<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#s-identity-api" _istranslated="1">セクション 3.12.3</a> を参照)。これらの属性は、属性ベースのアクセス制御 (ABAC) のアクセス権限の決定や、トランザクションの促進 (配送先住所の提供など) によく使用されます。承認とアクセス制御の詳細は、これらのガイドラインの範囲外です。アサーションに必要な属性の要件は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertions" _istranslated="1">セクション4.9</a>および<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertion-contents" _istranslated="1">セクション5.8</a>に記載されています。</p>

<p _msttexthash="1326117091" _msthash="238">これらの属性を保持および管理するために、RP は多くの場合、サブスクライバを表す <em _istranslated="1">RP サブスクライバ アカウント</em>を維持します。RP サブスクライバ アカウントには、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-account" _istranslated="1">セクション 3.8</a> で説明されているように、RP 自体にローカルな情報が含まれています。</p>

<p><em _msttexthash="123065904" _msthash="239">一部のシステムでは、これはサービス プロバイダー (SP) とも呼ばれます。</em></p>
<h2 id="functions" data-section="3"><font _mstmutation="1" _msttexthash="6186518" _msthash="240">関数</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#functions" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<h3 id="trust-agreement-management" data-section="3"><font _mstmutation="1" _msttexthash="21532407" _msthash="241">信託契約管理</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#trust-agreement-management" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="9812320843" _msthash="242">フェデレーショントランザクションの条件を定義する信頼契約(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#trust-agreement" _istranslated="1">セクション3.5</a>を参照)は、RPとIdPが相互に接続するためのペアワイズ契約を締結したり、加入者がIdPからRPとIDを共有することを決定したりするなど、関係者によって直接確立および管理できます。他の状況では、信頼契約は<em _istranslated="1">、フェデレーション機関</em>と呼ばれる専用のパーティを通じて管理できます。連邦当局は、信託契約内でさまざまな役割と機能を果たす当事者のオンボーディングと管理を容易にします。連邦当局の機能は、契約の当事者がペアごとの信頼の決定を行うことなく、契約の当事者が相互に信頼するための基礎を提供します。</p>

<p _msttexthash="8870380194" _msthash="243">たとえば、フェデレーション機関によって管理される信頼契約に参加する RP は、そのフェデレーション機関によって承認された IdP がその目的に適していると判断できます。または、RP は、RP の特定のアプリケーションのニーズに基づいて、フェデレーション機関によって承認された IdP のサブセットを選択することもできます。RP が参加したときに特定の IdP がマネージド信頼アグリーメントの一部でなかった場合、RP は新しく追加された IdP を信頼することで、フェデレーション機関の継続的な管理の恩恵を受けることができます。連邦当局は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#authorities" _istranslated="1">第 3.5.2 節</a>で説明されているように、多国間信託協定で使用されます。</p>
<h3 id="authorized-party" data-section="3"><font _mstmutation="1" _msttexthash="24478311" _msthash="244">権限のある当事者</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#authorized-party" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="8738696720" _msthash="245">信託契約の<em _istranslated="1">権限のある当事者は</em>、加入者属性のリリースを含む、信託契約の対象となる特定のリリース決定に責任を負う組織、個人、またはエンティティです。信託契約には、予想される権限のある当事者が誰であるか、および要求が自動的に許可されるか、自動的に拒否されるか、または個人からの実行時の決定を必要とするパラメーターが規定されています。一般向けのシナリオでは、承認されたパーティがサブスクライバーになることが期待されます。属性の解放に対する加入者の同意は、多くの場合、フェデレーション トランザクション中の明示的な同意プロセスを通じて収集されます (<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-runtime-decision" _istranslated="1">セクション 4.6.1.3</a> を参照)。</p>

<p _msttexthash="2300586938" _msthash="246">エンタープライズ シナリオでは、承認されたパーティが組織であることが期待されます。属性のリリースへの同意は、すべての加入者に代わって組織によって決定され、この同意は許可リスト (<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-allowlist" _istranslated="1">セクション 4.6.1.1</a> を参照) によって表され、加入者による直接の決定や関与なしに ID 属性の開示を可能にします。</p>

<p _msttexthash="114898641" _msthash="247">さまざまな権限のある当事者の例は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#authorized-party-example" _istranslated="1">セクション9.10</a>にあります。</p>
<h3 id="proxied" data-section="3"><font _mstmutation="1" _msttexthash="34079981" _msthash="248">プロキシされたフェデレーション</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#proxied" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="11610569165" _msthash="249">一部のアーキテクチャでは、IdP と RP は相互に直接通信しません。フェデレーション<em _istranslated="1">プロキシ</em>は、フェデレーションプロトコル内のすべての通信について、IdPとRPの間の仲介者として機能します。プロキシは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-1" _istranslated="1">図1</a>に示すように、上流側ではRP、下流側ではIdPとして機能します。プロキシを介して通信する場合、アップストリーム IdP とダウンストリーム RP は標準のフェデレーション プロトコルを使用してプロキシと通信し、加入者は 2 つの個別のフェデレーション トランザクションに参加します。その結果、IdP と RP に適用されるすべての規範的要件は、それぞれの側でそれぞれの役割を持つ代理人に適用される<strong class="normative" _istranslated="1">ものとします (MUST)。</strong>さらに、プロキシは、チェーンシナリオでダウンストリームプロキシへのアップストリーム IdP として機能できます。</p>

<p latex-ignore="true"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-3" name="fig-1" _msttexthash="32258018" _msthash="250">図1.フェデレーション プロキシ</a></p>

<p><img src="./sp800-63c_files/proxy.png" alt="アップストリーム IdP からのアサーションを受け入れ、ダウンストリーム RP にアサーションを提供するフェデレーション プロキシの図。" title="Federation proxy" latex-src="proxy.pdf" latex-fig="1" latex-place="h" _mstalt="7599020" _msthash="251"></p>

<p _msttexthash="8331403197" _msthash="252">プロキシの役割は、フェデレーションプロトコルに限定されます。上流の IdP と下流の RP 間の信頼契約の確立または促進には関与しません。同じ当事者がフェデレーション機関とプロキシを運用してフェデレーショントランザクションを容易にすることはできますが、プロキシ機能は、信頼契約の管理におけるフェデレーション機関の役割とは別のものです。フェデレーションシステムの他のメンバーと同様に、プロキシは、アップストリームおよびダウンストリームの各コンポーネントと個別の信頼契約に関与することも、多国間契約など、単一の信頼契約をすべての当事者に適用することもできます。</p>

<p _msttexthash="2673958209" _msthash="253">ダウンストリーム RP は、他の IdP からのアサーションと同様に、プロキシによって生成されたアサーションを受信して検証します。このアサーションは、プロキシーがアップストリーム IdP から受信するアサーションに基づいています。アップストリーム IdP からのアサーションの内容は、プロキシで使用されるメソッドに応じて、いくつかの方法で処理できます。</p>

<ul>
  <li _msttexthash="1552326919" _msthash="254">プロキシは、アップストリーム IdP からのアサーションからの情報なしで新しいアサーションを作成できます。このパターンは、ダウンストリーム RP を盲目化して、RP がサブスクライバが元々どのアップストリーム IdP から来たかを認識できないようにするのに役立ちます。</li>
  <li _msttexthash="828551334" _msthash="255">プロキシは、アップストリーム IdP のアサーションからプロキシのアサーションに属性をコピーできます。このパターンは、アサーションの ID 属性をダウンストリーム RP に運ぶ場合に役立ちます。</li>
  <li _msttexthash="1150365346" _msthash="256">プロキシは、アップストリーム IdP からのアサーション全体をプロキシからのアサーションに含めることができます。このパターンにより、RP はアップストリーム IdP からのアサーションとプロキシからのアサーションを個別に検証できます。</li>
</ul>

<p _msttexthash="464850958" _msthash="257">プロキシからのアサーションのフェデレーション識別子(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#federated-identifier" _istranslated="1">第3.4条</a>を参照)は、プロキシをアサーションの発行者として示す<strong class="normative" _istranslated="1">ものとする(SHOULD)。</strong></p>

<p _msttexthash="28740636704" _msthash="258">プロキシされたフェデレーション モデルには、いくつかの利点があります。フェデレーション プロキシは、統合のための共通インターフェイスを提供し、フェデレーション プロトコル、形式、スキーマ間の変換を提供することで、RP と IdP 間の技術的統合を簡素化できます。さらに、プロキシが RP と IdP を相互に効果的に盲目にする限り、加入者リストを相互に保護したい組織にある程度のビジネス機密性を提供できます。プロキシは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#privacy-reqs" _istranslated="1">第 3.10 条</a>に記載されているプライバシー リスクの一部を軽減することもできますが、加入者情報の処理には追加の当事者が関与するようになったため、プロキシの使用から他のリスクが生じます。たとえば、攻撃者がプロキシを侵害できる場合、その情報はすべてプロキシを経由するため、攻撃者は加入者の属性やアクティビティにアクセスするために IdP または RP を直接標的にする必要はありません。さらに、プロキシは、当事者間のフェデレーショントランザクションを仲介し、加入者アカウントを接続のどちらかの側にバインドするため、プロキシは、IdPとRPが実行できる以上の追加のプロファイリング(つまり、加入者がどのRPでどのIDを使用しているかに関する情報の集計)をサブスクライバに実行できます。</p>

<p _msttexthash="239635968" _msthash="259">盲検化技術、その使用法、および制限の詳細については、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#blinding" _istranslated="1">セクション 7.5</a> を参照してください。</p>

<p _msttexthash="6881527367" _msthash="260">プロキシとダウンストリーム RP 間の接続の FAL は、パス全体に沿って最も低い FAL と見なされ、プロキシはこれをダウンストリーム RP に正確に表<strong class="normative" _istranslated="1">すものとします (SHOULD</strong>)。たとえば、アップストリーム IdP とプロキシ間の接続が FAL1 であり、プロキシとダウンストリーム RP 間の接続が FAL2 の要件を満たしている場合、プロキシとダウンストリーム RP 間の接続は引き続き FAL1 と見なされます。同様に、アップストリーム IdP とプロキシ間の接続が FAL2 で、プロキシとダウンストリーム RP 間の接続が FAL1 のみの場合、プロキシを介した全体的な接続は FAL1 と見なされます。</p>

<p _msttexthash="1181844144" _msthash="261">加入者制御のウォレットは、プロキシとして機能する可能性があります。そのためには、ウォレットソフトウェアが他のプロキシと同様に外部IdPのRPとして機能し、それらの属性をダウンストリームRPに提供する必要があります。</p>

<p><em _msttexthash="93909907" _msthash="262">一部のシステムでは、プロキシはブローカーと呼ばれます。</em></p>
<h3 id="fulfilling-roles-and-functions-of-a-federation-model" data-section="3"><font _mstmutation="1" _msttexthash="84596070" _msthash="263">フェデレーションモデルの役割と機能の遂行</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fulfilling-roles-and-functions-of-a-federation-model" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="1547783302" _msthash="264">フェデレーション トランザクションの役割はさまざまな方法で接続できますが、これらのガイドラインではいくつかの一般的なパターンが想定されます。予想される信頼契約構造とコンポーネント間の接続は、使用されているパターンによって異なります。</p>

<p _msttexthash="1130194234" _msthash="265">さまざまな役割と機能は、相互に統合する個別の当事者によって果たすことができます。たとえば、CSP は、CSP と同じ関係者または組織によって運用されていない IdP にサブスクライバー アカウントの属性を提供できます。</p>

<p _msttexthash="4383903225" _msthash="266">また、1 つの当事者が特定の連邦契約内で複数の役割を果たすこともできます。たとえば、CSP が ID サービスの一部として IdP を提供する場合、CSP は加入者アカウントの確立プロセスの一部として IdP で加入者アカウントをプロビジョニングできます。同様に、RP は IdP と同じセキュリティおよび管理ドメインに存在しつつも、フェデレーション テクノロジを使用して接続し、技術、展開、およびアカウント管理の利点を得ることができます。</p>

<p _msttexthash="6649838624" _msthash="267">フェデレーション機関やプロキシなど、フェデレーションシステム全体の他の機能についても同じことが言えます。役割は似ているように見えるかもしれませんが、基本的には異なるものであり、接続する必要はありません。フェデレーション機関は当事者間の信頼契約の確立を容易にし、プロキシはフェデレーションプロトコルの接続を容易にします。同じエンティティがシステム内のフェデレーション権限とプロキシ機能の両方を果たすことができ、IdP と RP の間に信頼契約と技術的接続の両方を確立する手段を提供します。</p>
<h2 id="federated-identifier" data-section="3"><font _mstmutation="1" _msttexthash="30141839" _msthash="268">フェデレーテッド識別子</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#federated-identifier" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="1937255424" _msthash="269">加入者は、アサーション内の情報によってフェデレーション トランザクションで識別され、これにより RP はアサーションを RP 加入者アカウントに関連付けることができます。この識別は、アカウント解決プロセス(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#account-resolution" _istranslated="1">セクション3.8.2</a>を参照)または<em _istranslated="1">フェデレーション識別子</em>を介して行うことができます。</p>

<p _msttexthash="1690282035" _msthash="270">汎用 IdP の場合、フェデレーテッド ID は、サブスクライバ アカウントを表すサブジェクト ID と IdP を表す発行者 ID の論理的な組み合わせです。サブジェクト識別子は IdP によって割り当てられ、発行者識別子は通常、設定を通じて IdP に割り当てられます。</p>

<p _msttexthash="6976255832" _msthash="271">加入者制御ウォレットの場合、フェデレーテッド識別子は、加入者アカウントを表す加入者識別子と、属性バンドルを発行した CSP を表す発行者識別子の論理的な組み合わせです。サブジェクト識別子は CSP によって割り当てられ、発行者識別子は通常、構成を通じて CSP に割り当てられます。ただし、たとえば、通常、運転免許証番号と運転免許証の発行者を使用してアカウント解決が行われるモバイル運転免許証の場合、これらは常に利用できるとは限りません。このようなパターンについては、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#account-resolution" _istranslated="1">セクション 3.8.2</a> で対処します。</p>

<p _msttexthash="18595667974" _msthash="272">異なる IdP がサブジェクト ID を個別に管理し、異なるサブジェクトのサブジェクト ID の選択で競合する可能性があるため、マルチパート フェデレーション ID パターンが必要です。したがって、RP は、サブジェクト ID を発行した IdP を考慮せずにサブジェクト ID を処理しないことが不可欠です。ほとんどのユースケースでは、フェデレーション識別子は複数のセッションにわたってサブスクライバーに対して安定しており、使用されるオーセンティケーターとは無関係であるため、RP は複数の認証されたセッションとアカウントの変更にわたってサブスクライバーを確実に識別できます。ただし、RP でのフェデレーテッド ID とそれに関連する使用を一時的にして、プライバシーを強化することもできます。フェデレーション識別子とその構成要素は、ユーザー名やその他の人間向け識別子とは異なり、機械で読み取り可能であり、サブスクライバーによって管理されたり、サブスクライバーに公開されたりすることはありません。</p>

<p _msttexthash="1006447507" _msthash="273">フェデレーテッド識別子が使用される場合、フェデレーテッド識別子は、そのサブスクライバに固有である<strong class="normative" _istranslated="1">ものとします(SHOULD)。</strong>
フェデレーション識別子は、RP の 1 つの加入者に関連付けられ<strong class="normative" _istranslated="1">るものとします (SHOULD</strong>)。</p>

<p _msttexthash="3010762560" _msthash="274">フェデレーション識別子には、ユーザー名、電子メールアドレス、従業員番号などのプレーンテキストの個人情報が含まれていないことをお勧めします。この制限は、FAL2 以上での要件です。フェデレーションプロセスがアカウント解決を使用する場合(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#account-resolution" _istranslated="1">セクション3.8.2</a>を参照)、RPサブスクライバアカウントは、フェデレーション識別子を使用せずにRPによって解決できます。</p>

<blockquote>
  <p _msttexthash="2456186265" _msthash="275">フェデレーテッド ID は論理的な概念であり、通常、サブジェクト ID および発行者 ID とは異なる明示的な値ではありません。代わりに、フェデレーテッド識別子は、サブスクライバーが一意に区別され、異なる IdP によって提供されるサブジェクト識別子間に競合がないことを保証するために必要な情報で構成されます。</p>
</blockquote>
<h3 id="ppi" data-section="3"><font _mstmutation="1" _msttexthash="29622216" _msthash="276">ペアワイズ仮名識別子 (PPI)</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ppi" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="3788447988" _msthash="277">状況によっては、共通のサブジェクト識別子を使用して、加入者アカウントが複数のRPで容易にリンクされないようにすることが望ましい。ペアワイズ仮名識別子(PPI)を使用すると、IdP は 1 つの加入者アカウントに対して複数の異なるフェデレーション識別子を異なる RP に提供できます。PPI を使用すると、異なる RP が共謀して、フェデレーテッド識別子を使用して加入者を追跡するのを防ぎます。</p>
<h4 id="general-requirements" data-section="3"><font _mstmutation="1" _msttexthash="18630911" _msthash="278">一般的な要件</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#general-requirements" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h4>

<p _msttexthash="983713536" _msthash="279">RPに対してIdPによって生成されたアサーション内でペアワイズ仮名識別子を使用する場合、IdPは、RPごとに異なるフェデレーテッド識別子を生成する<strong class="normative" _istranslated="1">もの(Shall shall shall the set</strong> of RP (Sec<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ppi-gen" _istranslated="1">. 3.4.1.2</a> 参照)または RP のセット (<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ppi-shared" _istranslated="1">Sec. 3.4.1.3</a> 参照)。</p>

<p _msttexthash="14877452928" _msthash="280">名前、住所、電話番号、電子メール アドレスなどの一部の ID 属性を使用して、フェデレーション トランザクションの外部でサブスクライバーを識別できます。PPI をこれらの種類の識別属性と一緒に使用しても、複数の共謀 RP がシステム間の相関関係によって加入者を再識別できる可能性があります。たとえば、2 つの独立した RP がそれぞれ異なる PPI で識別される同じ加入者を認識した場合、RP は、それぞれのアサーションで PPI と一緒に運ばれる名前、電子メール アドレス、物理アドレス、またはその他の識別属性を比較することで、加入者が同一人物であると判断できます。PPIが識別属性とともに使用される場合、RPは、適用される法的および規制上の要件と一致する加入者データの相関関係を防止するためのプライバシーポリシー、プロセス、および手順を確立<strong class="normative" _istranslated="1">するものとします</strong>。</p>

<p _msttexthash="14058707234" _msthash="281">プロキシされたフェデレーションモデル(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#proxied" _istranslated="1">セクション3.3.3</a>を参照)では、プロキシが加入者によってどのRPにアクセスしているかをIdPが認識できない可能性があるため、アップストリームIdPはダウンストリームRPのPPIを生成できない可能性があります。このような状況では、PPI は通常、IdP とフェデレーション プロキシーの間に確立されます。プロキシは IdP として機能し、ダウンストリーム RP に PPI を提供できます。プロトコルによっては、フェデレーション プロキシは、ID プロトコルを機能させるために、アップストリーム IdP の関連識別子に PPI をマッピングし直す必要がある場合があります。このような場合、プロキシは、異なる RP で同じ加入者を表す PPI を追跡および決定できます。PPIの他の識別子へのマッピングは、加入者情報と見なされ、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#transmit-subscriber-info" _istranslated="1">第3.10.1条</a>の要件に従って扱<strong class="normative" _istranslated="1">われるものとします(SHOULD)。</strong></p>
<h4 id="ppi-gen" data-section="3"><font _mstmutation="1" _msttexthash="45501391" _msthash="282">ペアワイズ仮名識別子の生成</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ppi-gen" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h4>

<p _msttexthash="6157441901" _msthash="283">PPIには、加入者に関する識別情報(ユーザー名、電子メールアドレス、従業員番号など)が含まれていない<strong class="normative" _istranslated="1">ものとします</strong>。PPIは、<strong class="normative" _istranslated="1"></strong>加入者に関する情報にアクセスできる当事者が推測することを困難にし、攻撃者が推測できないほどの十分なエントロピーを提供する<strong class="normative" _istranslated="1">ものとする(MUST)。</strong>PPIは、ランダムに生成され、IdPによって加入者に割り当てられるか、または、導出が不可逆的で推測不可能な方法で行われる場合(例えば、[<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SP800-131A" _istranslated="1">SP800-131A]</a>で説明されているように、秘密鍵を持つキー付きハッシュ関数を使用する)。</p>

<p _msttexthash="338609700" _msthash="284">PPIが信託契約によって共有されていると指定されていない限り、PPIは単一のRPにのみ開示<strong class="normative" _istranslated="1">されるものとします。</strong></p>
<h4 id="ppi-shared" data-section="3"><font _mstmutation="1" _msttexthash="38974624" _msthash="285">共有ペアワイズ仮名識別子</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ppi-shared" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h4>

<p _msttexthash="255859487" _msthash="286">以下の基準がすべて満たされている場合、同じ共有PPIを特定のRPセットに使用する<strong class="normative" _istranslated="1">ものとします(SHALL SHOULD</strong>)。</p>

<ul>
  <li _msttexthash="123709443" _msthash="287">信託契約では、特定の RP セットの共有 PPI が規定されています。</li>
  <li _msttexthash="142545780" _msthash="288">権限のある当事者は、共有 PPI の使用に同意し、通知されます。</li>
  <li _msttexthash="661623287" _msthash="289">これらの RP には、共有セキュリティー・ドメインや共有法的所有権など、相関関係の運用上の必要性を正当化する実証可能な関係があります。</li>
  <li _msttexthash="831550265" _msthash="290">共有 PPI のセット内のすべての RP は、そのような方法で相関されることに同意します (つまり、ある RP は、他の RP の知識と同意なしに、別の RP の PPI を持つことを要求することはできません)。</li>
</ul>

<p _msttexthash="1079451828" _msthash="291">RPは、共有PPIの要求に関連するプライバシーリスクを考慮して、プライバシーリスク評価を実施<strong class="normative" _istranslated="1">するものとします(SHOULD</strong>)。プライバシーに関するその他の考慮事項については、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#notice" _istranslated="1">セクション7.2</a>を参照してください。</p>

<p _msttexthash="1190895940" _msthash="292">IdP は、意図された RP のみがセットに含まれることを保証する<strong class="normative" _istranslated="1">ものとします (SHOULD</strong>)。そうしないと、不正な RP が、そのセットの一部として詐欺的に偽装することで、一連の RP の共有 PPI を学習する可能性があります。</p>

<p _msttexthash="3811559908" _msthash="293"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC" _istranslated="1">[OIDC]</a> のセクター識別子機能は、RP のグループの共有 PPI を計算するメカニズムを提供します。このプロトコルでは、RP の識別子はすべて、認証された保護チャネルを介して IdP によってフェッチできる URL に一覧表示されます。共有 PPI は、セクター識別子 URL とアルゴリズムへの他の入力を考慮して計算され、セクター識別子 URL のコンテンツにリストされているすべての RP が同じ共有 PPI を受け取るようにします。</p>
<h2 id="trust-agreement" data-section="3"><font _mstmutation="1" _msttexthash="12373088" _msthash="294">信託契約</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#trust-agreement" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="980171361" _msthash="295"><em _istranslated="1">信頼契約</em>は、フェデレーション トランザクションの当事者をサポートするために確立された一連の信頼関係を表す構成要素です。信託契約は、以下の関係の1つ以上に対処する<strong class="normative" _istranslated="1">ものとする(MUST)。</strong></p>

<dl>
  <dt _msttexthash="5881031" _msthash="296">IdP から CSP へ:</dt>
  <dd _msttexthash="1337798072" _msthash="297">IdP は、IdP オンボーディング プロセスまたは属性バンドルの発行を通じて、サブスクライバ アカウントの属性へのアクセスを提供する CSP を信頼します。IdP は、加入者アカウントの確立に使用される CSP の ID 証明プロセスを信頼します。</dd>
  <dt _msttexthash="5882526" _msthash="298">CSP から IdP へ:</dt>
  <dd _msttexthash="1822869698" _msthash="299">CSP は、IdP が加入者 ID 属性を RP に正確に表し、合意された機能外の ID 属性を開示しないことを信頼します。CSP は、サブスクライバーの認証や属性の解放前にアクティベーション ファクターの提示を要求するなど、属性の解放を保護するために IdP を信頼します。</dd>
  <dt _msttexthash="5386628" _msthash="300">RPからIdPへ:</dt>
  <dd _msttexthash="830040380" _msthash="301">RP は、IdP が CSP によって提供される加入者 ID 属性を正確に表すことを信頼します。RP は、認証イベントを表すときに、IdP を信頼して加入者を認証または識別します。</dd>
  <dt _msttexthash="3447236" _msthash="302">IdP から RP:</dt>
  <dd _msttexthash="205856469" _msthash="303">IdP は、要求された属性を指定された目的にのみ使用するように RP を信頼します。</dd>
  <dt _msttexthash="5383118" _msthash="304">RP から CSP へ:</dt>
  <dd _msttexthash="727940343" _msthash="305">RP は、IdP を介して加入者 ID 属性へのアクセスを提供する CSP を信頼します。RP は、CSP が加入者を ID 証明し、加入者アカウントを管理していることを信頼します。</dd>
</dl>

<p _msttexthash="3786311763" _msthash="306">すべての連盟取引は、該当する当事者間の1つ以上の信託契約の条件に準拠する<strong class="normative" _istranslated="1">ものとします(MUST)。</strong>異なる関係は、異なる時期に、異なるプロセスによって確立<strong class="normative" _istranslated="1">される可能性があります。</strong>たとえば、信託契約を締結する CSP と IdP は、通常、信頼契約を締結する RP と IdP とは別ですが、これらの当事者の下でのフェデレーション トランザクションの条件全体は、両方の関係セットから引き出されます。</p>

<p _msttexthash="13862832867" _msthash="307">シナリオが異なれば、機能するためには信頼の組み合わせも異なり、これらの組み合わせは使用中のフェデレーション・モデルによって異なる場合があります。フェデレーション・トランザクションに適用される個々の信託契約の組み合わせは、これらのガイドラインの要件を満たします。信託契約は、正式な契約上の合意、非公式の動的ユーザー契約、および連盟の当事者によるその他の文書化された二国間または多国間の信頼決定など、さまざまな形式をとることができます。多くの場合、信頼契約は、当事者が相互に接続するための一連のルールを形式化する信頼フレームワークを使用して実装できます。信頼フレームワークは、フェデレーション機関によって管理されるフェデレーションのルールを形式化するために、フェデレーション機関によってよく使用されます。</p>

<p _msttexthash="8103854356" _msthash="308">たとえば、RP が CSP との直接的または完全な信頼契約なしにアサーションを受け入れる可能性がある加入者制御ウォレットの場合を考えてみましょう。第<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#wallet-trust-agreements" _istranslated="1">5.3条</a>に記載されているように、関連する信託契約の条項は、CSPおよび属性バンドルを発行するためのCSPのプロセスに関する公開情報の評価を通じて、RPによって一方的に決定される場合があります。CSP は、信頼関係のこの部分を確立するために RP について知る必要はありません。RP の属性使用目的を開示する要件を満たすために、RP は CSP に通知することなく、実行時にこれらの目的を加入者に開示できます。</p>

<p _msttexthash="5389831590" _msthash="309">信頼契約は、許可されたxALや、フェデレーション・トランザクションで交換されるID属性の意図された目的など、影響を受ける当事者間のフェデレーション・トランザクションの条件を確立します。信託契約は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#usability" _istranslated="1">第 8 条</a>で説明されているように、フェデレーション取引の顧客体験要件を確立<strong class="normative" _istranslated="1">するものとします</strong>。信託契約には、補償管理や例外処理プロセスなど、信託契約の対象となる加入者に対して CSP で使用される校正プロセスの詳細が含まれる<strong class="normative" _istranslated="1">ものとします</strong>。</p>

<p _msttexthash="6945486327" _msthash="310">すべての信託契約は、契約が適用される加入者アカウントの特定の母集団を定義する<strong class="normative" _istranslated="1">ものとします(MUST)。</strong>この母集団を定義する正確な方法は、このドキュメントの範囲外です。多くの場合、母集団は、CSP が管理し、IdP を通じて利用できるようにするサブスクライバー アカウントの完全なセットとして定義されます。それ以外の場合、母集団は IdP を通じて使用できるアカウントの境界が定められたサブセットです。また、RP は、加入者主導の信頼契約など、単一の加入者アカウントに対して IdP と個別の信頼契約を確立することもできます。</p>

<p _msttexthash="9053347576" _msthash="311">単一のフェデレーショントランザクションの過程で、すべての関係者のポリシーと期待が明確であることが重要です。したがって、特定のトランザクションに対して有効な信頼契約のセットは 1 つだけある<strong class="normative" _istranslated="1">べきです (SHOULD)。</strong>これは通常、トランザクションに参加している CSP、IdP、RP の一意の組み合わせによって決定されます。ただし、これらの契約は、加入者の母集団が異なる信託契約によって管理されるなど、他の方法で異なる可能性があります。複数の信託契約が連合取引に適用される場合、適用されるすべての信託契約の条件の集合は、その取引の有効な信託契約を構成する<strong class="normative" _istranslated="1">ものとする(MUST)。</strong></p>

<p _msttexthash="3774831866" _msthash="312">当事者間の信託契約の存在は、各当事者と他の当事者との他の契約の存在を排除するものではありません。たとえば、IdP は複数の RP と同時に独立したアグリーメントを持つことができ、RP も同様に複数の IdP と同時に独立したアグリーメントを持つことができます。IdPおよびRPは、信託契約の存在または条件を、問題の契約の対象外または対象外の当事者に開示する必要はありません。</p>

<p _msttexthash="407191096" _msthash="313">信託契約は、フェデレーション関係に関連して期待され、許容される IAL、AAL、FAL に関する条件を確立<strong class="normative" _istranslated="1">するものとします</strong>。</p>

<p _msttexthash="735645313" _msthash="314">信託契約は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#redress" _istranslated="1">第 3.5.3 条</a>で説明されているように、連盟のさまざまな参加者間の救済と問題を調整するために必要なメカニズムと資料を定義する<strong class="normative" _istranslated="1">ものとします</strong>。</p>

<p _msttexthash="221720148" _msthash="315">信託契約は、すべての当事者に期待されるデータ保持ポリシーを宣言<strong class="normative" _istranslated="1">するものとします(SHALL SHOULD</strong>)。</p>

<p _msttexthash="6268565082" _msthash="316">加入者は通常、信託契約の条件に直接関与しませんが、加入者は信託契約の条件とその結果生じるフェデレーション トランザクションの影響を受けます。そのため、信託契約の関連条件は、明確で理解しやすい言葉で加入者に提供<strong class="normative" _istranslated="1">されるものとします</strong>。信託契約の条件は、機密性の高いセキュリティ情報の漏洩を避けるために、加入者への開示が行われる前に、加入者に信託契約の条件を通知する責任を負うすべての当事者(CSP、IdP、RP、またはフェデレーション当局など)によってレビューされる<strong class="normative" _istranslated="1">ものとします</strong>。</p>

<p _msttexthash="1096921605" _msthash="317">加入者が本規約にアクセスする手段と加入者に通知する責任を負う当事者は、信託契約を成立させる手段および信託契約自体の条件によって異なります。一般的な開示方法は次のとおりです。</p>

<ul>
  <li _msttexthash="226461274" _msthash="318">サブスクライバーがアクセスできる Web ページに、関連する信頼契約条件を提供する</li>
  <li _msttexthash="38837331" _msthash="319">購読者への通知の送信</li>
  <li _msttexthash="192199579" _msthash="320">実行時の決定中に用語の要約を表示し、用語全体を確認するオプション</li>
</ul>

<p _msttexthash="5788956043" _msthash="321">信頼契約の確立は、ロールとアプリケーションが単一のセキュリティー・ドメイン内に存在するトランザクションや、エンタープライズ・システムなどの共有法的所有権が存在するトランザクションであっても、すべてのフェデレーション・トランザクションに必要です。このような場合、信託契約の成立は内部プロセスである可能性があり、正式な契約を伴う必要はありません。そのような場合でも、組織は要求に応じて信託契約の条件を文書化し、加入者に開示する必要があります。</p>

<p _msttexthash="1341875080" _msthash="322">加入者のユーザーエージェントは、フェデレーショントランザクションの役割の1つ(例えば、加入者のブラウザソフトウェアで実行されている加入者制御のウォレット)で行動しない限り、通常、信託契約の当事者ではありません。</p>
<h3 id="bilateral" data-section="3"><font _mstmutation="1" _msttexthash="25315030" _msthash="323">二国間信託契約</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#bilateral" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="7062143192" _msthash="324">二国間信託契約では、信託契約の成立は連邦当事者間で直接行われ、信託契約は別の当事者によって管理または促進されることはありません。二国間信頼契約により、サービスへのフェデレーション ID アクセスを提供したい組織間でポイントツーポイント接続を確立できます。二国間接続には、静的コントラクトを持つ大規模なエンタープライズ アプリケーションや、これまで知られていなかった RP への加入者主導の動的接続など、さまざまな形式があります。いずれの場合も、CSP、IdP、および RP は、フェデレーション接続に関するポリシーを直接管理します。</p>

<p _msttexthash="1974931881" _msthash="325">二国間信託契約は、すべての信託契約に記載されている要件に準拠しています。ただし、これらの信託契約には追加の当事者が関与しないため、多国間信託契約に義務付けられているような、その設立と管理に関する追加の規範的要件はありません (<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#authorities" _istranslated="1">第 3.5.2 条</a>を参照)。</p>
<h3 id="authorities" data-section="3"><font _mstmutation="1" _msttexthash="23876138" _msthash="326">多国間信託協定</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#authorities" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="1172019043" _msthash="327">多国間信託契約では、連邦当事者は、当事者間の信託契約の確立を支援するために<em _istranslated="1">連邦当局</em>に目を向けます。このモデルでは、フェデレーション機関は、信頼契約に基づく CSP、IDP、RP の組み込みを容易にします。</p>

<p _msttexthash="5484176204" _msthash="328">図<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-2" _istranslated="1">2</a>に示すように、当事者を何らかの役割でオンボーディングする場合、連邦当局はその当事者に対して精査を実施し、信託契約の条件を遵守していることを確認します。審査のレベルは、フェデレーション内で採用されているユースケースとモデルに固有であり、詳細はこのドキュメントの範囲外です。他の多くの機能と同様に、連邦当局は審査プロセスを別の当事者にアウトソーシングできますが、審査プロセスの結果については連邦当局が最終的に責任を負います。</p>

<p latex-ignore="true"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-2" name="fig-2" _msttexthash="35427938" _msthash="329">図2.フェデレーション機関</a></p>

<p><img src="./sp800-63c_files/authority.png" alt="連邦当局の下でさまざまな当事者の信託契約条件を促進する連邦当局の図。" title="Federation authority" latex-src="authority.pdf" latex-fig="2" latex-place="h" _mstalt="9108827" _msthash="330"></p>

<p _msttexthash="564858658" _msthash="331">信託契約は、すべての当事者を審査するために必要な慣行を列挙<strong class="normative" _istranslated="1">するものとし、</strong>審査プロセスの実施に責任を負う当事者を示す<strong class="normative" _istranslated="1">ものとする(SHALL shall )。</strong></p>

<p _msttexthash="181421539" _msthash="332">少なくとも、CSP、IdP、およびRPの審査は、次のことを確立<strong class="normative" _istranslated="1">するものとします。</strong></p>

<ul>
  <li _msttexthash="179066693" _msthash="333">CSP は<a href="https://pages.nist.gov/800-63-4/sp800-63a.html#introduction" latex-href="#ref-SP800-63A" _istranslated="1">、[SP800-63A]</a> に準拠した ID 証明加入者アカウントを作成します。</li>
  <li _msttexthash="895930516" _msthash="334">CSPは、該当する場合、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-account-provisioning" _istranslated="1">第4.1条</a>または第<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#scidp-provisioning" _istranslated="1">5.1条</a>の要件に準拠して、安全な方法でサブスクライバーアカウント(属性、派生属性値、および属性バンドルを含む)をIdPにオンボーディングします。</li>
  <li _msttexthash="1098908720" _msthash="335">IdP(フェデレーショントランザクション中)またはCSP(サブスクライバ制御ウォレットに属性バンドルを発行する際)でサブスクライバを認証するために使用されるオーセンティケータは、[<a href="https://pages.nist.gov/800-63-4/sp800-63b.html#introduction" latex-href="#ref-SP800-63B" _istranslated="1">SP800-63B]</a>に従って使用されます。</li>
  <li _msttexthash="328754920" _msthash="336">IdP によって生成されたアサーションは、該当する場合、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertions" _istranslated="1">第 4.9 条</a>または<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertion-contents" _istranslated="1">第 5.8 条</a>の要件に準拠しています。</li>
  <li _msttexthash="366212613" _msthash="337">RP は、保持、集計、削除、第三者への開示など、加入者属性データの処理に関する要件を遵守します。</li>
  <li _msttexthash="491062598" _msthash="338">RP システムと IdP システムは、フェデレーション機関によって指定されたフェデレーションプロトコルの合意されたプロファイルを使用します。</li>
</ul>

<p _msttexthash="3883248421" _msthash="339">連邦当局は、信託契約に基づく当事者が、信託契約における他の当事者のメンバーシップを確認するためのプログラム的手段を提供し<strong class="normative" _istranslated="1">てもよい(MAY)。</strong>たとえば、フェデレーション機関は、システム内の RP に ID を提供するための IdP の精査済み機能を提供する検出 API を提供できます。または、フェデレーション機関は、登録手順中に RP が IdP に提示するための署名付き構成証明を提供することもできます。</p>

<p _msttexthash="320070530" _msthash="340">連邦当局は、信託契約に開示された条件の遵守について、メンバーを定期的に再評価<strong class="normative" _istranslated="1">するものとします。</strong></p>

<p _msttexthash="7682947090" _msthash="341">多国間信託契約は、フェデレーション間契約を作成することにより、他のエンティティによって管理される他の信託契約に基づいて信頼を確立<strong class="normative" _istranslated="1">してもよい(MAY)。</strong>たとえば、IdP1 はフェデレーション機関 A1 との多国間協定に基づいて審査され、RP2 は連邦機関 A2 との多国間協定に基づいて審査されています。IdP1 と RP2 間の接続を容易にするために、新しいフェデレーション機関 A3 は、A1 からの IdP と A2 からの RP を受け入れる多国間契約を提供できます。IdP1 と RP2 が A3 の権限を受け入れた場合、フェデレーション接続は、このフェデレーション間契約の後援の下で続行できます。</p>
<h3 id="redress" data-section="3"><font _mstmutation="1" _msttexthash="12036076" _msthash="342">救済要件</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#redress" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="1788404189" _msthash="343">フェデレーション トランザクションは、多くの場合、複数のエンティティによって制御される複数の当事者間で発生し、フェデレーション トランザクションの異なる段階により、加入者が他の当事者に救済を求める必要がある状況が発生する可能性があります。</p>

<p _msttexthash="12200918002" _msthash="344">RP は、加入者の ID 属性の受信者として、加入者のフェデレーテッド システムに対するプライマリ ビューです。場合によっては、加入者は IdP が RP の使用に関与していることに気付かないことがあります。したがって、RP に連絡して救済を要求するための明確でアクセスしやすい方法を加入者に提供するのは RP の責任です。RP加入者アカウント(アカウントに保存されている属性を含む)、RP機能、バインドされたオーセンティケーター、RP許可リスト、およびRPの管理下にあるその他の項目が関与する事項については、RPは加入者に明確でアクセスしやすい救済手段を提供する<strong class="normative" _istranslated="1">ものとします(SHOULD)。</strong>IdPまたはCSPが関与する事項について、RPは、必要に応じて、IdPまたはCSPとの救済プロセスを開始する手段を加入者に提供<strong class="normative" _istranslated="1">するものとします(SHOULD)。</strong></p>

<p _msttexthash="9649739957" _msthash="345">フェデレーショントランザクションで利用可能になる属性値および派生属性値、IdP機能、鍵所有者オーセンティケーター、IdP許可リスト、およびIdPの管理下にあるその他の項目を含む、フェデレーショントランザクションにおけるサブスクライバアカウントの使用を含む事項については、IdPは、サブスクライバに明確でアクセスしやすい救済手段を提供する<strong class="normative" _istranslated="1">ものとします(SHOULD)。</strong>特定のRPにも関係する事項については、IdPは、加入者にRPとの救済プロセスを開始する手段を提供する<strong class="normative" _istranslated="1">ものとします(SHOULD)。</strong>IdPが利用可能になった加入者アカウントが関係する問題については、IdPは加入者にCSPとの救済プロセスを開始する手段を提供する<strong class="normative" _istranslated="1">ものとする(MUST)。</strong></p>

<p _msttexthash="728892320" _msthash="346">加入者アカウントの ID 属性や認証者など、加入者アカウントに関係する事項については、CSP は、加入者に明確でアクセスしやすい救済手段を提供する<strong class="normative" _istranslated="1">ものとします。</strong></p>

<p _msttexthash="210898129" _msthash="347">救済の提供に関するその他の要件については<a href="https://pages.nist.gov/800-63-4/sp800-63.html#redress" latex-href="#ref-SP800-63" _istranslated="1">、[SP800-63]の第3.6節</a>を参照してください。</p>
<h2 id="identifiers-keys" data-section="3"><font _mstmutation="1" _msttexthash="80455726" _msthash="348">CSP、IdP、RPの識別子と暗号化キー管理</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#identifiers-keys" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="6861579387" _msthash="349">信託契約はフェデレーションの許可を確立しますが、フェデレーション内の当事者の安全な接続を促進するものではありません。
フェデレーション プロトコルを介して通信するには、CSP、IdP、RP が、識別子を暗号化キーおよび関連するセキュリティ成果物に関連付ける機能を使用して、安全な方法で相互を識別できる必要があります。
このようにして、RP は、アサーションが目的の IdP から来ていること、または属性バンドルが目的の CSP から来ていることを確認できます。同様に、IdP は、目的の RP にアサーションを送信していることを確認できます。</p>

<p _msttexthash="21266374246" _msthash="350">RP が IdP または CSP の識別子と暗号化キーを確立するプロセスは、<em _istranslated="1">検出</em>と呼ばれます。IdP が RP の識別子と暗号化キーを確立するプロセスは、<em _istranslated="1">登録</em>と呼ばれます。検出プロセスと登録プロセスはどちらも、フェデレーション トランザクションの前に行うことも、トランザクション自体の一部としてインラインで行うこともできます。さらに、発見プロセスと登録プロセスの両方が、信託契約で定義されているように、当事者間で直接行うことも、サードパーティのサービスの使用を通じて促進することもできます。これらのプロセスでは、IdP、CSP、およびRP間でキーと識別子を手動で配布したり、これらのエンティティを、自動化されたプロセスを通じて暗号化キーマテリアルとメタデータを取得できるソースに関連付けたりすることができます。フェデレーション プロトコルとプロセスが異なれば、これらの識別子と暗号化キーを確立するためのプロセスも異なりますが、最終的には、各当事者がプロトコル内で必要に応じて他の当事者を適切に識別できるようになります。</p>

<p _msttexthash="14293992375" _msthash="351">発見および登録プロセスは、フェデレーション取引を管理する信託契約で定義されているように、安全な方法で確立<strong class="normative" _istranslated="1">されるものとします(SHOULD</strong>)。多くの場合、識別子は、キー マテリアル自体ではなく、暗号化キー マテリアルの信頼できるソースに関連付けられます。たとえば、IdP によってホストされる URL は、その IdP の公開署名キーを提供できます。RP がこの関連付けで手動で設定されている場合でも、RP は実行時に実際の暗号化キー マテリアルをフェッチできます。暗号鍵情報の転送を必要とするプロトコルは、認証された保護されたチャネルを使用して、共有秘密または公開鍵を含む、フェデレーション関係を運用するために必要な暗号鍵情報を交換<strong class="normative" _istranslated="1">するものとします(MUST)。</strong>この関係で使用される対称キーは、フェデレーション参加者のペアに一意である<strong class="normative" _istranslated="1">ものとします(SHALL SHOULD</strong>)。</p>

<p _msttexthash="3947607703" _msthash="352">CSP、IdP(加入者管理ウォレットを含む)、およびRPは、信託契約または異なる信託契約内で異なる目的を果たすために、複数の識別子と暗号鍵を有<strong class="normative" _istranslated="1">しても構いません(MAY)。</strong>たとえば、IdP は、すべての FAL1 および FAL2 トランザクションに 1 つのアサーション署名キーのセットを使用し、より高いセキュリティコンテナに格納されている FAL3 トランザクションに対して個別に管理される署名キーのセットを使用できます。</p>

<p _msttexthash="4171004890" _msthash="353">ドメイン名、URI、またはその他の構造化識別子を使用して当事者を識別する場合、ワイルドカードは使用<strong class="normative" _istranslated="1">されないものとします</strong>。たとえば、RP が "www.example.com"、"service.example.com"、および "gateway.example.com" に展開されている場合、これらの各識別子を RP に登録する必要があります。ワイルドカード「*.example.com」は、同じ RP 識別子の下で「user.example.com」と「unknown.example.com」へのアクセスを意図せずに許可するため、使用できません。</p>
<h3 id="cryptographic-key-rotation" data-section="3"><font _mstmutation="1" _msttexthash="30684030" _msthash="354">暗号化キーのローテーション</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#cryptographic-key-rotation" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="2560997686" _msthash="355">時間の経過とともに、CSP、IdP、またはRPに関連付けられた暗号化キーを更新することが望ましい、または必要になる場合があります。識別子および暗号鍵の許容更新プロセスは、信頼契約によって定義され<strong class="normative" _istranslated="1">、</strong>最初の暗号鍵の確立と同様に、認証された保護されたチャネルを使用して実行<strong class="normative" _istranslated="1">されるものとする(SHALL )。</strong></p>

<p _msttexthash="2452727381" _msthash="356">たとえば、IdP が URL によって識別される場合、IdP はその URL の下の場所に現在の公開鍵セットを公開できます。IdP は、必要に応じて、その場所で公開されているキーを更新できます。RP は、必要に応じて既知の場所から公開鍵を取得し、更新された公開鍵が利用可能になったときに取得できます。</p>
<h3 id="key-storage" data-section="3"><font _mstmutation="1" _msttexthash="21902257" _msthash="357">暗号化キーストレージ</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#key-storage" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="1654234985" _msthash="358">CSP、IdP(加入者制御ウォレットを含む)、およびRPは、すべての署名鍵、復号化鍵、および対称鍵を安全な方法で保存<strong class="normative" _istranslated="1">するものとします(MUST)。</strong>暗号化キー ストレージは、適用される改ざん防止要件など、適用される <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-FIPS140" _istranslated="1">[FIPS140]</a> 要件の対象となります。</p>

<p _msttexthash="13116164841" _msthash="359">状況によっては、加入者のデバイス上の加入者制御ウォレットを使用して FAL3 に到達するなど、暗号化キーをエクスポート不可能な方法で保存する必要があります (<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#wallet-key-storage" _istranslated="1">セクション 5.4.1</a> を参照)。エクスポート不可と見なされるには、鍵ストレージは、別のハードウェア、またはセキュア エレメント、トラステッド実行環境 (TEE)、トラステッド プラットフォーム モジュール (TPM) などの組み込みプロセッサまたは実行環境のいずれかである<strong class="normative" _istranslated="1">ものとします (MUST</strong>)。これらのハードウェアモジュールまたは組み込みプロセッサは、ラップトップやモバイルデバイスのCPUなどのホストプロセッサとは別です。エクスポート不可能な鍵ストレージは、ホスト プロセッサへの秘密鍵のエクスポートを禁止するように設計され<strong class="normative" _istranslated="1">、</strong>秘密鍵を抽出できるようにホスト プロセッサによって再プログラムできない<strong class="normative" _istranslated="1">ものとします。</strong></p>
<h3 id="attestations" data-section="3"><font _mstmutation="1" _msttexthash="30719715" _msthash="360">ソフトウェア構成証明</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#attestations" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="6910306962" _msthash="361">ソフトウェアとデバイスの構成証明は、特に動的システムや分散システムにおいて、識別子と暗号キーの確立を強化できます。この使用法における構成証明は、特定のソフトウェア、デバイス、またはランタイム システムが合意された一連のパラメーターを満たしていることを示す暗号的にバインドされたステートメントです。認証は、受信者が対話しているソフトウェア、デバイス、またはシステムの ID を確立するコンテキストでソフトウェアによって提示されます。構成証明により、受信者は、他の方法よりも高い確実性で要求を検証できます。</p>

<p _msttexthash="2763878923" _msthash="362">たとえば、加入者が制御するウォレット ソフトウェアの特定のディストリビューションに、そのディストリビューターが署名して、RP がそのソフトウェアの個々のインスタンスを認識できるようにすることができます。または、RP にフェデレーション機関から構成証明を発行して、IdP が RP をフェデレーションの一部として認識できるようにすることもできます。</p>

<p _msttexthash="771707950" _msthash="363">証明書が信頼契約によって要求される場合、またはフェデレーションプロトコルの一部として要求される場合、受信した証明書は受信者によって検証される<strong class="normative" _istranslated="1">ものとします(SHALL SHOULD)。</strong></p>

<p _msttexthash="918315879" _msthash="364">動的クライアント登録中に OAuth および OpenID Connect RP が署名されたソフトウェア属性セットを通信する手段である<em _istranslated="1">ソフトウェアステートメント</em>の詳細については、[<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-RFC7591" _istranslated="1">RFC7591]</a> Sec. 2.3 を参照してください。</p>
<h2 id="authentication-and-attribute-disclosure" data-section="3"><font _mstmutation="1" _msttexthash="29003923" _msthash="365">認証と属性の開示</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#authentication-and-attribute-disclosure" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="513833216" _msthash="366">IdP と RP が信頼契約を締結し、登録が完了すると、フェデレーション プロトコルを使用して、IdP から RP に加入者属性を渡すことができます。</p>

<p _msttexthash="1781530543" _msthash="367">加入者のID属性は、当事者がフェデレーションの目的で許可リストに登録されている場合でも、侵害された加入者アカウントの識別(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#transmit-subscriber-info" _istranslated="1">第3.10.1条</a>参照)などのフェデレーショントランザクションまたはサポート機能のために、IdPとRPの間でのみ送信<strong class="normative" _istranslated="1">されるものとします(SHALL shall shall that that not be access</strong>. compromised subscriber accounts (Sec. 3.10.1 参照)。</p>

<p _msttexthash="1328156011" _msthash="368">加入者の ID 属性は、加入者がそのような目的に特に同意しない限り、信託契約に規定されている目的以外の目的で RP によって使用<strong class="normative" _istranslated="1">されないものとします</strong>。加入者の属性は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#store-subscriber-info" _istranslated="1">第 3.11.3 条</a>に従って保存および管理<strong class="normative" _istranslated="1">されるものとします</strong>。</p>

<p _msttexthash="4249012365" _msthash="369">加入者は、RP への属性の送信について通知される<strong class="normative" _istranslated="1">ものとします (SHOULD</strong>)。権限のある当事者が組織である場合、組織は、承認されたRPのリストと、それらのRPに送信される関連する属性セットを加入者が利用できるようにする<strong class="normative" _istranslated="1">ものとする(MUST)。</strong>許可された当事者が加入者である場合、加入者は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-runtime-decision" _istranslated="1">第4.6.1.3節</a>に記載されているように、IdPでのランタイム決定を使用して属性の解放前にプロンプトを受ける<strong class="normative" _istranslated="1">ものとする(MUST</strong>)。</p>
<h2 id="rp-account" data-section="3"><font _mstmutation="1" _msttexthash="28246127" _msthash="370">RP サブスクライバ アカウント</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-account" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="3210998518" _msthash="371">RP は通常、<em _istranslated="1">RP サブスクライバ アカウント</em>と呼ばれるレコードを保持して、サブスクライバをローカルで表します。RP サブスクライバ アカウントには、RP でのアクセス権や、サブスクライバの ID 属性のキャッシュなどを含めることができます。RP サブスクライバ アカウントには、ベースとなるサブスクライバ アカウント(CSP や IdP によって管理されるサブスクライバ アカウントなど)とは別のライフ サイクルがあります。</p>

<p _msttexthash="7172804379" _msthash="372">RP サブスクライバ アカウントは、RP がサブスクライバに関する一連の属性を、RP のサブスクライバ アカウントを表すデータ レコードに関連付けた場合に<em _istranslated="1">プロビジョニングされます</em>。プロビジョニングは、展開パターンに応じて、認証前またはフェデレーション認証プロセスの結果として行うことができます(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#provisioning" _istranslated="1">セクション4.6.3</a>を参照)。RP 加入者アカウントは、第 <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#account-resolution" _istranslated="1">3.8.2 節</a>で説明されているように、プロビジョニング時に 1 つ以上のフェデレーション識別子に関連付けられても<strong class="normative" _istranslated="1">構いませんし</strong>、後でアカウント解決を通じてフェデレーション識別子にリンクしても<strong class="normative" _istranslated="1">構いません</strong>。</p>

<p _msttexthash="3481493704" _msthash="373">RP サブスクライバ アカウントは、RP の信頼できる IdP から 1 つ以上のフェデレーション識別子にバインドされている場合、またはアカウント解決プロセスが確立されている場合に、フェデレーテッド認証に使用できます。フェデレーション プロトコルを介して加入者の認証が成功すると、加入者は RP 加入者アカウントによって保護されている RP の情報と機能にアクセスできるようになります。</p>

<p _msttexthash="4455647950" _msthash="374">RP サブスクライバ <em _istranslated="1">アカウントは、</em>RP が RP のアカウントへのすべてのアクセスを削除すると終了します。終了には、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#store-subscriber-info" _istranslated="1">第 3.11.3 条</a>に従って、アカウントに関連付けられたすべてのフェデレーション識別子、バインドされた認証子、属性、および ID 情報の削除が含まれる<strong class="normative" _istranslated="1">ものとします (SHOULD</strong>)。RPは、RP加入者アカウントが派生した加入者アカウントの現在の有効性に関係なく、IdPから独立してRP加入者アカウントを終了<strong class="normative" _istranslated="1">しても構いません(MAY)。</strong></p>

<p _msttexthash="4669858635" _msthash="375">RP サブスクライバ アカウントは、すべてのフェデレーテッド ID と代替オーセンティケータが RP サブスクライバ アカウントから削除されたが、アカウント内の情報は保持される場合など、サブスクライバがアカウントを使用して RP にアクセスできない場合に<em _istranslated="1">無効</em>になります。RP は、記録の保持を容易にしたり、アカウントに関連付けられた不審な動作を調査したりするために、RP サブスクライバー アカウントを終了するのではなく、無効にすることを選択できます。</p>

<p _msttexthash="210690740" _msthash="376">RPは、現在アクセス手段がないRP加入者アカウントの回復手段を提供し<strong class="normative" _istranslated="1">てもよい(MAY)。</strong></p>

<p _msttexthash="1293175572" _msthash="377">RP 加入者アカウントは、認証されたセッションなしで RP でプロビジョニングできますが、認証されたセッションはプロビジョニングされたアカウントに基づいてのみ作成できます。セッションの詳細については、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-session" _istranslated="1">セクション3.9</a>を参照してください。</p>

<p _msttexthash="3931557799" _msthash="378">RPは、RP加入者アカウントが関連するフェデレーテッド識別子がゼロの状態に達したときに制定する慣行とポリシーを文書化<strong class="normative" _istranslated="1">するものとします(SHOULD</strong>)。代替認証器を含むアクセス手段がない(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#local-authentication" _istranslated="1">第3.8.3条</a>参照)。また、アカウントのリンク(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#account-linking" _istranslated="1">セクション3.8.1を参照</a>)やアカウント解決(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#account-resolution" _istranslated="1">セクション3.8.2</a>を参照)を含む回復手段はありません。このような場合、RP サブスクライバ アカウントは無効化または終了<strong class="normative" _istranslated="1">されるべきです (SHOULD</strong>)。</p>

<p _msttexthash="94443063" _msthash="379">RPは、次の場合に加入者に通知する<strong class="normative" _istranslated="1">ものとします。</strong></p>

<ul>
  <li _msttexthash="214753890" _msthash="380">新しいフェデレーション識別子が既存の RP サブスクライバ アカウントに追加される、または</li>
  <li _msttexthash="281563100" _msthash="381">フェデレーテッド識別子は RP サブスクライバ アカウントから削除されますが、アカウントは終了しません。</li>
</ul>

<p _msttexthash="1589852862" _msthash="382">RP は、RP 加入者アカウントが無効化または終了されたときに加入者に通知する<strong class="normative" _istranslated="1">べきです (SHOULD</strong>)。RPは、[<a href="https://pages.nist.gov/800-63-4/sp800-63a.html#account-suspension" latex-href="#ref-SP800-63A" _istranslated="1">SP800-63A]の第5.4条</a>で議論されているように、加入者に通知を送信するかどうかを決定する際に、終了の理由を考慮する<strong class="normative" _istranslated="1">ものとする(MUST</strong>)。</p>

<p _msttexthash="493665757" _msthash="383">アカウント管理イベントに関する加入者への通知の提供に関するその他の考慮事項については、[<a href="https://pages.nist.gov/800-63-4/sp800-63b.html#notification" latex-href="#ref-SP800-63B" _istranslated="1">SP800-63B] の第 4.6 節</a>を参照してください。</p>
<h3 id="account-linking" data-section="3"><font _mstmutation="1" _msttexthash="13640055" _msthash="384">アカウントリンク</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#account-linking" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="6119108918" _msthash="385">1 つの RP サブスクライバ アカウントは、複数のフェデレーション識別子に関連付け<strong class="normative" _istranslated="1">ることができます。</strong>この方法は、<em _istranslated="1">アカウントリンク</em>と呼ばれることもあります。RP が加入者がこの方法で複数の加入者アカウントをリンクすることを許可する場合、RP は、すべてのリンク機能について加入者アカウントとの認証されたセッションを要求<strong class="normative" _istranslated="1">するものとします (SHALL )。</strong>この認証されたセッションは、新しいフェデレーテッド ID を RP サブスクライバ アカウントにリンクする前に、1 つの既存のフェデレーテッド ID を使用した認証を要求<strong class="normative" _istranslated="1">すべきです (SHOULD</strong>)。</p>

<p _msttexthash="635634116" _msthash="386">フェデレーテッド ID が RP 加入者アカウントから削除されると、RP は、削除されたフェデレーテッド ID から RP 加入者アカウントへのアクセスを禁止<strong class="normative" _istranslated="1">するものとします (SHALL )。</strong></p>

<p _msttexthash="1178649979" _msthash="387">RPは、RPへのアクセスに使用されるフェデレーテッドアカウントに応じて、異なるアクセス権を同じアカウントに関連付け<strong class="normative" _istranslated="1">ても構いません(MAY)。</strong>RP が許可とアクセスを決定する手段は、これらのガイドラインの範囲外です。</p>
<h3 id="account-resolution" data-section="3"><font _mstmutation="1" _msttexthash="20254377" _msthash="388">アカウントの解決</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#account-resolution" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="1621911408" _msthash="389">RP が一連の加入者に関する既存の情報にアクセスでき、この情報がフェデレーテッド識別子に関連付けられていない場合、RP は<em _istranslated="1">アカウント解決</em>と呼ばれるプロセスを実行して、新しい RP 加入者アカウントに関連付ける加入者情報のセットを決定します。</p>

<p _msttexthash="3625275992" _msthash="390">アカウント解決を実行するRPは、フェデレーテッド識別子をRPサブスクライバーアカウントにリンクし、アクセスを許可する前に、IdPから要求された属性がRPのシステム内でサブスクライバーを一意に解決するのに十分であることを保証する<strong class="normative" _istranslated="1">ものとする(MUST)。</strong>RP による各属性の使用目的は、その属性がこのようにアカウント解決に使用されるかどうかを含め、信託契約に詳述されています。</p>

<p _msttexthash="828595677" _msthash="391">アカウント解決を実行する RP は、RP サブスクライバー アカウントの情報をサブスクライバーに属さないフェデレーション識別子に関連付けないようにプロセスを設計<strong class="normative" _istranslated="1">するものとします (SHOULD</strong>)。</p>

<p _msttexthash="4396318173" _msthash="392">たとえば、加入者制御のウォレットは、RP にフェデレーション識別子を提供しない場合がありますが、RP が加入者を RP 加入者アカウントに一意に解決できるようにする CSP からの属性バンドルを RP に提供することで、RP がアカウント解決を実行できるようにすることができます。あるいは、事前プロビジョニング モデルを使用する RP は、合意された属性セットに基づいて、受信アサーションを RP 加入者アカウントに一意に関連付けることができます。</p>

<p _msttexthash="2140638292" _msthash="393">同様のアカウント解決プロセスは、RP がキー所有者アサーションで使用されるオーセンティケーターを初めて検証するときも使用されます。この場合、RPは、オーセンティケーターを受け入れる前に、オーセンティケーターで運ばれる属性がRP加入者アカウントに一意に解決されることを保証する<strong class="normative" _istranslated="1">ものとする(SHOULD</strong>)。</p>
<h3 id="local-authentication" data-section="3"><font _mstmutation="1" _msttexthash="21450416" _msthash="394">代替認証プロセス</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#local-authentication" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="1851934955" _msthash="395">RPは、加入者がRP加入者アカウントに認証者を追加および削除できるようにすることにより、加入者が直接認証プロセスを使用してRP加入者アカウントにアクセスすることを許可<strong class="normative" _istranslated="1">してもよい(MAY)。</strong>RP は、[<a href="https://pages.nist.gov/800-63-4/sp800-63b.html#introduction" latex-href="#ref-SP800-63B" _istranslated="1">SP800-63B]</a> の要件に従って、すべての代替認証器を管理する<strong class="normative" _istranslated="1">ものとします (SHOULD</strong>)。</p>

<p _msttexthash="615895566" _msthash="396">RP は <a href="https://pages.nist.gov/800-63-4/sp800-63.html#introduction" latex-href="#ref-SP800-63" _istranslated="1">[SP800-63]</a> で説明されている直接認証モデルを使用しているため、フェデレーション トランザクションは存在せず、したがって FAL は割り当てられません。</p>

<p _msttexthash="587065947" _msthash="397">RPがこの種のアクセスを許可する場合、RPは、IdPがRPと共有される情報に関する決定を下せるように、信頼契約で以下を開示<strong class="normative" _istranslated="1">すべきである(SHOULD)。</strong></p>

<ul>
  <li _msttexthash="208342966" _msthash="398">RP サブスクライバ アカウントで代替オーセンティケータを追加および削除するプロセス</li>
  <li _msttexthash="182449501" _msthash="399">加入者が RP にアクセスするために使用できるオーセンティケータに関する制限</li>
  <li _msttexthash="233935481" _msthash="400">フェデレーション トランザクションなしでサブスクライバー アカウントにアクセスするために必要な AAL</li>
  <li _msttexthash="348258209" _msthash="401">RP がサブスクライバーに IdP での認証を要求する状況 (最後のフェデレーション トランザクションからの期間など)</li>
</ul>

<p _msttexthash="469431105" _msthash="402">オーセンティケーター管理イベントに関する加入者への通知に関するその他の考慮事項については、[<a href="https://pages.nist.gov/800-63-4/sp800-63b.html#notification" latex-href="#ref-SP800-63B" _istranslated="1">SP800-63B] の Sec. 4.6</a> を参照してください。</p>

<p _msttexthash="2109137108" _msthash="403">バインドされたオーセンティケーター(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#bound-authn" _istranslated="1">セクション3.16</a>を参照)をRPへの直接アクセスのための代替オーセンティケーターとして使用することは可能ですが、これらの用途は互いに異なり、RPは、特定のオーセンティケーターが一方または両方のシナリオで使用できるかどうかを決定<strong class="normative" _istranslated="1">する必要があります(SHALL SHOULD)。</strong></p>
<h2 id="rp-session" data-section="3"><font _mstmutation="1" _msttexthash="34499569" _msthash="404">RP での認証済みセッション</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-session" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="5509650081" _msthash="405">フェデレーション・トランザクションの最終的な目的は、IdP からの検証済みアサーションによって裏付けられた、加入者と RP の間に認証済みセッションを作成することです。この認証されたセッションは、加入者が RP の機能にアクセスできるようにする (つまり、ログイン)、RP への加入者の識別、またはフェデレーション トランザクションで運ばれる加入者に関する属性の処理に使用できます。
認証されたセッションは、以下の条件が当てはまる場合にのみ、RP によって作成<strong class="normative" _istranslated="1">されるものとします (SHALL )。</strong></p>

<ul>
  <li _msttexthash="96736107" _msthash="406">RP は有効なアサーションを処理および検証しました。</li>
  <li _msttexthash="115081109" _msthash="407">アサーションは、トランザクションの予期される IdP からのものです。</li>
  <li _msttexthash="233840750" _msthash="408">アサーションを発行した IdP は、アサーションのフェデレーション識別子で識別される IdP です。</li>
  <li _msttexthash="192864854" _msthash="409">アサーションは、一時的な RP サブスクライバーアカウントに関連付けられています。</li>
  <li _msttexthash="255947432" _msthash="410">RP サブスクライバ アカウントは、信頼契約で指定された方法で RP でプロビジョニングされています。</li>
</ul>

<blockquote>
  <p _msttexthash="563640090" _msthash="411">フェデレーションが識別プロセスの一部として使用される場合、他のプロセスが完了するまで RP サブスクライバ アカウントが確立されない場合があります。</p>
</blockquote>

<p _msttexthash="5963293427" _msthash="412">アサーションがFAL3でのキー所有者アサーションである場合、第<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-managed-bound-authn" _istranslated="1">3.15節</a>で説明されているように、アサーションで示されたオーセンティケーターは、RP加入者アカウントが認証されたセッションに関連付けられる前に検証される<strong class="normative" _istranslated="1">ものとします(SHALL SHOULD</strong>)。アサーションがFAL3でバインドされたオーセンティケーターによる認証も必要とする場合、第<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#bound-authn" _istranslated="1">3.16節</a>で説明されているように、RP加入者アカウントが認証されたセッションに関連付けられる前に、バインドされたオーセンティケーターが検証される<strong class="normative" _istranslated="1">ものとします(SHOULD</strong>)。</p>

<p _msttexthash="112288670" _msthash="413">認証されたセッションは、いつでも RP によって終了<strong class="normative" _istranslated="1">してもよい(MAY)。</strong></p>

<p _msttexthash="881989264" _msthash="414">IdP と RP の両方のセッション管理要件の詳細については、[<a href="https://pages.nist.gov/800-63-4/sp800-63b.html#sec7" latex-href="#ref-SP800-63B" _istranslated="1">SP800-63B] 第 5 節</a>を参照してください。汎用 IdP に関する追加のセッション要件については、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#federation-session" _istranslated="1">第 4.7 節</a>を参照してください。</p>
<h2 id="privacy-reqs" data-section="3"><font _mstmutation="1" _msttexthash="18888831" _msthash="415">プライバシー要件</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#privacy-reqs" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="3745605539" _msthash="416">サブスクライバの目標は、RP と対話して使用することです。フェデレーションには、RP への直接認証中に関与しない当事者である IdP からの個人属性の転送が含まれます。フェデレーションは、IdP にサブスクライバのアクティビティとステータスを幅広く可視化させる可能性もあります。したがって、フェデレーションには、直接認証には存在しない特定のプライバシー要件が関連付けられています。</p>

<p _msttexthash="6092078915" _msthash="417">RP が IdP にフェデレーション トランザクションを要求すると、この要求とその後のフェデレーション トランザクションの処理により、加入者がログインしている場所が IdP に明らかになります。時間の経過とともに、IdP は、特定の加入者がどの RP を使用しているかの知識に基づいて、加入者トランザクションのプロファイルを構築できます。この集約により、加入者の追跡や、加入者のプライバシー上の利益に合致しない方法での加入者 ID 情報の使用の新たな機会が可能になる可能性があります。</p>

<p _msttexthash="8529510626" _msthash="418">同じ加入者アカウントが複数の RP に対してアサートされ、それらの RP が相互に通信する場合、共謀する RP は、複数のアプリケーションとセキュリティ ドメインにわたる加入者のアクティビティを追跡する可能性があります。IdPは、技術的な手段(例えば、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ppi" _istranslated="1">第3.4.1節</a>、プライバシー強化暗号プロトコルに記載されているペアワイズ仮名識別子の使用)を採用して、関連付け解除を提供し、RP間の加入者アクティビティの追跡とプロファイリングを阻止すべき<strong class="normative" _istranslated="1">である(SHOULD</strong>)。このような措置を決定する際には、IdP は、<em _istranslated="1">NIST プライバシー フレームワーク</em> <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-NIST-Privacy" _istranslated="1">[NIST-Privacy]</a> などの関連するガイドラインと標準を適用<strong class="normative" _istranslated="1">すべきです (SHOULD)。</strong></p>

<p _msttexthash="264887025" _msthash="419">次の要件は、IdP、RP、またはその両方として機能する連邦機関に特に適用されます。</p>

<ol>
  <li>
    <p _msttexthash="1497374840" _msthash="420">政府機関は、プライバシー法の要件が IdP として行動する機関、RP として行動する機関、またはその両方によってトリガーされるかどうかを判断する分析を実施するために、プライバシー法の上級機関 (SAOP) と協議<strong class="normative" _istranslated="1">するものとします (セクション</strong> <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#agency-privacy" _istranslated="1">7.4</a> を参照)。</p>
  </li>
  <li>
    <p _msttexthash="356474222" _msthash="421">政府機関は、該当する場合、記録システム通知 (SORN) によって補償範囲を公開または特定<strong class="normative" _istranslated="1">するものとします</strong>。</p>
  </li>
  <li>
    <p _msttexthash="1024755745" _msthash="422">政府機関は、電子政府法の要件が IdP として行動している機関、RP として行動している機関、またはその両方によってトリガーされるかどうかを判断する分析を実施するために、SAOP と協議<strong class="normative" _istranslated="1">するものとします</strong>。</p>
  </li>
  <li>
    <p _msttexthash="370569563" _msthash="423">政府機関は、該当する場合、プライバシー影響評価(PIA)によって対象範囲を公開または特定<strong class="normative" _istranslated="1">するものとします</strong>。</p>
  </li>
  <li>
    <p _msttexthash="351184392" _msthash="424">政府機関は、IdP と RP の間での加入者 ID 情報の共有に関するプライバシー リスク評価を実施<strong class="normative" _istranslated="1">するものとします</strong>。</p>
  </li>
</ol>

<p _msttexthash="34265642463" _msthash="425">RP加入者アカウントのライフサイクルプロセスが、プロビジョニングAPIを介してRPに属性へのアクセスを許可する場合(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#provisioning" _istranslated="1">第4.6.3条</a>を参照)、RP加入者アカウントのライフサイクルの違いを説明するために、追加のプライバシー対策が実施<strong class="normative" _istranslated="1">されるものとする(例えば</strong>、非アクティブな加入者アカウントの分離、無効および終了されたアカウントの事前の削除)。IdP は、プロビジョニング API を通じて RP が利用できる属性を最小化<strong class="normative" _istranslated="1">するものとします (SHALL )。</strong>IdP は、プロビジョニング API を介して利用可能な加入者アカウントの母集団を、信託契約によって RP の使用を許可された加入者の母集団に制限<strong class="normative" _istranslated="1">するものとします</strong>。IdP で終了したアカウントの ID 属性の RP 保持を防止するために、IdP は、RP データ保持要件、ポリシー、または規制によって制限されている場合を除き、プロビジョニング API を使用して、終了した加入者アカウントの RP 加入者アカウントのプロビジョニングを解除<strong class="normative" _istranslated="1">するものとします。</strong>この措置は、データ最小化の原則を適用するのに役立ちます (<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#enterprise-sso" _istranslated="1">セクション 9.5</a> の例を参照)。RP 加入者アカウントが複数のフェデレーテッド識別子にリンクされている場合(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#account-linking" _istranslated="1">第 3.8.1 節</a>を参照)、プロビジョニング解除プロセスにより、RP 加入者アカウントが RP にまだ存在しているが、別のフェデレーション識別子にリンクされる可能性があります。</p>

<p _msttexthash="292039579" _msthash="426">IdPとRPは、システムの機能を達成するために必要な最小限のデータのみを交換<strong class="normative" _istranslated="1">するものとします(SHALL SHOULD</strong>)。</p>

<p _msttexthash="1000054523" _msthash="427">アイデンティティ属性のリリースに対する加入者の制御を強化するために、信頼契約は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-runtime-decision" _istranslated="1">セクション4.6.1.3</a>で論じられているように、属性のリリースを制御するためにランタイム決定を使用する<strong class="normative" _istranslated="1">べきである(SHOULD)。</strong></p>

<p _msttexthash="1860441947" _msthash="428">フェデレーショントランザクションがエフェメラルプロビジョニングメカニズム(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#provisioning" _istranslated="1">セクション4.6.3</a>を参照)を使用する場合、IdPは、RPがセッション間で情報を保存または関連付けるのを防ぐために、RPへの各承認要求にエフェメラルフェデレーテッド識別子を使用する<strong class="normative" _istranslated="1">べきです(SHOULD)。</strong></p>
<h3 id="transmit-subscriber-info" data-section="3"><font _mstmutation="1" _msttexthash="26261313" _msthash="429">加入者情報の送信</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#transmit-subscriber-info" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="1009050887" _msthash="430">IdPは、加入者情報の送信を、システムが機能するために必要であり、信託契約によって規定および開示されているもののみに制限<strong class="normative" _istranslated="1">するものとします(SHALL SHOULD)。</strong>
これらの機能には、次のものが含まれます。</p>

<ul>
  <li _msttexthash="130700843" _msthash="431">ID 証明、認証、または属性アサーション (総称して「ID サービス」)</li>
  <li _msttexthash="83811793" _msthash="432">情報を送信するための特定の加入者要求。</li>
  <li _msttexthash="95715243" _msthash="433">ID サービスに関連する不正行為の軽減。又は</li>
  <li _msttexthash="109799404" _msthash="434">ID サービスに関連するセキュリティ インシデントへの対応。</li>
</ul>

<p _msttexthash="12191267309" _msthash="435">IdPがRPでの加入者の活動に関する情報をいずれかの当事者に開示したり、これらの場合以外の目的で加入者の属性を処理したりする場合、IdPは、追加の処理から生じるプライバシーリスクに見合った予測可能性と管理可能性を維持するための措置を実施<strong class="normative" _istranslated="1">するものとします(SHOULD)。</strong>措置には、明確な通知の提供、加入者の同意の取得、または属性の選択的な使用または開示の有効化が含まれる<strong class="normative" _istranslated="1">場合があります。</strong>IdPがIDトランザクション以外の情報を使用することについて加入者の同意を収集した場合、IdPは、追加処理に対する同意をIDサービスの条件としない<strong class="normative" _istranslated="1">ものとします</strong>。たとえば、IdP は、サブスクライバが RP にログインできるようにするために、サブスクライバにニュースレターの受信に同意することを要求することはできません。</p>

<p _msttexthash="557118952" _msthash="436">RPは、関連するIdPへの加入者活動の送信を、信託契約によって規定および開示された場合にのみ、以下の場合に制限<strong class="normative" _istranslated="1">するものとします(SHOULD)。</strong></p>

<ul>
  <li _msttexthash="80119520" _msthash="437">ID サービスに関連する不正行為の軽減</li>
  <li _msttexthash="104367224" _msthash="438">ID サービスに関連するセキュリティ インシデントへの対応</li>
</ul>

<p _msttexthash="755527955" _msthash="439">RPが加入者の身元情報を信託契約に規定されている目的以外の目的で使用する場合、RPは加入者に通知し、そのような追加使用について同意を得る<strong class="normative" _istranslated="1">ものとします</strong>。</p>

<p _msttexthash="418054611" _msthash="440">また、信託契約の条件に関わらず、法律や法的手続きを遵守するために加入者情報が送信される可能性もあります。</p>

<p _msttexthash="227783946" _msthash="441">プライバシーエンジニアリングとリスク管理の詳細については、[<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-NISTIR8062" _istranslated="1">NISTIR8062</a>]を参照してください。</p>
<h3 id="sharing-information-between-csps" data-section="3"><font _mstmutation="1" _msttexthash="29587090" _msthash="442">CSP 間での情報の共有</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#sharing-information-between-csps" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="9379202625" _msthash="443">一部の大規模なフェデレーション システム、特にフェデレーション機関によって管理される多国間フェデレーションでは、同じ信頼契約に複数の CSP が存在する可能性があります。このような場合、CSPは、不正行為の軽減などの活動のために相互に情報を共有することが望ましい場合があります(たとえば、攻撃者が検出を回避するために異なるアカウントを持つCSP間をジャンプするのを防ぐため)。この方法で情報を共有することで詐欺を軽減できますが、CSPは、加入者が使用するすべてのCSPに元々開示されていなかった加入者の属性やアクションを相互に学習する可能性があるため、プライバシーに関する大きな懸念もあります。</p>

<p _msttexthash="1239950543" _msthash="444">リモートシステムでホストされている加入者制御ウォレット間など、CSPから独立して動作する可能性のあるIdP間で同様の情報共有が望ましい場合があり、そのような共有には同様のプライバシーの考慮事項があります。</p>

<p _msttexthash="1095462316" _msthash="445">CSPおよび/またはIdP間のすべての情報送信は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#transmit-subscriber-info" _istranslated="1">第3.10.1条</a>に列挙されたIdPの制限に従う<strong class="normative" _istranslated="1">ものとします(MUST</strong>)。CSPおよび/またはIdP間のそのような情報共有は、プライバシーリスク評価に含まれる<strong class="normative" _istranslated="1">ものとします(MUST)。</strong></p>

<p _msttexthash="1400266075" _msthash="446">CSP をつなぐ信頼契約の条件は、CSP 間で共有される情報の転送に適用されるポリシーを定義する<strong class="normative" _istranslated="1">ものとします (SHALL )。</strong>フェデレーション機関によって管理される信頼契約では、フェデレーション機関がこれらの条件を定義します。</p>
<h2 id="security-controls" data-section="3"><font _mstmutation="1" _msttexthash="24381019" _msthash="447">セキュリティコントロール</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#security-controls" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="29437330234" _msthash="448">IdP および CSP は、少なくとも <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SP800-53" _istranslated="1">[SP800-53]</a> で定義されている中程度のベースライン セキュリティ コントロール、または同等の連邦 (<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-FEDRAMP" _istranslated="1">[FEDRAMP]</a> など) または、これらのガイドラインが保護する情報システム、アプリケーション、およびオンライン サービスについて組織が決定した業界標準から、適切に調整されたセキュリティ制御を採用<strong class="normative" _istranslated="1">するものとします (SHOULD</strong>)。RP は、少なくとも <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SP800-53" _istranslated="1">[SP800-53]</a> で定義されている低いベースライン セキュリティ コントロール、または同等の連邦 (<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-FEDRAMP" _istranslated="1">[FEDRAMP]</a> など) または、これらのガイドラインが保護するために使用される情報システム、アプリケーション、およびオンライン サービスについて組織が決定した業界標準から、適切に調整されたセキュリティ制御を採用<strong class="normative" _istranslated="1">するものとします (SHOULD</strong>)。個人情報を要求または処理するRPは、少なくとも<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SP800-53" _istranslated="1">[SP800-53]</a>または同等の連邦(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-FEDRAMP" _istranslated="1">[FEDRAMP]</a>など)または業界標準で定義されている中程度のベースラインセキュリティコントロールから、適切に調整されたセキュリティコントロールを採用<strong class="normative" _istranslated="1">するものとします(SHOULD</strong>)。CSP、IdP、およびRPは、適切なシステムまたは同等のシステムに対する最低限の保証関連コントロールが満たされるか、または超過されていることを保証する<strong class="normative" _istranslated="1">ものとします(SHOULD</strong>)。</p>
<h3 id="injection-protection" data-section="3"><font _mstmutation="1" _msttexthash="76172200" _msthash="449">アサーション インジェクション攻撃からの保護</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#injection-protection" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="9368796346" _msthash="450">フェデレーテッド プロトコルのコンテキストにおける<em _istranslated="1">アサーション インジェクション攻撃</em>は、攻撃者が RP にアクセスしたり、RP への正当な加入者アクセスを拒否したりするために、RP にアサーションまたはアサーション参照を受け入れまたは処理させようとすることで構成されます。攻撃者は、アサーションまたはアサーション参照を取得し、脆弱な RP に挿入することでこれを行います。攻撃者が成功すると、RP をだまして、攻撃者のセッションをアサーション内のフェデレーション識別子にバインドさせることができます。攻撃者の主張は、正規の加入者から盗まれたものであるか、攻撃を実行するために捏造されたものである可能性があります。</p>

<p _msttexthash="18453400329" _msthash="451">アサーション インジェクション攻撃からの保護は、すべての FAL で推奨され、FAL2 以降で必要です。いずれの場合も、RP は、RP ソフトウェアの性質、使用中のフェデレーション プロトコルの機能、およびシステム全体のニーズに基づいて、攻撃者が挿入されたアサーションまたはアサーション参照を提示できないように合理的な手順を実行する必要があります。<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC" _istranslated="1">[OIDC]</a> と <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SAML" _istranslated="1">[SAML]</a> はどちらも、要求中に RP から送信されるナンス、バックチャネル通信用の RP 認証、RP がフェデレーション トランザクションを開始し、プロセス全体を通じてその状態を追跡する方法など、アサーション インジェクション保護のメカニズムを提供します。メカニズムが異なれば、保護の程度も異なり、さまざまな状況に適用できます。
特定の保護の詳細は、使用されているフェデレーションプロトコルとテクノロジによって異なりますが、次のような一般的なベストプラクティスを使用して、攻撃対象領域を制限できます。</p>

<ul>
  <li><font _mstmutation="1" _msttexthash="508103986" _msthash="452">バックチャネルアサーションプレゼンテーション:RPがIdPからの直接応答の外部でアサーションを受け入れるのを防ぎます(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#back-channel" _mstmutation="1" _istranslated="1">セクション4.11.1を参照)</a></font>)</li>
  <li _msttexthash="826509996" _msthash="453">推測できない値を使用して、RP での未認証セッションをバック チャネルへの要求に結び付け、攻撃者が 1 つのセッションから別のセッションにアサーション参照を挿入するのを防ぎます</li>
  <li _msttexthash="488887308" _msthash="454">攻撃者が RP からの要求を偽装してフェデレーション プロセスを開始できないように、アサーション要求中に RP に IdP への認証を要求する</li>
  <li _msttexthash="3938311468" _msthash="455">RP が IdP からの未承諾のアサーションおよびアサーション参照を受け入れないようにするために、IdP が開始するフェデレーションプロセスを禁止するが、この禁止には、外部当事者 (IdP やフェデレーション機関など) が IdP とのフェデレーションプロセスを開始するように RP に信号を送り、RP がフェデレーショントランザクションを開始し、そのトランザクション内の応答を安全に待機できるようにするプロセスは含まれません</li>
  <li _msttexthash="847922010" _msthash="456">IdP からの署名付きフロント チャネル応答と、署名でカバーされる RP 提供のナンスを使用すると、攻撃者があるセッションから別のセッションにアサーション参照を挿入するのを防ぎます</li>
  <li _msttexthash="189250568" _msthash="457">HTTP リダイレクトではなく、フロントチャネル通信にプラットフォーム API を使用する</li>
</ul>

<p _msttexthash="1996566858" _msthash="458">アサーションインジェクション攻撃は、攻撃者が加入者をだまして攻撃者のセッションに挿入する有効なアサーションを生成させたり、攻撃者が加入者をだましてRPの加入者のセッションに攻撃者のアサーションを挿入したりできるため、フィッシング攻撃と組み合わせると特に危険です。</p>
<h3 id="protecting-information" data-section="3"><font _mstmutation="1" _msttexthash="26262561" _msthash="459">加入者情報の保護</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#protecting-information" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="1437524530" _msthash="460">IdP と RP の間の通信は、認証された保護チャネルを使用して転送中に保護<strong class="normative" _istranslated="1">されるものとします。</strong>加入者と IdP または RP の間の通信 (通常はユーザーエージェントを介して) は、認証された保護されたチャネルを使用して行われる<strong class="normative" _istranslated="1">ものとします (SHALL )。</strong></p>

<p _msttexthash="2455432642" _msthash="461">IdP は、デバイス ID、ロケーション、システム ヘルス チェック、設定管理など、セキュリティ ポリシーを適用する際の RP に役立つ情報にアクセスできる場合があります。IdP は、第 <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#notice" _istranslated="1">7.2 条</a>に記載されているように、信託契約の範囲内で、加入者の通知と同意を条件として、この情報を RP に開示<strong class="normative" _istranslated="1">しても構いません</strong>。</p>

<p _msttexthash="3299586823" _msthash="462">ID 属性は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#s-identity-api" _istranslated="1">セクション 3.12.3</a> で説明されているように、ID API へのアクセスを承認することにより、アサーション自体の外部に含め<strong class="normative" _istranslated="1">てもよい(MAY)。</strong>この方法で ID 情報を分割すると、加入者のプライバシーが保護され、認証アサーション自体の必須情報に加えて、個人情報の開示を制限できます。ID API の使用は、信頼契約の条件に列挙される<strong class="normative" _istranslated="1">ものとします (SHALL )。</strong></p>

<p _msttexthash="1730151176" _msthash="463">派生属性値が利用可能であり、RPのニーズを満たす場合、RPは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#minimization" _istranslated="1">第7.3節</a>に記述されているように、完全な属性値ではなく派生属性値を要求<strong class="normative" _istranslated="1">すべきである(SHOULD)。</strong>IdP は、基盤となるフェデレーション プロトコルが許可する範囲で派生属性値をサポートする<strong class="normative" _istranslated="1">べきです (SHOULD</strong>)。</p>
<h3 id="store-subscriber-info" data-section="3"><font _mstmutation="1" _msttexthash="24020503" _msthash="464">加入者情報の保存</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#store-subscriber-info" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="1954307940" _msthash="465">アカウントがアクティブであるかどうかにかかわらず、IdPおよびRPは、[<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SP800-53" _istranslated="1">SP800-53]</a>または同等の連邦(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-FEDRAMP" _istranslated="1">[FEDRAMP]</a>など)または業界標準で定義されているカスタマイズされたセキュリティ制御を使用して、加入者アカウントまたはRP加入者アカウントに個人情報を保存<strong class="normative" _istranslated="1">するものとします</strong>。</p>

<p _msttexthash="4856979530" _msthash="466">RP加入者アカウントが加入者にアクセスできなくなった場合(例えば、アカウントに関連付けられたフェデレーテッド識別子がなく、代替の認証手段がない場合)、RPはRP加入者アカウントを終了<strong class="normative" _istranslated="1">すべきである(SHOULD)。</strong>特に、RPがアカウントリンク(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#account-linking" _istranslated="1">第3.8.1条</a>参照)または代替オーセンティケータ(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#local-authentication" _istranslated="1">第3.8.3条</a>参照)をサポートする場合、RPは、RP加入者アカウントを終了せず、代わりにアカウントを無効にし、必要な情報を保持することを選択して<strong class="normative" _istranslated="1">も構いません(MAY)。</strong></p>

<p _msttexthash="10263011395" _msthash="467">IdPおよびRPは、規制、法律、またはポリシーによって別段の制限がある場合、またはアプリケーションのリスクにより加入者の情報を保持することが不可欠であると判断した場合を除き、アカウントの終了時に加入者アカウントおよびRP加入者アカウントの個人情報の削除を支持<strong class="normative" _istranslated="1">すべきです(SHOULD)。</strong>削除を支持しない IdP と RP は、法定またはリスクベースの正当な理由を提供し、それを信託契約に文書化<strong class="normative" _istranslated="1">するものとします</strong>。
たとえば、RP は、アカウントが終了した後も保持されるアクセス ログと監査ログにフェデレーション識別子を記録できます。ただし、すべての ID 属性と個人情報は、RP がその機能に必要としなくなったため、RP 自身のストレージから削除されます。</p>

<p _msttexthash="1592233617" _msthash="468">RP サブスクライバー アカウントが終了した場合、RP は、規制、法律、またはポリシーによって別段の制限がある場合、またはアプリケーションのリスクが不可欠であると判断した場合を除き、すべてのサブスクライバー属性をストレージから削除<strong class="normative" _istranslated="1">するものとします。</strong></p>
<h2 id="identity-attributes" data-section="3"><font _mstmutation="1" _msttexthash="5980247" _msthash="469">ID 属性</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#identity-attributes" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="839874269" _msthash="470">サブスクライバを表す ID 属性は、フェデレーション トランザクション中に RP に送信されます。これらの属性は、さまざまな方法で組み合わせることができる複数の側面を帯びています。</p>

<div latex-literal="true" class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\clearpage
</code></pre></div></div>

<dl>
  <dt _msttexthash="14868321" _msthash="471">バンドル：</dt>
  <dd _msttexthash="887274869" _msthash="472">属性は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#attribute-bundles" _istranslated="1">第 3.12.1 節</a>で説明されているように、<em _istranslated="1">バンドル解除</em> (つまり、IdP によるアサーションで直接提示される) か、CSP によって暗号的に署名されたパッケージに<em _istranslated="1">バンドルされる</em><strong class="normative" _istranslated="1">ものとします (MUST</strong>)。</dd>
  <dt _msttexthash="13303940" _msthash="473">派生：</dt>
  <dd _msttexthash="316333251" _msthash="474">属性は、<em _istranslated="1">属性値</em>(生年月日など)または<em _istranslated="1">派生属性値</em>(成人年齢の表示など)のいずれかである<strong class="normative" _istranslated="1">ものとします(MUST</strong>)。</dd>
  <dt _msttexthash="29683979" _msthash="475">プレゼンテーション：</dt>
  <dd _msttexthash="462293481" _msthash="476">属性は、アサーションで提示され、アサーションの署名でカバーされるか、保護された ID API の一部として利用可能になる<strong class="normative" _istranslated="1">ものとします。</strong></dd>
</dl>

<p _msttexthash="335287511" _msthash="477">信頼契約は、属性の検証に使用されるプロセスとソースを説明する CSP の実践ステートメントを指す<strong class="normative" _istranslated="1">ものとします (SHALL )。</strong></p>
<h3 id="attribute-bundles" data-section="3"><font _mstmutation="1" _msttexthash="11542323" _msthash="478">属性バンドル</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#attribute-bundles" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<blockquote>
  <p _msttexthash="1551958694" _msthash="479">他のプロトコルや仕様では、属性バンドルを<em _istranslated="1">資格情報</em>と呼ぶことがよくあります。ただし、この用語は、これらのガイドライン内での別の概念の使用と矛盾します。したがって、これらのガイドラインでは、代わりに「属性バンドル」という用語が使用されます。</p>
</blockquote>

<p _msttexthash="7727551520" _msthash="480">アサーション API または ID API で IdP から属性を直接送信する代わりに、属性値と派生属性値を CSP によって署名されたバンドルに収集できます。これらの属性バンドルは、IdP によって提供される保護とは無関係に、属性バンドルの暗号化保護を使用して RP によって検証できます。属性バンドルは、加入者が管理するウォレットで一般的に使用されます。属性のバンドルに使用されるテクノロジーの例としては、選択的開示 JSON Web トークン <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SD-JWT" _istranslated="1">[SD-JWT]</a>、[<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-VC" _istranslated="1">VC]</a> で定義されている検証可能な資格情報データ モデル、[<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-ISOIEC18013" _istranslated="1">ISOIEC18013-5]</a> で定義されている mDoc モバイル セキュリティ オブジェクトなどがあります。</p>

<p _msttexthash="2025766392" _msthash="481">属性バンドルの表示は、バンドルされていない属性と同じ方法で IdP によって保護<strong class="normative" _istranslated="1">されるものとします。</strong>つまり、アサーションで提示される属性バンドルはアサーションのシグニチャーでカバーされ、ID API によって使用可能になる属性バンドルは、その API への制限付きアクセス制御によって保護されます。</p>

<p _msttexthash="14545667097" _msthash="482">属性バンドルには、1 つ以上の属性値と派生属性値、および発行元の CSP の識別子が含まれます。これらの属性値の 1 つは、発行元の CSP がサブスクライバー間でこの値の一意性を保証する場合、サブスクライバー識別子として機能する可能性があります。属性バンドルは IdP からのアサーションで伝送されるため、バンドル内の加入者属性は、すべてのトランザクションですべての RP に完全に開示する必要はなく、代わりに選択的に RP に開示できます。選択的開示技術を使用する属性バンドルは、IdP に新しいバンドルを発行することなく、RP が属性バンドルから読み取ることができる属性を制限することで、システムのプライバシーを高めることができます。RP は、IdP が属性バンドルのすべての内容を RP に開示しなくても、属性バンドル全体の署名を確認し、バンドルの送信元を CSP として確認できます。</p>

<p _msttexthash="331081660" _msthash="483">RPは、属性バンドルに固有の署名と、アサーション全体の署名などのコンテナ署名を検証<strong class="normative" _istranslated="1">するものとします(SHALL SHOULD</strong>)。</p>

<p _msttexthash="2296998106" _msthash="484">属性バンドルは、オプションで、バンドルが発行された IdP の検証キーを含め<strong class="normative" _istranslated="1">ても構いません。</strong>このような場合、RPは、署名された属性バンドル内のIdPの検証キーを使用してアサーション上の署名を検証することにより、アサーションが属性バンドルで要求されたIDによって提示されることを確認する<strong class="normative" _istranslated="1">ものとします(SHOULD</strong>)。</p>
<h3 id="derived-attribute-values" data-section="3"><font _mstmutation="1" _msttexthash="14563458" _msthash="485">派生属性値</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#derived-attribute-values" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="10756204485" _msthash="486">一部のユースケースでは、RP が機能するために ID 属性の実際の値を把握することは厳密には必要ではなく、ID 属性から派生した値で十分です。たとえば、RP が加入者が成人年齢を超えているかどうかを知る必要がある場合、RP は加入者の生年月日を要求し、この値から成人年齢の質問を計算できます。ただし、そうすることで、RP の機能要件に実際に必要とされるよりも具体的な情報が RP に明らかになります。代わりに、IdP は、RP の要求時に加入者の年齢が過半数の定義を満たしているかどうかを計算し、生年月日値自体の代わりに、この導出に対して単純なブール値を返すことができます。その後、RP は、基礎となる値を見ることなく処理を続行できます。</p>

<p _msttexthash="10033040459" _msthash="487">派生属性値は、RP への情報のより集中的なリリースを可能にするため、システムのプライバシーを強化します。一部のフェデレーションシステムでは、RP がリクエスト時に任意の派生属性値を動的にクエリできますが、IdP が共通の派生属性値を事前に計算し、完全な属性値の代替として提供することで、多くの一般的なユースケースに対応できます。プライバシーを保護するため、派生属性値は、基になる属性値をリクエスターに開示<strong class="normative" _istranslated="1">してはなりません。</strong>一部の属性バンドルに見られるように、選択的開示テクノロジーを使用して、完全な属性値と派生属性値の両方を同じ応答に持ち込み、アプリケーションに必要なもののみを開示できます。</p>

<p _msttexthash="497880162" _msthash="488">派生した属性値は、アサーションに直接含まれるか(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertions" _istranslated="1">セクション4.9</a>および<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertion-contents" _istranslated="1">セクション5.8</a>を参照)、属性バンドルに含まれます(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#attribute-bundles" _istranslated="1">セクション3.12.1</a>を参照)。</p>
<h3 id="s-identity-api" data-section="3"><font _mstmutation="1" _msttexthash="42159" _msthash="489">ID API</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#s-identity-api" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="8693340734" _msthash="490">プロフィール情報を含むサブスクライバーに関する属性は、<em _istranslated="1">ID API</em> と呼ばれる保護された API を通じて RP に提供<strong class="normative" _istranslated="1">されても構いません。</strong>RP には、アサーションと連携して、フェデレーショントランザクション中に ID API への制限付きアクセスが許可されます。たとえば、OpenID Connect では、UserInfo エンドポイントは、サブスクライバーに関する属性を取得するための標準化された ID API を提供します。この API は、OpenID Connect のアサーションである ID トークンとともに RP に発行される OAuth 2.0 アクセストークンによって保護されています。ID API は、ID 情報が承認された RP のみが利用できるようにするために、送信者制約付きアクセスを要求<strong class="normative" _istranslated="1">すべきです (SHOULD)。</strong></p>

<p _msttexthash="5241904070" _msthash="491">ID API で属性を使用できるようにすることで、IdP はアサーションを使用して RP にできるだけ多くの情報を伝達する必要がなくなります。これは、機密性の高い属性をアサーション自体に含める必要がないだけでなく、アサーションが小さくなり、RP による処理が容易になることを意味します。アサーションの内容は、重要なフィールド (一意のサブジェクト識別子など)、IdP での認証イベントに関する情報、およびフェデレーション トランザクションに関する情報に制限できます。</p>

<p _msttexthash="11464390691" _msthash="492">また、ID API を使用すると、RP は IdP からのサブスクライバ属性の送信を管理できます。RP は、多くの場合、IdP によって提供された属性を RP 加入者アカウントにキャッシュし(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-account" _istranslated="1">セクション 3.8</a> を参照)、RP はこれらの属性が IdP から最後に受信された日時を記録できます。RP は、アサーション内のすべてのフェデレーション トランザクションでサブスクライバ属性を受信するのではなく、RP サブスクライバ アカウントを更新する必要がある場合にのみサブスクライバ属性を要求できます。IdP は、RP で使用可能な加入者属性のいずれかが IdP で更新された時刻をアサーションに示すことで、この決定を支援できます。このアプローチは、加入者の属性が時間の経過とともに安定している場合に特に役立ちます。</p>

<p _msttexthash="9441204760" _msthash="493">API を通じて利用可能なプロビジョニング モデルを含む、ID API のすべての可能な使用は、信頼契約の一部として記録され、開示<strong class="normative" _istranslated="1">されるものとします</strong>。ID API へのアクセスは、信頼契約によって時間制限を受ける<strong class="normative" _istranslated="1">ものとします。</strong>ID API へのアクセスは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#attribute-sync" _istranslated="1">第 4.6.4 節</a>で説明されているように、フェデレーション トランザクションの期間に属性の同期に必要な時間を加えたものに制限<strong class="normative" _istranslated="1">されるべきです (SHOULD</strong>)。時間制限は、アサーションの有効期間ウィンドウおよびRPでの認証されたセッションの存続期間とは別のものであるため、関連する有効なアサーションなしでRPによるIDAPIへのアクセスは、RPでの認証されたセッションの確立に十分<strong class="normative" _istranslated="1">ではない(SHALL NOT</strong>)。</p>

<p _msttexthash="26602463953" _msthash="494">特定の ID API デプロイメントは、IdP がアサーションを作成できるすべてのサブスクライバーに属性を提供できることが期待されます。ただし、ID API へのアクセスがフェデレーション トランザクションのコンテキスト内で付与される場合、ID API によって提供される属性は、関連するアサーションで識別された単一のサブスクライバーにのみ関連付け<strong class="normative" _istranslated="1">られるものとします (SHALL SHOULD</strong>)。ID API が IdP によってホストされている場合、返される属性には、サブスクライバーのサブジェクト識別子が含まれる<strong class="normative" _istranslated="1">ものとします。</strong>これにより、RP はアサーションのサブジェクトを返された属性に正の相関関係にすることができます。RP サブスクライバ アカウントの事前プロビジョニングの一部として ID API へのアクセスが提供される場合 (<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#provisioning" _istranslated="1">セクション 4.6.3</a> を参照)、通常、RP にはフェデレーション トランザクションのコンテキスト外で ID API への包括的なアクセスが許可され、これらの要件は適用されません。プロビジョニング前のユースケースでは、プライバシーに関する考慮事項は、信頼契約の一部として評価され、記録<strong class="normative" _istranslated="1">されるものとします(SHOULD</strong>)。ID API が IdP から外部でホストされている場合は、<a href="https://pages.nist.gov/800-63-4/3_federation#external-identity-api" _istranslated="1">セクション 3.12.3.1</a> の要件が適用されます。</p>
<h4 id="external-identity-api" data-section="3"><font _mstmutation="1" _msttexthash="5984823" _msthash="495">外部 ID API</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#external-identity-api" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h4>

<p _msttexthash="11513065135" _msthash="496">フェデレーションプロトコルで使用されるほとんどのアイデンティティAPIはIdPの一部としてホストされますが、IdPはIdPの外部でホストされている外部アイデンティティAPIへのアクセス権をRPに付与することもできます。外部 ID API は通常、CSP 以外の属性プロバイダーによって提供され、サブスクライバー アカウントから使用できる属性に加えて、サブスクライバーに関する属性を提供します。IdP が外部 ID API へのアクセスを許可すると、外部 ID API から返される情報は、IdP がホストする ID API と同様にサブスクライバーに関連付けられます。信頼契約の目的上、IdP は、外部 ID API によって返されるデータを制御できない場合でも、外部 ID API のコンテンツとサブスクライバーアカウントの関連付けに責任を負います。</p>

<p _msttexthash="22893840216" _msthash="497">外部 ID API によって返される属性は、IdP から直接返される属性とは独立していると想定されるため、外部 ID API のコンテンツは、IdP によって使用されるものとは異なる識別子、形式、またはスキーマを使用して<strong class="normative" _istranslated="1">も構いません。</strong>特に、外部 ID API は、IdP がホストする ID API と同じフェデレーション識別子を使用することは想定されていません。
たとえば、IdP は、加入者の医療免許情報へのアクセスを提供できます。IdP がライセンスステータスを直接アサートする代わりに、IdP は、サブスクライバーを代表する医療免許機関のレコードへの RP アクセスを提供します。フェデレーションプロトコルは、IdP がサブスクライバーを表すレコードと、この API への制限付きアクセスを許可する資格情報を含む API へのリンクを提供できるようにすることで、これを有効にすることができます。その後、RP は、ライセンス レコードが別の識別子を使用する可能性が高く、RP によって相関できない場合でも、加入者と医療ライセンス レコードとの間に強い関連付けを作成できます。IdP は、このリンクを RP に提供する責任を負います。</p>

<p _msttexthash="406950102" _msthash="498">属性を提供するための外部 ID API の使用は、属性ソースのリストの一部として信頼契約によって列挙<strong class="normative" _istranslated="1">されるものとします (SHALL )。</strong></p>
<h2 id="assertion-protection" data-section="3"><font _mstmutation="1" _msttexthash="19216340" _msthash="499">アサーション保護</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertion-protection" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="2257936148" _msthash="500">アサーションは、攻撃者が有効なアサーションを作成したり、キャプチャされたアサーションを異なる RP で再利用したりすることを防ぐための一連の保護を含む<strong class="normative" _istranslated="1">ものとします (SHOULD</strong>)。必要な保護は、検討されているユースケースの詳細によって異なり、具体的な保護は次のサブセクションにリストされています。</p>
<h3 id="assertion-id" data-section="3"><font _mstmutation="1" _msttexthash="23677355" _msthash="501">アサーション識別子</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertion-id" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="1827658872" _msthash="502">アサーションは、ターゲット RP による一意の識別を可能にするのに十分な一意性である<strong class="normative" _istranslated="1">ものとします (MUST)。</strong>アサーションは、埋め込まれたナンス、発行タイムスタンプ、アサーション識別子、またはこれらまたは他の手法の組み合わせを使用して、これを実現<strong class="normative" _istranslated="1">しても構いません(MAY)。</strong></p>
<h3 id="signed-assertion" data-section="3"><font _mstmutation="1" _msttexthash="22337861" _msthash="503">署名付きアサーション</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#signed-assertion" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="2734421014" _msthash="504">アサーションは、発行者(IdP)によって暗号的に署名される<strong class="normative" _istranslated="1">ものとします(MUST)。</strong>RPは、発行者の検証キーに基づいて、そのような各アサーションのデジタル署名またはMACを検証<strong class="normative" _istranslated="1">するものとします(MUST)。</strong>この署名は、その識別子、発行者、オーディエンス、サブジェクト、および有効期間を含むアサーション全体をカバー<strong class="normative" _istranslated="1">するものとします(SHOULD</strong>)。</p>

<p _msttexthash="818718290" _msthash="505">アサーション署名は、非対称鍵を使用するデジタル署名、または承認された暗号化を使用して RP と発行者の間で共有される対称鍵を使用する MAC のいずれかである<strong class="normative" _istranslated="1">ものとします (MUST</strong>)。</p>
<h3 id="encrypted-assertion" data-section="3"><font _mstmutation="1" _msttexthash="27543074" _msthash="506">暗号化されたアサーション</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#encrypted-assertion" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="1313601653" _msthash="507">アサーションの内容を暗号化して、機密情報がユーザー エージェントなどの信頼できない第三者に公開されないように保護できます。この保護は、アサーションに加入者に関する個人情報が含まれている場合に特に重要です。</p>

<p _msttexthash="172992313" _msthash="508">信頼契約は、他の状況ではアサーション内容の暗号化を要求<strong class="normative" _istranslated="1">してもよい(MAY)。</strong></p>

<p _msttexthash="3391542024" _msthash="509">ほとんどのアサーション形式はアサーション全体の暗号化をサポートしていますが、一部のアサーション形式では、アサーションの個人情報部分のみを暗号化できるため、アサーション全体を暗号化せずに機密情報を RP に選択的に開示できます。
アサーションの一部が暗号化されると、必要な復号化キーを保持している RP のみがアサーション内の暗号化された情報にアクセスできます。</p>

<p _msttexthash="1665640483" _msthash="510">アサーションを暗号化する場合、IdP は、承認された暗号化で RP の暗号化キーを使用してアサーションの内容を暗号化<strong class="normative" _istranslated="1">するものとします (SHALL )。</strong>
たとえば、SAML アサーションは XML 暗号化を使用して暗号化でき、OpenID Connect ID トークンは JSON Web 暗号化 (JWE) を使用して暗号化できます。</p>

<p _msttexthash="1035568391" _msthash="511">バックチャネルプレゼンテーションで使用すると、IdP と RP の間に TLS チャネルを中断する仲介者がない場合、相互に認証された TLS 接続を使用してアサーションを転送中に暗号化することもできます。</p>

<p _msttexthash="1738968517" _msthash="512">サブジェクト識別子の意味は、SSN、電子メールアドレス、運転免許証番号などの他の可能な識別子とは異なり、ターゲットシステムのコンテキストに依存します。したがって、サブジェクト識別子だけでは、個人情報の保護に基づく暗号化要件は発生しません。</p>
<h3 id="audience-restriction" data-section="3"><font _mstmutation="1" _msttexthash="22695400" _msthash="513">オーディエンス制限</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#audience-restriction" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="3231929337" _msthash="514">アサーションは、RP が発行されたアサーションの意図されたターゲットであるかどうかを認識できるように、オーディエンス制限手法を使用する<strong class="normative" _istranslated="1">ものとします (SHALL )。</strong>すべてのRPは、あるRPに対して生成されたアサーションのアサーションのアサーションインジェクションと再生を防止するために、アサーションのオーディエンスにRPの識別子が含まれていることを確認<strong class="normative" _istranslated="1">しなければならない(SHOULD)。</strong></p>

<p _msttexthash="1321857615" _msthash="515">攻撃者によってアサーションが正常に再生される可能性のある場所を制限するために、IdP は 1 つのオーディエンスに対してのみ指定されたアサーションを発行<strong class="normative" _istranslated="1">すべきです (SHOULD</strong>)。FAL2以上では、1人の視聴者に制限する必要があります。</p>
<h2 id="bearer" data-section="3"><font _mstmutation="1" _msttexthash="21457878" _msthash="516">ベアラー・アサーション</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#bearer" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="5256163185" _msthash="517">無記名アサーションは、それを提示する当事者の身元の証明として単独で提示できます。アサーションの検証以外の証拠は必要ありません。同様に、ベアラー・アサーション参照は、単独で RP に提示し、RP がアサーションをフェッチするために使用できます。攻撃者がサブスクライバを表す有効なアサーションまたはアサーション参照をキャプチャまたは製造し、そのアサーションまたは参照を RP に正常に提示できる場合、攻撃者はその RP でサブスクライバになりすます可能性があります。</p>

<p _msttexthash="2923395618" _msthash="518">無記名の主張や参照を所有しているだけでは、必ずしも加入者になりすますのに十分ではありません。たとえば、アサーションがバックチャネルフェデレーションモデル(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#back-channel" _istranslated="1">セクション4.11.1</a>を参照)で提示された場合、RPを不正行為からさらに保護するのに役立つ追加の制御(RPの識別、アサーションインジェクション保護など)をトランザクションに配置できます。</p>
<h2 id="idp-managed-bound-authn" data-section="3"><font _mstmutation="1" _msttexthash="34224567" _msthash="519">キーの所有者のアサーション</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-managed-bound-authn" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="5039857693" _msthash="520">鍵の所有者のアサーション(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-3" _istranslated="1">図3</a>)は、加入者が制御する証明書の公開鍵など、RPによって独立して検証できるオーセンティケーターの一意の識別子を含<strong class="normative" _istranslated="1">まなければならない(SHOULD</strong>)。RPは、サブスクライバがアサーションによって識別された認証子を所有していることを確認する<strong class="normative" _istranslated="1">ものとします(SHOULD</strong>)。キー所有者アサーションは、認証テクノロジが IdP と RP の両方によって信頼される公開鍵インフラストラクチャ (PKI) に関連付けられている場合に最もよく使用されます。</p>

<p latex-ignore="true"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-9" name="fig-3" _msttexthash="40248975" _msthash="521">図3.キー所有者のアサーション</a></p>

<p><img src="./sp800-63c_files/IdP-Managed-Bound-Auth.png" alt="キー所有者アサーションの使用を示す図。" title="Holder-of-key assertions" latex-src="IdP-Managed-Bound-Auth.pdf" latex-fig="3" latex-place="h" _mstalt="2185833" _msthash="522"></p>

<p _msttexthash="5941944385" _msthash="523">鍵所有者アサーションで識別されるオーセンティケーターは、加入者が IdP への認証に使用するプライマリ オーセンティケーターとは区別<strong class="normative" _istranslated="1">されても構いません。</strong>キー所有者アサーションで識別された認証者は、[<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#verifimpers" latex-href="#ref-SP800-63B" _istranslated="1">SP800-63B] のセクション 3.2.5</a> で定義されているように、フィッシングに耐性がある<strong class="normative" _istranslated="1">ものとします</strong>。RPが鍵の所有者アサーションで初めてオーセンティケーターに遭遇した場合、RPは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#account-resolution" _istranslated="1">第3.8.2節</a>で論じられているように、オーセンティケーターがRP加入者アカウントに一意に解決できることを保証する<strong class="normative" _istranslated="1">ものとする(SHOULD</strong>)。</p>

<p _msttexthash="412076600" _msthash="524">鍵の所有者のアサーションは、認証子として使用される暗号化されていない秘密鍵または対称鍵を含め<strong class="normative" _istranslated="1">てはなりません(MUST NOT</strong>)。</p>

<p _msttexthash="430128049" _msthash="525">加入者のデバイス上で実行される加入者制御ウォレットからのアサーションは、キー所有者のアサーションと見なすことができます。</p>

<p _msttexthash="744049267" _msthash="526"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fal3-smart-card" _istranslated="1">セクション 9.6</a> では、相互 TLS 接続を使用して、アサーションによってリストされているスマート カード上の証明書の所有の証明を提供する、より完全な例を示します。</p>

<p _msttexthash="1828659287" _msthash="527">キー所有者のアサーションで使用されるオーセンティケーターは複数の当事者に提示される可能性があり、これらのオーセンティケーターには ID 属性が含まれていることが多いため、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#privacy" _istranslated="1">第 7 節</a>で説明されているように、対処すべき追加のプライバシーに関する考慮事項があります。</p>
<h2 id="bound-authn" data-section="3"><font _mstmutation="1" _msttexthash="41379377" _msthash="528">バインドされたオーセンティケーター</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#bound-authn" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="14099631013" _msthash="529">バインドされたオーセンティケーター(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-4" _istranslated="1">図4</a>)は、RP加入者アカウントにバインドされ、RPによって管理されるオーセンティケーターです。IdPは、アサーションがFAL3でバインドされたオーセンティケーターで使用される場合に、アサーションにインジケーターを含める<strong class="normative" _istranslated="1">ものとします(SHALL SHOULD</strong>)。オーセンティケーターの一意の識別子(公開鍵など)は、RP サブスクライバー アカウントに格納<strong class="normative" _istranslated="1">されるものとします。</strong>RP は、[<a href="https://pages.nist.gov/800-63-4/sp800-63b.html#attestation" latex-href="#ref-SP800-63B" _istranslated="1">SP800-63B] のセクション 3.2.4</a> で説明されているように、署名付き認証を含めるなど、バインドされたオーセンティケーターの特性を評価するための信頼できる基盤を持つ必要があります。バインドされたオーセンティケーターは、オーセンティケーター テクノロジが IdP と RP の両方によって信頼される PKI に関連付けられていない場合(たとえば、そのような PKI が存在しない場合)に最もよく使用されます。</p>

<p latex-ignore="true"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-10" name="fig-4" _msttexthash="51688299" _msthash="530">図4.バインドされたオーセンティケーター</a></p>

<p><img src="./sp800-63c_files/RP-Managed-Bound-Auth.png" alt="RP で管理されるバインドされたオーセンティケータの使用を示す図。" title="Bound authenticators" latex-src="RP-Managed-Bound-Auth.pdf" latex-fig="4" latex-place="h" _mstalt="3036228" _msthash="531"></p>

<p _msttexthash="16123530800" _msthash="532">バインドされたオーセンティケーターは、2 人のサブスクライバーが別々の RP サブスクライバー アカウントに対して同じオーセンティケーターを提示できないように、RP のサブスクライバーごとに一意である<strong class="normative" _istranslated="1">ものとします。</strong>すべてのバインドされた認証者は、[<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#verifimpers" latex-href="#ref-SP800-63B" _istranslated="1">SP800-63B] の Sec. 3.2.5</a> で定義されているように、フィッシング耐性のある認証メカニズムを使用する<strong class="normative" _istranslated="1">ものとします (SHOULD</strong>)。したがって、パスワードなどの加入者が選択した値は、バインドされたオーセンティケーターとして使用できません。
バインドされたオーセンティケーターは、フェデレーテッド トランザクションの FAL3 アサーションを処理するコンテキストで認証に受け入れられる<strong class="normative" _istranslated="1">ものとします (SHOULD</strong>)。同じオーセンティケーターをRPへの直接認証にも使用することは可能であるが(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#local-authentication" _istranslated="1">第3.8.3節</a>参照)、そのような使用はバインドされたオーセンティケーターとは見なされず、RPはこれらを個別のユースケースとして文書化<strong class="normative" _istranslated="1">する(SHALL SHOULD)。</strong></p>

<p _msttexthash="303788745" _msthash="533">IdPは、信頼契約で許容されるバインドされたオーセンティケーターのタイプまたは特性を指定<strong class="normative" _istranslated="1">してもよい(MAY)。</strong></p>

<p _msttexthash="4213604330" _msthash="534">RP が FAL3 アサーションを正常に受け入れる前に、RP サブスクライバ アカウントは、FAL3 トランザクション中に検証されるバインドされたオーセンティケータへの参照を含める<strong class="normative" _istranslated="1">ものとします (SHOULD</strong>)。これらのオーセンティケータは、RP(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-managed-rp-provided-bound-authn" _istranslated="1">セクション13.15.1</a>)またはサブスクライバ(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-managed-subscriber-provided-bound-authn" _istranslated="1">セクション13.15.2</a>)のいずれかによって提供でき、RPサブスクライバアカウントへのオーセンティケータの初期バインディングには、それぞれのケースで異なる要件が適用されます。</p>

<p _msttexthash="1540693830" _msthash="535">RPは、<strong class="normative" _istranslated="1"></strong>以下のイベントのいずれかが発生した場合、帯域外メカニズム(例えば、加入者と以前に関連付けられたアドレスへの電子メール)を介して加入者に通知を送信し、共有シグナリングシステム(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#shared-signals" _istranslated="1">第4.8条</a>参照)を使用してIdPに通知<strong class="normative" _istranslated="1">すべきである(SHOULD</strong>)。</p>

<ul>
  <li _msttexthash="205546549" _msthash="536">新しいバインドされたオーセンティケーターが RP サブスクライバ アカウントに追加されます。</li>
  <li _msttexthash="225045301" _msthash="537">既存のバインドされたオーセンティケーターが RP サブスクライバー アカウントから削除されます。</li>
</ul>

<p _msttexthash="469431105" _msthash="538">オーセンティケーター管理イベントに関する加入者への通知に関するその他の考慮事項については、[<a href="https://pages.nist.gov/800-63-4/sp800-63b.html#notification" latex-href="#ref-SP800-63B" _istranslated="1">SP800-63B] の Sec. 4.6</a> を参照してください。</p>
<h3 id="rp-managed-rp-provided-bound-authn" data-section="3"><font _mstmutation="1" _msttexthash="93158754" _msthash="539">RP 提供のバインドされたオーセンティケーターの発行</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-managed-rp-provided-bound-authn" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="12078857960" _msthash="540">RP 提供のオーセンティケーターの場合、RP のシステム管理者は、FAL3 フェデレーション トランザクションで使用するために、オーセンティケーターをサブスクライバーに直接発行<strong class="normative" _istranslated="1">するものとします (SHALL SHOULD</strong>)。RPのシステム管理者は、RP加入者アカウントの識別された主体がオーセンティケーターの発行先であるかどうかを判断するために、独立した手段を使用する<strong class="normative" _istranslated="1">ものとする(MUST)。</strong>RP のシステム管理者は、必要に応じて<a href="https://pages.nist.gov/800-63-4/sp800-63a.html#ial-section" latex-href="#ref-SP800-63A" _istranslated="1">、[SP800-63A] の第 4 節</a>の初期認証器バインディング要件、または <a href="https://pages.nist.gov/800-63-4/sp800-63b.html#post-enroll-bind" latex-href="#ref-SP800-63B" _istranslated="1">[SP800-63B] の第 4.1.2 節</a>の登録後のバインディング要件に従う<strong class="normative" _istranslated="1">ものとします(MUST)。</strong>RPのシステム管理者は、オーセンティケータの公開鍵など、バインドされたオーセンティケータの一意の識別子をRP加入者アカウントに格納<strong class="normative" _istranslated="1">するものとします(SHALL SHOULD</strong>)。</p>

<p _msttexthash="31913611548" _msthash="541">たとえば、FAL3 認証で使用するために購入した暗号化認証子のコレクションを持つ RP について考えてみましょう。これらのオーセンティケータはそれぞれ、特定の RP サブスクライバ アカウントにプロビジョニングされますが、RP のシステム管理者によって制御された環境に保持されます。オーセンティケーターを発行するために、RP は、RP のシステム管理者が IdP からの FAL3 フェデレーション トランザクションを使用して RP 制御のワークステーションに対してサブスクライバーに認証する対面プロセスを使用できます。次に、システム管理者は、RP サブスクライバ アカウントによって示されたバインドされたオーセンティケータをサブスクライバに渡し、それを使用してワークステーションに対して認証します。加入者は、RP によって提供されるバインドされたオーセンティケーターを所有しており、これを使用して将来のトランザクションで FAL3 に到達できます。または、RP のシステム管理者は、オーセンティケータを加入者の検証済みアドレスに送信し、アクティベーション プロセスを通じて加入者に受信確認を検証させることもできます。バインドされたオーセンティケーターの使用には、IdPからの有効なアサーションが必要なため、オーセンティケーターの傍受だけでは、FAL3でRP加入者アカウントにアクセスするには十分ではありません。</p>
<h3 id="rp-managed-subscriber-provided-bound-authn" data-section="3"><font _mstmutation="1" _msttexthash="114667345" _msthash="542">加入者提供のバインドされたオーセンティケータのバインド儀式</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-managed-subscriber-provided-bound-authn" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="3391718668" _msthash="543">RPは、加入者提供のオーセンティケータを、最初の使用時の信頼ベースでRP加入者アカウントに関連付けるプロセスを提供<strong class="normative" _istranslated="1">してもよい(MAY)。</strong>このプロセスは<em _istranslated="1">拘束式</em>と呼ばれ、一般的な FAL3 フェデレーション プロセスを超えた追加の要件があります。バインディング サーモニーは、[<a href="https://pages.nist.gov/800-63-4/sp800-63b.html#bind-subscriber-authenticator" latex-href="#ref-SP800-63B" _istranslated="1">SP800-63B] のセクション 4.1.3</a> で説明されている加入者提供のオーセンティケーター バインディング プロセスに似ています。</p>

<p _msttexthash="44445598496" _msthash="544">バインドされたオーセンティケータがRP加入者アカウントに関連付けられていない場合、RPは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-5" _istranslated="1">図5</a>に示すように、オーセンティケータ、加入者、およびRP加入者アカウント間の接続を確立するためのバインド式を実行する<strong class="normative" _istranslated="1">ものとします(SHOULD</strong>)。RPは、最初に、アサーションがバインドされたオーセンティ<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-RFC8485" _istranslated="1">RFC8485</a>ケーターを持つFAL3での使用を意図していることの表示を含む、FAL3の他のすべての要件を満たすアサーションを使用して、フェデレーションを使用して認証されたセッションを確立<strong class="normative" _istranslated="1">するものとする(SHALL SHALL SHOULD</strong>)。加入者は、提案された認証器を提示し、認証するよう直ちに求められる<strong class="normative" _istranslated="1">ものとします(SHOULD</strong>)。オーセンティケーターの提示が成功すると、RPは、オーセンティケーターの一意の識別子(公開鍵など)を格納し、これをフェデレーテッド識別子に関連付けられたRPサブスクライバーアカウントに関連付け<strong class="normative" _istranslated="1">るものとします(SHALL SHOULD</strong>)。加入者が適切なオーセンティケータを使用して RP に対して正常に認証できない場合、バインディング セレモニーは失敗します。拘束力のある式典セッションは、第<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-session" _istranslated="1">3.9条</a>に記載されているように、5分以下のタイムアウトを有<strong class="normative" _istranslated="1">するものとし</strong>、他の目的で認証されたセッションとして使用<strong class="normative" _istranslated="1">してはならない(SHALL NOT</strong>)。拘束式が正常に完了すると、RPは直ちにFAL3のIdPに新しいアサーションを要求<strong class="normative" _istranslated="1">するものとします(SHOULD)。</strong>新しいアサーションを受信すると、RPは、新<strong class="normative" _istranslated="1"></strong>しくバインドされたオーセンティケーターをサブスクライバーに求め、オーセンティケーター出力を検証<strong class="normative" _istranslated="1">するものとします(SHALL SHOULD</strong>)。</p>

<p latex-ignore="true"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-11" name="fig-5" _msttexthash="140481224" _msthash="545">図5.加入者提供のバインドされたオーセンティケーターのバインド儀式</a></p>

<p><img src="./sp800-63c_files/Binding-Ceremony.png" alt="RP で管理され、サブスクライバーによって提供されるバインドされたオーセンティケーターに使用されるバインド セレモニーに関連する手順のシーケンス図。" title="Subscriber-provided bound authenticator binding ceremony" latex-src="Binding-Ceremony.pdf" latex-fig="5" latex-place="p" _mstalt="10933169" _msthash="546"></p>

<p _msttexthash="18935223242" _msthash="547">加入者提供のバインドされたオーセンティケーターは、RP が FAL3 トランザクションに使用することを許可する適切なオーセンティケーターに加入者が既にアクセスできる場合に特に役立ちます。
たとえば、[<a href="https://pages.nist.gov/800-63-4/sp800-63b.html#verifier-name-binding" latex-href="#ref-SP800-63B" _istranslated="1">SP800-63B] のセクション 3.2.5.2</a> で説明されているように、加入者は名前ベースのフィッシング耐性を使用する単一要素暗号化認証器を持つことができます。このようなデバイスでは、オーセンティケーターが各場所で使用されると、IdP と RP は異なる検証キーを認識するため、バインドされたオーセンティケーターは IdP によって簡単に検証できません。さらに、RP はオーセンティケーターを発行しなかったため、RP はオーセンティケーターの検証キーを事前に認識しておらず、検証キーに関連付ける加入者アカウントも知りません。代わりに、RP はバインディング セレモニーを使用して、加入者がこのデバイスを FAL3 のバインドされたオーセンティケーターとして使用できるようにすることができます。
より完全な例は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fal3-nonpki" _istranslated="1">セクション9.7</a>にあります。</p>

<p _msttexthash="13235201486" _msthash="548">RP は、加入者が FAL3 で複数の加入者提供のオーセンティケータをバインドすることを許可<strong class="normative" _istranslated="1">してもよい (MAY)。</strong>この場合、RP サブスクライバ アカウントに 1 つ以上の既存のバインド オーセンティケータがある場合、バインディング セレモニーは、サブスクライバの既存のバインド オーセンティケータの 1 つを使用して FAL3 に到達します。バインディング セレモニーの最初の認証ステップ中に、RP は、既存のバインドされたオーセンティケーターによる認証を要求して FAL3 に到達<strong class="normative" _istranslated="1">するものとします (SHALL SHOULD</strong>)。この認証が完了し、バインディング セレモニー セッションが確立されると、RP は新しいオーセンティケーターによる認証<strong class="normative" _istranslated="1">を要求し</strong>、バインドされたオーセンティケーターとして RP 加入者アカウントに関連付けます。RP は、FAL3 で新しいアサーションを要求することで、拘束式を完了します。</p>

<p _msttexthash="33733385166" _msthash="549">RP がバインドされたオーセンティケーターが実行できなくなったと判断することに加えて、サブスクライバーは、テクノロジーやプラットフォームの変更によりオーセンティケーターが失われたり、侵害されたり、使用できなくなったりするなど、さまざまな理由でバインドされたオーセンティケーターの使用を停止することを選択できます。
このような場合、RP は、加入者が加入者提供のバインドされたオーセンティケータを RP 加入者アカウントから削除することを許可<strong class="normative" _istranslated="1">しても構いません(MAY),</strong>それによってそのオーセンティケータを FAL3 セッションに使用する機能を削除します。バインドされたオーセンティケーターが削除されると、RP は、加入者の現在の FAL3 セッションをすべて終了<strong class="normative" _istranslated="1">し</strong>、FAL3 の IdP から加入者の再認証を要求<strong class="normative" _istranslated="1">するものとします (SHALL SHOULD</strong>)。RP は、特にオーセンティケーターが紛失または侵害された場合、バインド解除プロセス中にサブスクライバーが問題のオーセンティケーターにアクセスできないことが多いため、削除されるオーセンティケーターで認証するようにサブスクライバーに促<strong class="normative" _istranslated="1">すことはありません</strong>。バインドされたオーセンティケータがすべて削除されると、新しいバインドされたオーセンティケータが RP サブスクライバ アカウントに追加されるまで、サブスクライバは FAL3 に到達できなくなります。この状況は、RP でのアカウント回復に同様のリスクをもたらします。</p>
<h2 id="rp-processing-of-holder-of-key-assertions-and-bound-authenticators" data-section="3"><font _mstmutation="1" _msttexthash="136958718" _msthash="550">キー所有者アサーションとバインドされたオーセンティケーターのRP処理</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-processing-of-holder-of-key-assertions-and-bound-authenticators" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="3570084973" _msthash="551">RP がバインドされたオーセンティケータに関連付けられたアサーションを受信すると、加入者はバインドされたオーセンティケータの所有を RP に直接証明します。IdP でのプライマリ認証と RP でのフェデレーション認証は別々に処理されます。加入者は、IdP でのプライマリ認証中に RP のバインドされたオーセンティケータと同じオーセンティケータを使用できますが、これらが同じであるとは想定されません。</p>

<p _msttexthash="320885682" _msthash="552">次の要件は、バインドされたオーセンティケーターに関連付けられているすべてのアサーションに適用されます。</p>

<ol>
  <li _msttexthash="541487180" _msthash="553">サブスクライバーは、アサーション自体を提示することに加えて、バインドされたオーセンティケーターをRPに所有していることを証明<strong class="normative" _istranslated="1">するものとします(SHOULD</strong>)。</li>
  <li _msttexthash="976308801" _msthash="554">鍵所有者アサーションの場合、アサーション内で見つかった特定の認証子への参照は、信頼契約に規定されているように、アサーション内の他のすべての情報と同じレベルで信頼<strong class="normative" _istranslated="1">されるものとします(SHOULD)。</strong></li>
  <li _msttexthash="272696307" _msthash="555">RP は、バインドされたオーセンティケーターに加えて、アサーションを処理し、検証<strong class="normative" _istranslated="1">するものとします</strong>。</li>
  <li _msttexthash="535936843" _msthash="556">バインドされたオーセンティケーターによる認証に失敗すると、RP でエラーが発生する <strong class="normative" _istranslated="1">(SHALL )、</strong>RP で認証されたセッションを作成<strong class="normative" _istranslated="1">しないものとします (SHALL NOT</strong>)。</li>
</ol>

<h1 id="GenIdP" data-section="4"><font _mstmutation="1" _msttexthash="5675215" _msthash="557">汎用 IdP</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#GenIdP" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h1>

<p><em _msttexthash="42919942" _msthash="558">このセクションは規範的です。</em></p>

<p _msttexthash="4824131091" _msthash="559">汎用 IdP は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-account-provisioning" _istranslated="1">第 4.1 節</a>で説明されているように、IdP をプロビジョニングするプロセスを通じて加入者アカウントを利用できるようにするために CSP が使用する IdP です。加入者は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#subscriber-idp-authn" _istranslated="1">4.5 節</a>で説明されているように、加入者アカウントにバインドされた 1 つ以上の認証子を使用して、IdP に認証イベントを提供します。通常、汎用 IdP は、加入者のデバイスではなく、リモート サービスでホストされます。多くの場合、汎用 IdP は複数のサブスクライバをサポートします。</p>
<h2 id="idp-account-provisioning" data-section="4"><font _mstmutation="1" _msttexthash="37527113" _msthash="560">IdP アカウントのプロビジョニング</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-account-provisioning" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="1239990934" _msthash="561">IdP を介してサブスクライバ アカウントを利用できるようにするには、サブスクライバ アカウントを IdP でプロビジョニングする必要があります。加入者アカウントが IdP に提供される手段は、信託契約で開示<strong class="normative" _istranslated="1">されるものとします</strong>。</p>

<p _msttexthash="1949115753" _msthash="562">IdP が加入者を認証できる必要があるため、IdP は多くの場合 CSP のサービスであり、加入者アカウントの属性とオーセンティケータにある程度のアクセス権を持ちます。このような IdP は、通常、加入者アカウントを収容する ID およびアクセス管理システムと同じセキュリティ ドメインにあります。</p>

<p _msttexthash="2257291140" _msthash="563">また、サブスクライバ アカウント内の 1 つ以上のオーセンティケータ (共通の PKI に関連付けられたオーセンティケータなど) をセキュリティ ドメインの外部で検証できる場合もあります。このような場合、IdP はオーセンティケータから加入者属性とアカウント情報を取得して、RP にフェデレーション ログインを提供できます。</p>

<p _msttexthash="1643564351" _msthash="564">IdP は、フェデレーション識別子などのフェデレーション固有の属性を使用してサブスクライバーアカウントを強化します。IdP は、信頼契約で列挙されているプライバシーおよびストレージ要件に従って、フェデレーションの目的で追加の属性を収集できます。</p>

<p _msttexthash="799761287" _msthash="565">CSP は、サブスクライバ アカウントから IdP に属性を属性値、派生属性値、または属性バンドルとして提供できます。CSP は、IdP に発行された属性バンドルに署名<strong class="normative" _istranslated="1">するものとします</strong>。</p>

<p _msttexthash="2256028385" _msthash="566">サブスクライバ アカウントが IdP にプロビジョニングされると、CSP は信頼契約の当事者になりますが、フェデレーション トランザクションには直接関与しません。
したがって、RP が CSP によってホストされる ID API を介して属性を取得する場合でも、これらのガイドラインの目的では、ID API は CSP ではなく IdP の機能と見なされます。</p>
<h2 id="federation-transaction" data-section="4"><font _mstmutation="1" _msttexthash="37706292" _msthash="567">フェデレーション トランザクション</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#federation-transaction" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="925796742" _msthash="568">汎用 IdP を含むフェデレーション トランザクションは、IdP でサブスクライバ アカウントを確立し、RP でサブスクライバの認証済みセッションで最高潮に達します。このプロセスを<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-6" _istranslated="1">図6</a>に示します。</p>

<p latex-ignore="true"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-6" name="fig-6" _msttexthash="38319580" _msthash="569">図6.フェデレーションの概要</a></p>

<p><img src="./sp800-63c_files/federation.png" alt="フェデレーション認証システムの概要図は、関係者とそのプロセスの主なステップを示しています。" title="Federation overview" latex-src="federation.pdf" latex-fig="6" latex-place="h" _mstalt="7145580" _msthash="570"></p>

<p _msttexthash="122729308" _msthash="571">フェデレーション・トランザクションは、多段階のプロセスです。</p>

<ol>
  <li>
    <p _msttexthash="1047353580" _msthash="572">フェデレーションが発生する前に、サブスクライバー アカウントが CSP によって確立されます。このアカウントは、CSP によって収集された ID 属性を、サブスクライバーが使用する一連の認証子にバインドします。</p>
  </li>
  <li>
    <p _msttexthash="791652511" _msthash="573">サブスクライバアカウントは IdP でプロビジョニングされます。IdP は、フェデレーション識別子などのフェデレーション固有の属性を使用してサブスクライバーアカウントを強化します。</p>
  </li>
  <li>
    <p _msttexthash="294607469" _msthash="574">IdP と RP は、RP への加入者を認証するためにフェデレーテッド認証トランザクションを開始します。</p>
  </li>
  <li>
    <p _msttexthash="1831961443" _msthash="575">サブスクライバーは、サブスクライバーアカウントにバインドされたオーセンティケーターを使用して IdP に対して認証します。信頼契約で義務付けられている場合、権限のある当事者 (多くの場合、加入者) は、実行時に ID 情報の公開を承認するように求められます。</p>
  </li>
  <li>
    <p _msttexthash="1596848929" _msthash="576">IdP は、認証イベントの結果を表すアサーションを作成します。アサーションは、信頼契約によって確立された条件、RP からの要求、IdP の機能、IdP が認識しているサブスクライバ アカウント、および許可された当事者が許可する属性に基づいています。</p>
  </li>
  <li>
    <p _msttexthash="86988148" _msthash="577">アサーションは、ネットワークを介してRPに渡されます。</p>
  </li>
  <li>
    <p _msttexthash="1043310476" _msthash="578">RP は IdP からこのアサーションを処理し、サブスクライバとの認証済みセッションを確立します。オプションで、RP は、アサーションまたは ID API を介して、サブスクライバ アカウントを表す IdP から ID 属性を受け取ります。</p>
  </li>
</ol>

<p _msttexthash="13353616185" _msthash="579">フェデレーテッド・トランザクションは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#trust-agreement" _istranslated="1">第3.5条</a>で説明されているように、信頼契約によって有効になります。これらの信頼契約は、どの当事者がどの役割を果たしているか、当事者が相互に操作する条件、問題のシステムが接続するための許可、および当事者が相互に対話する条件を定義します。多くの場合、1つの信頼契約は複数のフェデレーション・トランザクションを対象としています。使用可能な加入者ID属性、派生属性、および属性バンドルのリストは、信頼契約で確立されますが、特定のトランザクションに対して特定のRPにどの属性を解放するかの決定は、フェデレーション・トランザクション自体で最終決定されます。RPに渡される属性、派生属性値、および属性バンドルの最終セットは、以下を処理することによって選択されます。</p>

<ul>
  <li _msttexthash="47867469" _msthash="580">信託契約で認められているものは、</li>
  <li _msttexthash="50037221" _msthash="581">RP によって要求される内容、および</li>
  <li _msttexthash="55090295" _msthash="582">権限のある当事者が許可するもの。</li>
</ul>

<p _msttexthash="7502550458" _msthash="583">IdP と RP は、フェデレーション プロトコルの当事者間で情報を安全に交換するために必要な暗号化キーと識別子を確立するために、検出と登録を実行する必要もあります (<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#discovery-registration" _istranslated="1">セクション 4.4</a> を参照)。(事前に確立された信頼契約を通じて) 接続の許可を表す既存のポリシー決定がある場合がありますが、このステップには技術レベルでの接続と統合が必要です。どの FAL でも、この段階は、加入者が RP にアクセスしようとする前に発生する可能性があります。FAL1 または FAL2 では、この段階は、加入者が RP で IdP を使用しようとすると応答して発生する可能性があります。</p>

<p _msttexthash="3991533455" _msthash="584">フェデレーテッド ID トランザクションでは、IdP は RP の ID および認証属性のソースです。フェデレーション・トランザクションの通常の情報フローは、IdP から RP へのものです。この情報フローの指向性により、IdP は RP の<em _istranslated="1">アップストリーム</em>と見なされ、RP は IdP の<em _istranslated="1">ダウンストリーム</em>と見なされます。また、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#shared-signals" _istranslated="1">セクション 4.8</a> で説明されているように、特に共有信号の使用を通じて、追加情報が RP から逆流することも可能です。</p>
<h2 id="trust-agreements" data-section="4"><font _mstmutation="1" _msttexthash="12373088" _msthash="585">信託契約</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#trust-agreements" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="1916825235" _msthash="586">汎用 IdP の信頼契約は、通常、RP と IdP の間で確立されることが期待されており、RP は IdP の ID に依存してフェデレーション トランザクションの信頼の基盤を提供します。CSP と IdP の間の信頼契約は、フェデレーション トランザクションとは独立して確立されることが期待されます。</p>

<p _msttexthash="131763112" _msthash="587">汎用 IdP の信託契約は、次のいずれかを確立<strong class="normative" _istranslated="1">するものとします (MUST)。</strong></p>

<ul>
  <li _msttexthash="202778836" _msthash="588">フェデレーション取引前のフェデレーション当事者による合意の結果として、または</li>
  <li _msttexthash="246884313" _msthash="589">フェデレーション・トランザクション中のサブスクライバによる決定またはアクションの結果として</li>
</ul>
<h3 id="pre-established-trust-agreements" data-section="4"><font _mstmutation="1" _msttexthash="44151003" _msthash="590">事前に確立された信託契約</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#pre-established-trust-agreements" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="370720844" _msthash="591">信託契約が連邦取引の前に連邦当事者によって確立された場合、信託契約は以下の条件を定める<strong class="normative" _istranslated="1">ものとする(MUST)。</strong></p>

<ul>
  <li _msttexthash="244268752" _msthash="592">IdP が RP で使用可能にできるサブスクライバ属性、派生属性、および属性バンドルのセット</li>
  <li _msttexthash="464218261" _msthash="593">サブスクライバーアカウントのIdPの属性ストレージポリシー(サブスクライバーが削除をリクエストするための利用可能な手段を含む)</li>
  <li _msttexthash="290892966" _msthash="594">IdP が該当するサブスクライバ属性、派生属性、および属性バンドル(CSP を含む)を受信する属性ソース</li>
  <li _msttexthash="406313141" _msthash="595">IdP によって直接または外部プロバイダーを介して使用可能になる ID API、およびこれらの API で使用できるサブスクライバー属性</li>
  <li _msttexthash="142246312" _msthash="596">IdP がアサーションを作成できるサブスクライバアカウントの母集団</li>
  <li _msttexthash="104180258" _msthash="597">ID サービスの提供以外の加入者情報の追加使用</li>
  <li _msttexthash="376688156" _msthash="598">RP が要求できるサブスクライバ属性、派生属性、および属性バンドルのセット(つまり、使用可能な属性のサブセット)</li>
  <li _msttexthash="63959545" _msthash="599">RP によって要求される各属性の目的</li>
  <li _msttexthash="128422307" _msthash="600">RP サブスクライバ アカウントの RP で使用されるプロビジョニング モデル</li>
  <li _msttexthash="322588422" _msthash="601">RP への加入者属性のリリースに関する決定に責任を負う権限のある当事者 (IdP 組織、加入者など)</li>
  <li _msttexthash="186983849" _msthash="602">属性共有についてサブスクライバーに通知するために使用されるプロセスと手法</li>
  <li _msttexthash="183712620" _msthash="603">必要に応じて権限のある当事者から同意を収集するためのプロセスとテクニック</li>
  <li _msttexthash="24641955" _msthash="604">IdP から使用可能な xAL</li>
  <li _msttexthash="11667344" _msthash="605">RP に必要な xAL</li>
</ul>

<p _msttexthash="859265030" _msthash="606">信託契約の条件は、RPおよびIdPの運営者が、その成立時に利用できる<strong class="normative" _istranslated="1">ものとします。</strong>信託契約の条件は、IdPまたはRPへの要求に応じて加入者が利用できるようにする<strong class="normative" _istranslated="1">ものとします。</strong></p>

<p _msttexthash="1814661953" _msthash="607">IdPとRPは、苦情や問題の解決における有効性について、それぞれの救済メカニズムをそれぞれ評価し、この評価の結果を信託契約の一部として開示<strong class="normative" _istranslated="1">するものとします</strong>。救済メカニズムに関する追加の要件と考慮事項については、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#redress" _istranslated="1">セクション 3.5.3</a> を参照してください。</p>

<p _msttexthash="928646745" _msthash="608">FAL3が信託契約内で許可されている場合、信託契約は、鍵の所有者の主張(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-managed-bound-authn" _istranslated="1">第3.15条</a>参照)および拘束された認証者(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#bound-authn" _istranslated="1">第3.16条</a>参照)に関して以下の条件を規定<strong class="normative" _istranslated="1">するものとする(SHOULD)。</strong></p>

<ul>
  <li _msttexthash="232492559" _msthash="609">キー所有者のアサーションを RP によって検証できる手段 (共通の信頼できる PKI システムなど)</li>
  <li _msttexthash="496376829" _msthash="610">RP がキー所有者アサーションを特定の RP 加入者アカウントに関連付ける手段(属性ベースのアカウント解決や事前プロビジョニングなど)</li>
  <li _msttexthash="173312659" _msthash="611">バインドされたオーセンティケータが RP または加入者によって提供されるかどうか</li>
  <li _msttexthash="300065103" _msthash="612">サブスクライバー提供のバインドされたオーセンティケーターに使用されるバインディングセレモニーのドキュメント</li>
</ul>

<p _msttexthash="431038946" _msthash="613">共有シグナリングが IdP または RP によって使用される場合 (第 <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#shared-signals" _istranslated="1">4.8 条</a>を参照)、信頼契約の条件は以下を定める<strong class="normative" _istranslated="1">ものとします。</strong></p>

<ul>
  <li _msttexthash="52344409" _msthash="614">送信するシグナルをトリガーするイベント</li>
  <li _msttexthash="43561219" _msthash="615">トリガーごとに送信されるシグナル</li>
  <li _msttexthash="27116791" _msthash="616">各信号に含まれる情報</li>
  <li _msttexthash="66885156" _msthash="617">信号を受信した当事者の予想される動作</li>
</ul>

<p _msttexthash="2472636101" _msthash="618">IdPでのランタイム決定(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-runtime-decision" _istranslated="1">第4.6.1.3条</a>参照)は、フェデレーテッド・トランザクションの当事者間で送信される加入者属性をさらに制限するために使用<strong class="normative" _istranslated="1">してもよい(</strong>例えば、この属性が信託契約の条件に含まれていたとしても、実行時の決定は、電子メール・アドレスを開示しないことを選択することができる)。</p>

<p _msttexthash="711054734" _msthash="619">信託契約は、それが目的に適合していることを確認し、不必要なデータ交換や加入者データの過剰収集を回避するために、定期的に見直される<strong class="normative" _istranslated="1">ものとします(MUST)。</strong></p>
<h3 id="subscriber-driven-trust-agreements" data-section="4"><font _mstmutation="1" _msttexthash="55234556" _msthash="620">加入者主導の信頼契約の確立</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#subscriber-driven-trust-agreements" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="4383868879" _msthash="621">加入者の決定の結果として信託契約が確立された場合(たとえば、加入者が確立された契約なしにRPとそのIdP間のフェデレーショントランザクションを開始する場合)、信託契約は加入者によって固定されます。加入者主導の信託契約では、信託契約は、当事者間の正式な契約とは対照的に、一連の利用規約の形式をとります。したがって、以下の条件は、要求に応じて加入者に開示<strong class="normative" _istranslated="1">されるものとします。</strong></p>

<ul>
  <li _msttexthash="133846193" _msthash="622">IdP が該当するサブスクライバ属性を受信する属性ソース(CSP を含む)</li>
  <li _msttexthash="406313141" _msthash="623">IdP によって直接または外部プロバイダーを介して使用可能になる ID API、およびこれらの API で使用できるサブスクライバー属性</li>
  <li _msttexthash="244268752" _msthash="624">IdP が RP で使用可能にできるサブスクライバ属性、派生属性、および属性バンドルのセット</li>
  <li _msttexthash="464218261" _msthash="625">サブスクライバーアカウントのIdPの属性ストレージポリシー(サブスクライバーが削除をリクエストするための利用可能な手段を含む)</li>
  <li _msttexthash="58744153" _msthash="626">IdP と RP 間の共有シグナリングの使用</li>
  <li _msttexthash="142246312" _msthash="627">IdP がアサーションを作成できるサブスクライバアカウントの母集団</li>
  <li _msttexthash="104180258" _msthash="628">ID サービスの提供以外の加入者情報の追加使用</li>
  <li _msttexthash="24641955" _msthash="629">IdP から使用可能な xAL</li>
  <li _msttexthash="11667344" _msthash="630">RP に必要な xAL</li>
</ul>

<p _msttexthash="1315520037" _msthash="631">IdPは、苦情や問題の解決における有効性について救済メカニズムを評価し、この評価の結果を加入者に開示する<strong class="normative" _istranslated="1">ものとします</strong>。救済メカニズムに関する追加の要件と考慮事項については、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#redress" _istranslated="1">セクション 3.5.3</a> を参照してください。</p>

<p _msttexthash="983150610" _msthash="632">サブスクライバ属性のリリースは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-runtime-decision" _istranslated="1">セクション 4.6.1.3</a> で説明されているように、IdP でのランタイム決定を使用して管理<strong class="normative" _istranslated="1">されるものとします (SHOULD</strong>)。権限のある当事者は、加入者となる<strong class="normative" _istranslated="1">ものとします</strong>。</p>

<p _msttexthash="210707263" _msthash="633">信託契約の以下の条件は、実行時の決定中に加入者に開示<strong class="normative" _istranslated="1">されるものとします。</strong></p>

<ul>
  <li _msttexthash="442429078" _msthash="634">RP が要求するサブスクライバ属性、派生属性、および属性バンドルのセット(つまり、IdP によって使用可能になる属性のサブセット)</li>
  <li _msttexthash="63959545" _msthash="635">RP によって要求される各属性の目的</li>
  <li _msttexthash="440145368" _msthash="636">RP サブスクライバ アカウントの RP の属性ストレージ ポリシー(サブスクライバが削除を要求するために使用可能な手段を含む)</li>
</ul>

<p _msttexthash="471726814" _msthash="637">加入者に開示されるすべての情報は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#usability" _istranslated="1">第 8 条</a>で説明されているように、理解可能で実行可能な方法で伝える必要があります。</p>
<h2 id="discovery-registration" data-section="4"><font _mstmutation="1" _msttexthash="15412592" _msthash="638">検出と登録</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#discovery-registration" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="656163417" _msthash="639">汎用 IdP とのフェデレーション トランザクションを実行するには、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#identifiers-keys" _istranslated="1">第 3.6 節</a>で説明されているように、RP はその IdP との検出と登録を実行する必要があります。</p>

<p _msttexthash="12858667588" _msthash="640">RPは、信頼契約で規定されているように、アサーション検証キーおよびその他の関連する構成情報をIdPの識別子に関連付け<strong class="normative" _istranslated="1">るものとします(SHOULD</strong>)。検証キーおよび構成情報がネットワーク接続を介して取得される場合、要求および取得は、信頼契約によってIdPの識別子に関連付けられた場所から、認証された保護されたチャネルを介して行われる<strong class="normative" _istranslated="1">ものとします(SHOULD</strong>)。多くのフェデレーションプロトコルでは、これは、IdPによって制御される、またはIdPに代わって提供されるものとして信頼契約で指定されているURLから、RPが公開鍵および構成データを取得することによって実現されます。また、RPのシステム管理者がIdP情報をRPソフトウェアの構成に直接入力する、手動の方法でこの情報を使用してRPを直接構成することも可能です。</p>

<p _msttexthash="714092912" _msthash="641">一部のシステム、特に多国間信託契約によって管理されるシステムでは、第三者の証拠開示および登録サービスによって証拠開示プロセスを促進できます。</p>

<p _msttexthash="1696046339" _msthash="642">さらに、RPは、信頼契約で規定されているように、IdPまたはIdPが信頼する機関のいずれかにその情報を登録<strong class="normative" _istranslated="1">するものとします(SHOULD</strong>)。多くのフェデレーションプロトコルでは、RPにはこの段階で識別子が割り当てられ、RPはその後のIdPとの通信でそれを使用します。</p>

<p _msttexthash="11737433721" _msthash="643">フェデレーションを試みる当事者は、信頼できる第三者が信頼契約で特定されている場合、その信頼できる第三者を使用して、その検出と登録のプロセスを容易にすることができます(<strong class="normative" _istranslated="1">MAY)。</strong>たとえば、コンソーシアムは、IdPとRPの構成レコードを参加者から直接収集するホスト型サービスを使用できます。RPは、その検出レコードのためにIdPに直接アクセスする代わりに、代わりにこのサービスに移動し、ターゲットIdPのキーマテリアルを取得します。IdPは、接続に必要なRPの識別子と構成情報を見つけるために、このサービスに移動します。このサービスは、多くの場合、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#authorities" _istranslated="1">セクション3.5.2</a>で説明されているように、多国間信頼契約におけるフェデレーション権限の役割を果たすのと同じ当事者によって管理されます。</p>
<h3 id="manual-registration" data-section="4"><font _mstmutation="1" _msttexthash="12942540" _msthash="644">手動登録</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#manual-registration" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="3260192741" _msthash="645">すべての FAL では、RP と IdP の暗号化キーと識別子を手動プロセスで交換でき、RP のシステム管理者が RP の設定を直接または信頼できるサードパーティを通じて IdP に送信し、その IdP で使用する識別子を受け取ります。次に、RP システム管理者は、この識別子と、フェデレーション トランザクションを続行するために必要な追加情報を使用して RP を構成します。</p>

<p _msttexthash="227961097" _msthash="646">これは手動プロセスであるため、登録はフェデレーション トランザクションの前に行われます。</p>

<p _msttexthash="2974864347" _msthash="647">このプロセスは、手動構成によって、問題のシステムを時間の経過とともに更新できる信頼できる情報源に向ける、ある程度の自動化ツールによって促進<strong class="normative" _istranslated="1">される可能性があります。</strong>このような自動化が使用される場合、信頼契約は、許容されるキャッシュの有効期間を含む、暗号鍵の配布および割り当ての許容条件を列挙<strong class="normative" _istranslated="1">するものとする(MUST)。</strong></p>
<h3 id="dynamic-registration" data-section="4"><font _mstmutation="1" _msttexthash="13532402" _msthash="648">動的登録</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#dynamic-registration" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="6620314753" _msthash="649">FAL1 および FAL2 では、RP の暗号化キーと識別子を動的なプロセスで交換でき、RP ソフトウェアは直接または信頼できる第三者を通じてその構成を IdP に提示し、その IdP で使用する識別子を受け取ります。このプロセスは、使用中のフェデレーション プロトコルに固有ですが、ネットワーク経由で機械可読の構成データを利用できるようにする必要があります。構成情報のすべての送信は、信頼契約によって IdP の識別子に関連付けられたエンドポイントに対して、セキュアで保護されたチャネルを介して行われる<strong class="normative" _istranslated="1">ものとします (SHOULD</strong>)。</p>

<p _msttexthash="1152853975" _msthash="650">IdPは、複数のRPインスタンスへの情報漏えいのリスクを考慮し、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ppi" _istranslated="1">第3.4.1節</a>で論じられているように、動的に登録されたRPにアクセスする加入者に対してPPIを発行するなど、適切な対策を講じ<strong class="normative" _istranslated="1">るべきである(SHOULD)。</strong></p>

<p _msttexthash="442965705" _msthash="651">動的登録は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#attestations" _istranslated="1">セクション 3.6.3</a> で説明されているように、RP ソフトウェアおよびデバイスに関する証明によって拡張<strong class="normative" _istranslated="1">されるべきです (SHOULD</strong>)。</p>

<p _msttexthash="304361395" _msthash="652"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC-registration" _istranslated="1">[OIDC-Registration]</a> は、OpenID Connect IdP で RP を動的に登録するためのプロトコルを定義します。</p>
<h2 id="subscriber-idp-authn" data-section="4"><font _mstmutation="1" _msttexthash="30473157" _msthash="653">IdP での加入者認証</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#subscriber-idp-authn" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="3541407337" _msthash="654">フェデレーションのコンテキストでは、[<a href="https://pages.nist.gov/800-63-4/sp800-63b.html#introduction" latex-href="#ref-SP800-63B" _istranslated="1">SP800-63B]</a>で説明されているように、IdPはサブスクライバアカウントにバインドされたオーセンティケータの検証者として機能します。
1 つ以上のオーセンティケーターを検証すると、IdP で認証されたセッションを開始する認証イベントが作成されます。この認証イベントは、サブスクライバーが存在するという IdP の主張の基礎として機能します。</p>

<p _msttexthash="363095343" _msthash="655">IdPは、サブスクライバが以下のイベントのいずれかの前に認証されたセッションを持つことを要求<strong class="normative" _istranslated="1">するものとします(SHALL SHOULD)。</strong></p>

<ul>
  <li _msttexthash="25144535" _msthash="656">属性リリースの承認</li>
  <li _msttexthash="37396437" _msthash="657">アサーションの作成と発行</li>
  <li _msttexthash="53217866" _msthash="658">加入者主導の信託契約の成立</li>
</ul>

<p _msttexthash="223574650" _msthash="659">セッション管理と再認証に関する追加の要件については、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#federation-session" _istranslated="1">セクション 4.7</a> で説明します。</p>
<h2 id="authentication-and-attribute-disclosure" data-section="4"><font _mstmutation="1" _msttexthash="29003923" _msthash="660">認証と属性の開示</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#authentication-and-attribute-disclosure" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="1679831855" _msthash="661">信託契約によって規定された権限のある当事者は、フェデレーショントランザクションが続行されるかどうか、したがって、アサーションが発行され、属性がRPに解放されるかどうかを決定する<strong class="normative" _istranslated="1">ものとします(MUST)。</strong>この決定は、次のようなさまざまな方法で計算できます。</p>

<ul>
  <li _msttexthash="440636248" _msthash="662">許可リストは、システムがフェデレーション・トランザクションを自動化された方法で続行できるようにする状況を決定します。</li>
  <li _msttexthash="338591773" _msthash="663">ブロックリストは、システムがフェデレーショントランザクションの続行を許可しない状況を決定します。そして</li>
  <li _msttexthash="1427769395" _msthash="664">実行時の決定により、権限のある当事者 (加入者など) がトランザクションを続行できるかどうか、およびどの正確な条件に基づいて処理を続行できるかを決定できます。実行時の決定は保存し、将来のトランザクションに適用できます。</li>
</ul>

<p _msttexthash="2848191645" _msthash="665">許可リスト、ブロックリスト、またはランタイム決定の適用可能性は、IdP と RP の ID、要求されたサブスクライバー属性、必要な xAL、その他の要因など、フェデレーション・トランザクションの側面によって影響を受ける可能性があります。これらの決定は、リスク管理システム、連邦当局、およびローカル システム ポリシーによって促進できます。</p>

<p _msttexthash="982169942" _msthash="666">エンタープライズアプリケーションのシングルサインオンを容易にするために、一連のサブスクライバのIdPで許可リストに登録されているRPの非規範的な例については、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#enterprise-sso" _istranslated="1">セクション9.5</a>を参照してください。</p>

<p _msttexthash="1527573814" _msthash="667">IdPは、加入者の苦情や問題(例えば、加入者が不正確な属性値を特定した場合)を是正するための効果的なメカニズムを提供する<strong class="normative" _istranslated="1">ものとする(SHOULD</strong>)。救済メカニズムに関する追加の要件と考慮事項については、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#redress" _istranslated="1">セクション 3.5.3</a> を参照してください。</p>
<h3 id="idp-controlled-decisions" data-section="4"><font _mstmutation="1" _msttexthash="17158284" _msthash="668">IdP 制御の決定</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-controlled-decisions" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<h4 id="idp-allowlist" data-section="4"><font _mstmutation="1" _msttexthash="19187987" _msthash="669">RP の IdP 許可リスト</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-allowlist" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h4>

<p _msttexthash="5398846167" _msthash="670">事前に確立された信頼契約において、IdPは、加入者からの実行時の決定なしに、IdPから認証および属性を受信する権限を与えられたRPの許可リストを確立<strong class="normative" _istranslated="1">してもよい(MAY)。</strong>RP を許可リストに載せる場合、IdP は RP が信託契約の条件を遵守していることを確認する<strong class="normative" _istranslated="1">ものとします (MUST)。</strong>IdP は、認証時に許可リストに登録された RP に渡される ID 属性を決定する<strong class="normative" _istranslated="1">ものとします (SHALL )。</strong>IdPは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#notice" _istranslated="1">第7.2条</a>に記載されているように、加入者が許可リストを利用できるようにする<strong class="normative" _istranslated="1">ものとする(SHOULD</strong>)。</p>

<p _msttexthash="5105015955" _msthash="671">IdP 許可リストは、完全修飾ドメイン名、暗号化キー、または使用中のフェデレーションプロトコルに適用可能なその他の識別子を通じて RP を一意に識別<strong class="normative" _istranslated="1">するものとします(SHALL SHOULD</strong>)。識別子を共有するエンティティは、許可リストの目的上同等と見なされ<strong class="normative" _istranslated="1">るものとします(SHALL SHOULD</strong>)。許可リストは、RP の意図しないなりすましを避けるために、可能な限り具体的である<strong class="normative" _istranslated="1">べきです (SHOULD</strong>)。RP の許可リスト エントリは、ワイルドカード ドメイン識別子を使用し<strong class="normative" _istranslated="1">ないでください</strong>。</p>

<p _msttexthash="842796461" _msthash="672">RP の IdP 許可リスト エントリは、許可リストの決定の一部として含まれる属性を示す<strong class="normative" _istranslated="1">ものとします (SHALL )。</strong>RP によって追加の属性が要求された場合、要求は次のように<strong class="normative" _istranslated="1">なります。</strong></p>

<ul>
  <li _msttexthash="199510272" _msthash="673">要求された追加属性を承認する権限のある当事者の実行時決定に従い、</li>
  <li _msttexthash="93520505" _msthash="674">許可リストエントリの属性のみに編集された、または</li>
  <li _msttexthash="49732345" _msthash="675">IdPによって完全に拒否されました。</li>
</ul>

<p _msttexthash="2483311077" _msthash="676">IdP 許可リスト エントリは、トランザクションに必要な xAL など、フェデレーション トランザクションの側面に基づいて適用<strong class="normative" _istranslated="1">しても構いません (MAY)。</strong>たとえば、IdP は許可リスト エントリを使用して FAL1 トランザクションの同意画面をバイパスできますが、FAL3 トランザクション中はサブスクライバーからの同意の確認を要求できます。</p>
<h4 id="idp-blocklists-of-rps" data-section="4"><font _mstmutation="1" _msttexthash="19692075" _msthash="677">RP の IdP ブロックリスト</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-blocklists-of-rps" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h4>

<p _msttexthash="1868924057" _msthash="678">IdP は、加入者から要求された場合でも、IdP から認証アサーションまたは属性を受信する権限を持たない RP のブロックリストを確立<strong class="normative" _istranslated="1">しても構いません。</strong>RP が IdP のブロックリストにある場合、IdP はいかなる状況においても、問題の RP を標的とするアサーションを生成<strong class="normative" _istranslated="1">しないものとします</strong>。</p>

<p _msttexthash="5485633179" _msthash="679">IdP ブロックリストは、使用中のフェデレーションプロトコルに適用可能な完全修飾ドメイン名、暗号鍵、またはその他の識別子を使用して RP を一意に識別<strong class="normative" _istranslated="1">するものとします(SHALL SHOULD</strong>)。識別子を共有するエンティティは、ブロックリストの目的上同等と見なされ<strong class="normative" _istranslated="1">るものとします(SHALL shall the Protocol)。</strong>たとえば、ワイルドカード ドメイン識別子 "*.example.com" は、ドメイン "www.example.com"、"service.example.com"、および "unknown.example.com" に等しく一致します。これら 3 つのサイトはすべて、同じブロックリスト エントリによってブロックされます。</p>
<h4 id="idp-runtime-decision" data-section="4"><font _mstmutation="1" _msttexthash="23150582" _msthash="680">IdP ランタイムの決定</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-runtime-decision" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h4>

<p _msttexthash="9422050586" _msthash="681">IdP との信頼契約に加入しているが、その IdP との許可リストに載っていないすべての RP は、実行時の承認の決定が信頼契約によって識別される許可された当事者によって行われるデフォルトのポリシーによって管理<strong class="normative" _istranslated="1">されるものとします (MUST)。</strong>ランタイムの決定はフェデレーション・トランザクション中に行われるため、許可された当事者は一般に個人であり、ほとんどの場合、サブスクライバーです。ただし、サブスクライバーに代わってシステム管理者などの別の当事者がプロンプトを表示することは可能です。加入者主導の信頼契約では、加入者との実行時決定が、加入者属性の解放を承認する唯一の手段です。</p>

<p _msttexthash="18251080068" _msthash="682">ランタイムの決定を処理する場合、IdP はフェデレーション トランザクション中に許可されたパーティに対話的にプロンプトを表示します。権限のある当事者は、認証アサーションと特定の属性を RP にリリースすることに同意します。IdPは、加入者に関する属性がRPに送信される前に、権限のある当事者に明示的な通知を提供し、肯定的な確認を促す<strong class="normative" _istranslated="1">ものとする(MUST)。</strong>少なくとも、通知は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#notice" _istranslated="1">第 7.2 条</a>に従って、最も効果的な通知を提供し、確認を得る立場にある当事者によって提供<strong class="normative" _istranslated="1">されるべきです</strong>。IdPは、トランザクションが承認された場合にどの属性がRPに解放されるかを開示<strong class="normative" _istranslated="1">するものとします(MUST)。</strong>使用中のフェデレーションプロトコルが実行時にオプションまたは選択的な属性の開示を許可する場合、権限のある当事者には、フェデレーショントランザクションを完全に終了することなく、特定の属性をRPに送信するかどうかを決定するオプションが与え<strong class="normative" _istranslated="1">られるものとします(SHOULD</strong>)。</p>

<p _msttexthash="4169371882" _msthash="683">許可された当事者が加入者である場合、IdPは、加入者がRPに送信される属性値および派生属性値を表示するためのメカニズムを提供する<strong class="normative" _istranslated="1">ものとします(SHALL )。</strong>機密情報(ショルダーサーフィンなど)の不正な漏洩のリスクを軽減するために、IdP <strong class="normative" _istranslated="1">SHALLは</strong>デフォルトで、加入者に表示される機密情報をマスクします。マスキングの詳細については、ユーザビリティに関する考慮事項に関する<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#usability" _istranslated="1">セクション 8</a> を参照してください。</p>

<p _msttexthash="4742458695" _msthash="684">IdP は、権限のある当事者の決定を記憶し、同じ属性セットを同じ RP に再送信するメカニズムを採用し<strong class="normative" _istranslated="1">ても構いません (MAY)。</strong>このメカニズムは、IdP によって管理されるサブスクライバーアカウントに関連付けられています。そのようなメカニズムが提供されている場合、<strong class="normative" _istranslated="1">IdPは</strong>、ストレージメカニズムが使用されていることを権限のある当事者に開示し、権限のある当事者が将来そのような記憶されたアクセスを取り消すことを許可<strong class="normative" _istranslated="1">するものとします</strong>。</p>
<h3 id="rp-controlled-decisions" data-section="4"><font _mstmutation="1" _msttexthash="15728778" _msthash="685">RP 制御の決定</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-controlled-decisions" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<h4 id="rp-allowlists-of-idps" data-section="4"><font _mstmutation="1" _msttexthash="19347718" _msthash="686">IdP の RP 許可リスト</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-allowlists-of-idps" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h4>

<p _msttexthash="5618546921" _msthash="687">RP は、IdP を使用するかどうかの加入者からの実行時の決定なしに、RP が認証および属性を受け入れる IdP の許可リストを確立<strong class="normative" _istranslated="1">しても構いません。</strong>実際には、多くの RP は 1 つの IdP のみとインターフェイスし、この IdP はその RP の唯一の可能なエントリとして許可リストに登録されます。IdP を許可リストに入れる場合、RP は、IdP が信託契約の条件を遵守していることを確認する<strong class="normative" _istranslated="1">ものとします (SHOULD</strong>)。この確認は、連邦当局によって促進されることも、RP によって直接行われることもできます。</p>

<p _msttexthash="2968530539" _msthash="688">RP 許可リストは、完全修飾ドメイン名、暗号鍵、または使用中のフェデレーション プロトコルに適用可能なその他の識別子を通じて IdP を一意に識別<strong class="normative" _istranslated="1">するものとします (SHALL SHOULD</strong>)。許可リストは、IdP の意図しないなりすましを避けるために、可能な限り具体的にすべき<strong class="normative" _istranslated="1">です (SHOULD</strong>)。IdP の許可リスト エントリは、ワイルドカード ドメイン識別子を使用し<strong class="normative" _istranslated="1">ません</strong>。</p>

<p _msttexthash="1860120834" _msthash="689">RP 許可リスト エントリは、トランザクションに必要な xAL など、フェデレーション トランザクションの側面に基づいて適用<strong class="normative" _istranslated="1">できます (MAY)。</strong>たとえば、RP は FAL1 トランザクションにはランタイム決定を使用できますが、FAL3 トランザクションには許可リストに登録されている IdP を要求できます。</p>
<h4 id="rp-blocklists-of-idps" data-section="4"><font _mstmutation="1" _msttexthash="19851806" _msthash="690">IdP の RP ブロックリスト</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-blocklists-of-idps" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h4>

<p _msttexthash="1817698922" _msthash="691">RP は、加入者から要求された場合でも、RP が認証または属性を受け入れない IdP のブロックリストを確立<strong class="normative" _istranslated="1">しても構いません。</strong>ブロックリストに登録された IdP は、両方が同じフェデレーション機関の下にある場合など、RP と有効な信頼契約を結んでいる可能性があります。</p>

<p _msttexthash="5283943678" _msthash="692">RP ブロックリストは、完全修飾ドメイン名、暗号鍵、または使用中のフェデレーションプロトコルに適用可能なその他の識別子を通じて IdP を一意に識別<strong class="normative" _istranslated="1">するものとします (SHALL )。</strong>識別子を共有するエンティティは、ブロックリストの目的上同等と見なされ<strong class="normative" _istranslated="1">るものとします(SHALL shall the Protocol)。</strong>たとえば、ワイルドカード ドメイン識別子 "*.example.com" は、ドメイン "www.example.com"、"service.example.com"、および "unknown.example.com" に等しく一致します。これら 3 つのサイトはすべて、同じブロックリスト エントリによってブロックされます。</p>
<h4 id="rp-runtime-decision" data-section="4"><font _mstmutation="1" _msttexthash="21500492" _msthash="693">RP ランタイムの決定</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-runtime-decision" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h4>

<p _msttexthash="11642063017" _msthash="694">RP との信頼契約を結んでいるが、その RP との許可リストに載っていないすべての IdP は、実行時の承認の決定が信頼契約に示されている権限のある当事者によって行われるデフォルトのポリシーによって管理<strong class="normative" _istranslated="1">されるものとします (MUST)。</strong>このモードでは、認証を受けたパーティは、加入者に代わって認証のために接続する IdP を選択または入力するように RP から求められます。このプロセスは、加入者が電子メール アドレスなどの人間向けの識別子を入力できる検出メカニズムによって促進され、入力されたアドレスの IdP をプログラムで選択するために使用される。実行時の決定はフェデレーション・トランザクション中に行われるため、許可された当事者は通常、個人であり、ほとんどの場合、サブスクライバーです。</p>

<p _msttexthash="7470672651" _msthash="695">RPは、特定のIdPを使用するという権限のある当事者の決定を記憶するメカニズムを採用し<strong class="normative" _istranslated="1">てもよい(MAY)。</strong>このメカニズムはRPでの認証の前に採用されるため、RPがこのメカニズムを提供する方法(例えば、認証されたセッションの外部にあるブラウザのクッキー)は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-account" _istranslated="1">第3.8節</a>で説明されているように、RP加入者アカウントとは別のものです。そのようなメカニズムが提供されている場合、RPは、ストレージメカニズムが使用されていることを権限のある当事者に開示<strong class="normative" _istranslated="1">し</strong>、権限のある当事者が将来そのような記憶されたアクセスを取り消すことを許可<strong class="normative" _istranslated="1">するものとします(SHOULD)。</strong></p>
<h3 id="provisioning" data-section="4"><font _mstmutation="1" _msttexthash="79902966" _msthash="696">RP サブスクライバ アカウントのプロビジョニング モデル</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#provisioning" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="2414834279" _msthash="697">RP 加入者アカウントのプロビジョニング プロセスのライフサイクルは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#trust-agreement" _istranslated="1">第 3.5 条</a>で説明した信頼契約や、IdP と RP の展開パターンなどの要因によって異なります。ただし、いずれの場合も、RP サブスクライバ アカウントは、RP で認証されたセッションが確立される前に、次のいずれかの方法で RP でプロビジョニングされる<strong class="normative" _istranslated="1">ものとします。</strong></p>

<dl>
  <dt _msttexthash="41419404" _msthash="698">ジャストインタイムプロビジョニング</dt>
  <dd _msttexthash="18365312134" _msthash="699">RP サブスクライバ アカウントは、RP が IdP から不明なフェデレーテッド識別子を持つアサーションを初めて受信したとき、RP サブスクライバ アカウントが存在しない場合、または <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#account-resolution" _istranslated="1">3.8.2 節</a>で説明されているように、アカウント解決プロセスを使用して既存の RP サブスクライバ アカウントを解決できるときに作成されます。第<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#s-identity-api" _istranslated="1">3.12.3項</a>で説明されているように、アサーション内またはアイデンティティAPIを介して、フェデレーションプロセス中に学習されたアイデンティティ属性は、RPサブスクライバアカウントに関連付けられ<strong class="normative" _istranslated="1">ても構いません(MAY)。</strong>この方法でプロビジョニングされたアカウントは、プロビジョニングに使用されるアサーションのフェデレーション識別子にバインドされます。
これは、RP と IdP 間の調整が最も必要ないため、フェデレーション システムでの最も一般的なプロビジョニング形式です。ただし、そのようなシステムでは、RP は、キャッシュされた属性を管理する責任<strong class="normative" _istranslated="1">を負うものとします (SHOULD)。</strong><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-7" _istranslated="1">図7を参照してください。</a></dd>
</dl>

<p latex-ignore="true"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-7" name="fig-7" _msttexthash="51738817" _msthash="700">図7.ジャストインタイムプロビジョニング</a></p>

<p><img src="./sp800-63c_files/JIT-Provisioning.png" alt="サブスクライバ アカウントに基づく RP サブスクライバ アカウントのジャストインタイム プロビジョニングの段階の図。" title="Just-in-time provisioning" latex-src="JIT-Provisioning.pdf" latex-fig="7" latex-place="p" _mstalt="6825702" _msthash="701"></p>

<dl>
  <dt _msttexthash="20270133" _msthash="702">事前プロビジョニング</dt>
  <dd _msttexthash="24353342988" _msthash="703">RP サブスクライバ アカウントは、IdP が属性を RP にプッシュするか、RP が IdP から属性をプルすることによって作成または既存の RP サブスクライバ アカウントにリンクされます。アカウントの事前プロビジョニングは、代表される加入者がフェデレーション トランザクションを介して認証される前に行われるため、通常、プロビジョニング API (<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#provisioning-api" _istranslated="1">セクション 4.6.5 を参照)</a> を介して一括で行われます。事前にプロビジョニングされたアカウントは、アカウントリンクポリシー(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#account-linking" _istranslated="1">第3.8.1条</a>参照)、アカウント解決ポリシー(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#account-resolution" _istranslated="1">第3.8.2条</a>参照)、または代替認証メカニズム(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#local-authentication" _istranslated="1">第3.8.3条</a>参照)など、代替のアクセス手段が信託契約によって定義されていない限り、プロビジョニング時にフェデレーション識別子にバインド<strong class="normative" _istranslated="1">されるものとする(SHALL )。</strong>).
この形式のプロビジョニングには、IdP と RP 側のインフラストラクチャと計画が必要ですが、これらのプロセスは自動化されたプロトコルによって促進できます。さらに、IdP と RP は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#attribute-sync" _istranslated="1">セクション 4.6.4</a> で説明されているように、プロビジョニングされたアカウントのセットを時間の経過とともに同期させる必要があります。<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-8" _istranslated="1">図8を参照してください。</a></dd>
  <dd>
    <p _msttexthash="3956887675" _msthash="704">このモデルでは、RP は、まだ RP と対話していない、または対話しない可能性のあるサブスクライバに関する属性も受け取ります。これは、RP が RP を使用する加入者のサブセットに関する情報のみを受信し、加入者が初めて RP を使用した後にのみ受信する他のモデルとは対照的です。フェデレーション取引の前にこの情報にアクセスできるRPのプライバシー上の考慮事項は、信託契約で説明される<strong class="normative" _istranslated="1">ものとします(SHOULD)。</strong></p>
  </dd>
</dl>

<p latex-ignore="true"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-8" name="fig-8" _msttexthash="27812928" _msthash="705">図8.事前プロビジョニング</a></p>

<p><img src="./sp800-63c_files/Pre-Provisioning.png" alt="サブスクライバ アカウントに基づく事前プロビジョニングされた RP サブスクライバ アカウントのステージの図。" title="Pre-provisioning" latex-src="Pre-Provisioning.pdf" latex-fig="8" latex-place="p" _mstalt="5163470" _msthash="706"></p>

<dl>
  <dt _msttexthash="30711044" _msthash="707">エフェメラルプロビジョニング</dt>
  <dd _msttexthash="13234881751" _msthash="708">アサーションを処理する際、RPは、そのアサーションと新規または既存のRP加入者アカウントとの間にリンクを確立するが、認証されたセッションが終了すると、そのリンクを削除する。このプロセスはジャストインタイムプロビジョニングに似ているが、第<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#store-subscriber-info" _istranslated="1">3.11.3条</a>に従って、セッションが完了した時点でRPは加入者の長期記録を保持しない。この形式のプロビジョニングは、IdPへのアクセス権を完全に外部化するRPに有用であり、内部状態を抑えてRPをより単純化することができる。この形式のプロビジョニングが使用される場合、アサーションではフェデレーテッド識別子は必要ありません。アサーションでフェデレーション識別子が提供されている場合、RPは、RP加入者アカウントからフェデレーテッド識別子のリンクを削除する<strong class="normative" _istranslated="1">ものとします(SHALL SHOULD</strong>)。<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-9" _istranslated="1">図9</a>を参照してください。</dd>
</dl>

<p latex-ignore="true"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-9" name="fig-9" _msttexthash="39571870" _msthash="709">図 9.エフェメラルプロビジョニング</a></p>

<p><img src="./sp800-63c_files/Ephemeral-Provisioning.png" alt="サブスクライバー アカウントに基づくエフェメラル RP サブスクライバー アカウントのステージの図。" title="Ephemeral provisioning" latex-src="Ephemeral-Provisioning.pdf" latex-fig="9" latex-place="p" _mstalt="4587401" _msthash="710"></p>

<dl>
  <dt _msttexthash="38914408" _msthash="711">その他のプロビジョニング方法</dt>
  <dd _msttexthash="1295272459" _msthash="712">他の RP 加入者アカウント プロビジョニング モデルも可能ですが、そのようなモデルの詳細は、これらのガイドラインの範囲外です。ただし、代替プロビジョニングモデルの詳細は、IdPおよびRPのプライバシーリスク評価に含まれる<strong class="normative" _istranslated="1">ものとします(SHOULD</strong>)。</dd>
</dl>

<p _msttexthash="234725101" _msthash="713">すべての組織は、信頼契約の一部としてプロビジョニング モデルを文書化<strong class="normative" _istranslated="1">するものとします (SHOULD</strong>)。</p>
<h3 id="attribute-sync" data-section="4"><font _mstmutation="1" _msttexthash="12734449" _msthash="714">属性の同期</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#attribute-sync" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="3860886510" _msthash="715">フェデレーテッド・プロセスでは、IdP と RP はそれぞれ、サブスクライバ・アカウントに関連付けられた独自の ID 属性ストアを持ちます。IdP はサブスクライバ アカウントの属性を直接表示できますが、RP サブスクライバ アカウントは、フェデレーション トランザクション中に表示される属性のサブセットから派生します。したがって、IdP と RP の属性ストアは、時間の経過とともに互いに分岐する可能性があります。</p>

<p _msttexthash="2064785528" _msthash="716">RP の観点から見ると、IdP は、IdP のサブスクライバアカウントに関連付けられていると IdP がアサートするすべての属性の信頼できるソースです。
ただし、RP は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-attribute-collection" _istranslated="1">第 4.6.6 条</a>で説明されているように、RP 加入者アカウントに関連付ける他の属性を収集し、オプションで検証<strong class="normative" _istranslated="1">しても構いません</strong>。</p>

<p _msttexthash="12945814947" _msthash="717">IdP は、アサーションのたびに更新された属性を RP にプロアクティブにプッシュすることは可能ですが、この方法では、すべてのトランザクションで個人情報が公開されます。各トランザクションで送信される個人情報の量を制限するために、<strong class="normative" _istranslated="1">IdP は</strong>、RP が利用できる加入者アカウントの属性が更新されたときに、ダウンストリーム RP に通知する必要があります。RP は、IdP に新しい属性を要求し、RP サブスクライバ アカウントを更新することで、このシグナルに応答<strong class="normative" _istranslated="1">しても構いません。</strong>この同期は、共有シグナリング(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#shared-signals" _istranslated="1">第4.8条</a>を参照)、プロビジョニングAPI(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#provisioning-api" _istranslated="1">第4.6.5条</a>を参照)、またはRPにシグナリング(たとえば、加入者アカウント属性が最後に更新された日時のタイムスタンプを提供すること)によって実現し、ID APIを介して更新された属性を要求します(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#s-identity-api" _istranslated="1">第3.12.3条</a>を参照)。</p>

<p _msttexthash="13016023592" _msthash="718">RP に ID API へのアクセスが許可されている場合、IdP は、フェデレーション トランザクションの終了後に同期操作を実行するのに十分な時間、RP が ID API にアクセスすることを許可<strong class="normative" _istranslated="1">すべきです (SHOULD</strong>)。
ID API は、最初のログイン時、特にジャストインタイムのプロビジョニングプロセスで最もよく使用されますが、後続のログインでは、RP が最後に属性をフェッチしてから属性が変更されている可能性があります。したがって、RP は、RP サブスクライバ アカウント内の属性のキャッシュを更新できるように、最初のログイン プロセスを超えて ID API へのアクセス権を付与する必要があります。
たとえば、アサーションが 5 分間有効な場合、ID API へのアクセスは 30 分間有効になり、RP サブスクライバ アカウントが古くなっていると RP が帯域外で属性をフェッチして更新できるようになります。</p>

<p _msttexthash="12165815246" _msthash="719">IdP は、加入者アカウントが終了したとき、または加入者アカウントの RP へのアクセスが取り消されたときに、ダウンストリーム RP に通知すべき<strong class="normative" _istranslated="1">です (SHOULD</strong>)。これは、共有シグナリング(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#shared-signals" _istranslated="1">セクション 4.8</a> を参照)、プロビジョニング API(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#provisioning-api" _istranslated="1">セクション 4.6.5</a> を参照)、または帯域外メカニズムを通じて実現できます。このようなシグナルを受信すると、RPは、信託契約に規定されているように、第<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#store-subscriber-info" _istranslated="1">3.11.3条</a>に従って、RP加入者アカウントを処理する<strong class="normative" _istranslated="1">ものとします</strong>。終了の理由が疑わしい活動または詐欺的な活動である場合、IdPは、RPに終了を通知し、RPへのシグナルにその理由を含めて、RPとの信頼契約に明記されている場合、関連するRP加入者アカウントの活動に疑わしい活動がないか確認できるようにするもの<strong class="normative" _istranslated="1">とする(MUST</strong>)。</p>
<h3 id="provisioning-api" data-section="4"><font _mstmutation="1" _msttexthash="13694564" _msthash="720">プロビジョニング API</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#provisioning-api" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="6040368386" _msthash="721">事前プロビジョニングの一環として、プロ<em _istranslated="1">ビジョニング API</em> と呼ばれる汎用 ID API を介して RP に加入者属性へのアクセス権を付与できます。このタイプの API を使用すると、IdP はさまざまなサブスクライバ アカウントの属性をプッシュでき、場合によっては RP がこれらのサブスクライバ アカウントの属性を直接クエリできます。API へのアクセスはフェデレーション トランザクションのコンテキストの外部で許可されるため、特定のサブスクライバのプロビジョニング API へのアクセスは、特定のサブスクライバが認証されたことを RP に示しません。</p>

<p _msttexthash="3068863278" _msthash="722">特定の RP が利用できるプロビジョニング API の属性は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#transmit-subscriber-info" _istranslated="1">第 3.10.1 条</a>で説明されているように、監査およびセキュリティの目的を含む、RP がその機能を実行するために必要なもののみに制限<strong class="normative" _istranslated="1">されるものとします。</strong>信頼契約の確立の一環として、IdP は、RP にプロビジョニング API へのアクセス権が付与されたときに、少なくとも以下を含む文書化<strong class="normative" _istranslated="1">を行うものとします。</strong></p>

<ul>
  <li _msttexthash="86861788" _msthash="723">プロビジョニング モデルを使用したアクセスの目的</li>
  <li _msttexthash="41308423" _msthash="724">RP で使用可能な属性のセット</li>
  <li _msttexthash="176416825" _msthash="725">API が RP へのプッシュ、RP からのプル、またはその両方として機能するかどうか</li>
  <li _msttexthash="118006707" _msthash="726">属性が RP で使用可能になっているサブスクライバの母集団</li>
</ul>

<p _msttexthash="1930400069" _msthash="727">プロビジョニング API へのアクセスは、相互に認証された保護されたチャネルを介して行われる<strong class="normative" _istranslated="1">ものとします (SHALL )。</strong>認証の正確な方法は、API の詳細と、それがプッシュ モデル (つまり、IdP が RP への接続を開始する) かプル モデル (つまり、RP が IdP への接続を開始する) かによって異なります。</p>

<p _msttexthash="7673785353" _msthash="728">プロビジョニング API は、加入者主導の信頼契約に基づいて利用できない<strong class="normative" _istranslated="1">ものとします</strong>。IdP は、確立された信頼契約以外の RP がプロビジョニング API を利用できるように<strong class="normative" _istranslated="1">してはなりません</strong>。IdP は、RP とのフェデレーション ID 関係の一部としてのみ、プロビジョニング API へのアクセスを提供し、その RP とのフェデレーション トランザクションおよびサブスクライバー アカウントのシグナリング失効などの関連機能を容易にする<strong class="normative" _istranslated="1">ものとします</strong>。IdP は、RP が機能目的でアクセスを必要としなくなった場合、または信託契約が終了した場合、プロビジョニング API への RP のアクセスを取り消す<strong class="normative" _istranslated="1">ものとします (SHALL SHOULD</strong>)。</p>

<p _msttexthash="2574477438" _msthash="729">RP に提供されるプロビジョニング API は、IdP の管理および管轄下にある<strong class="normative" _istranslated="1">ものとします。</strong>外部属性プロバイダーは、このプロビジョニング API を通じて属性を提供するために IdP によって情報ソースとして使用<strong class="normative" _istranslated="1">されても構いませんが</strong>、IdP は、参照される属性プロバイダーによって提供される情報の内容と正確性に責任を負います。</p>

<p _msttexthash="5718129729" _msthash="730">プロビジョニング API が使用されている場合、IdP は、アカウントが終了または無効になったときなど、サブスクライバー アカウントの状態が変更されたときに RP に通知する<strong class="normative" _istranslated="1">ものとします</strong>。このようなシグナルを受信した場合、RPは、アカウントからフェデレーテッド識別子のバインディングを削除する<strong class="normative" _istranslated="1">ものとします(SHOULD</strong>)。RP は、加入者がアクセスできなくなった場合、RP 加入者アカウントを終了<strong class="normative" _istranslated="1">しても構いません。</strong>RPは、プロビジョニングAPIから取得されたすべての個人情報を、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#store-subscriber-info" _istranslated="1">第3.11.3条</a>に従って取り扱<strong class="normative" _istranslated="1">うものとします</strong>。</p>

<p _msttexthash="720884827" _msthash="731">SCIM <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-RFC7644" _istranslated="1">[RFC7644]</a> などのプロビジョニング API は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#enterprise-sso" _istranslated="1">セクション 9.5</a> の例に示すように、IdP と RP の間に確立された関係があるエンタープライズ シナリオでよく使用されます。</p>
<h3 id="rp-attribute-collection" data-section="4"><font _mstmutation="1" _msttexthash="39638729" _msthash="732">RPによる追加属性の収集</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-attribute-collection" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="9602038706" _msthash="733">RP は、IdP によって提供される属性を超えて、加入者から追加の属性を収集し、維持<strong class="normative" _istranslated="1">してもよい (MAY)。</strong>たとえば、RP は、IdP によって提供されない優先表示名を加入者から直接収集できます。RP は、IdP に関連付けられていない ID API へのアクセスを RP に付与する属性プロバイダーと個別の契約を結ぶこともできます。たとえば、RP は IdP から州のライセンス番号を受け取りますが、別の属性検証 API を使用して、特定のライセンス番号が現在有効かどうかを確認できます。IdP からのアサーションはライセンスをサブスクライバーにバインドしますが、属性検証 API は、IdP が共有または権限を持つことができる範囲を超えた追加情報を提供します。</p>

<p _msttexthash="1343275570" _msthash="734">これらの属性は、フェデレーション・トランザクションの外部で RP によって収集されるため、信頼契約とは別に管理されます。ただし、RP加入者アカウントのすべての属性は、ソースに関係なく、第<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#store-subscriber-info" _istranslated="1">3.11.3条</a>に従って保存<strong class="normative" _istranslated="1">されるものとします(SHOULD)。</strong></p>

<p _msttexthash="1461021575" _msthash="735">RPは、追加の属性を収集する目的を加入者に開示<strong class="normative" _istranslated="1">するものとします(MUST)。</strong>これらの属性は、RP の機能の明示された目的にのみ使用<strong class="normative" _istranslated="1">されるものとします (SHALL )。</strong>追加で収集された属性の送信は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#transmit-subscriber-info" _istranslated="1">第 3.10.1 条</a>に従って処理<strong class="normative" _istranslated="1">されるものとします。</strong></p>

<p _msttexthash="1689416430" _msthash="736">RPは、加入者が、RP加入者アカウントからこれらの追加収集された属性を更新および削除するための安全かつ効果的な救済手段を提供する<strong class="normative" _istranslated="1">ものとします(SHOULD)。</strong>救済メカニズムに関する追加の要件と考慮事項については、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#redress" _istranslated="1">セクション 3.5.3</a> を参照してください。</p>

<p _msttexthash="792904801" _msthash="737">次の要件は、連邦政府機関が独自の ID サービスを運用しているか、ID サービスの一部として外部 CSP を使用しているかに関係なく、連邦政府機関に適用されます。</p>

<ul>
  <li _msttexthash="344630754" _msthash="738">RP は、収集された追加の属性とその使用を、記録システム通知 (SORN) の一部として開示<strong class="normative" _istranslated="1">するものとします (SHOULD</strong>)。</li>
</ul>
<h3 id="stale-account" data-section="4"><font _mstmutation="1" _msttexthash="72598942" _msthash="739">RP 加入者アカウントの時間ベースの削除</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#stale-account" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="25246468559" _msthash="740">RP がジャストインタイム プロビジョニング メカニズムを使用している場合、RP は、そのアカウントが RP で最初に使用されたときにのみ、サブスクライバ アカウントの存在を学習します。IdP が共有シグナリングを使用して終了した加入者アカウントを RP に通知しない場合(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#shared-signals" _istranslated="1">第 4.8 節</a>を参照)、RP は IdP からアクセスできなくなった RP 加入者アカウントを蓄積する可能性があります。これにより、RP サブスクライバー アカウントに個人情報を保持し、攻撃者が標的にする悪用可能なアカウントを提供するというリスクが生じます。このような状況において、RPは、アプリケーションの使用パターンに合わせた一定期間後にアクセスされなかった終了のRP加入者アカウントを識別するために、時間ベースのメカニズムを採用し<strong class="normative" _istranslated="1">てもよい(MAY)。</strong>たとえば、通常は毎週アクセスされる RP では、RP での最後のアクセスから 120 日間のタイムアウトを設定して、RP サブスクライバ アカウントに終了のマークを付けることができます。アクセス間の間隔が長くなると予想される RP (たとえば、毎年使用されるサービス) は、5 年など、時間ベースの終了の期間をはるかに長くする必要があります。</p>

<p _msttexthash="2704229957" _msthash="741">非アクティブなアカウントを処理する場合、RPは、アカウントの保留中の終了について加入者に十分な通知を提供し、予定された終了前にアカウントを再アクティブ化するオプションを加入者に提供<strong class="normative" _istranslated="1">するものとします(SHOULD)。</strong>終了時に、RPは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#store-subscriber-info" _istranslated="1">第3.11.3条</a>に従って、RP加入者アカウントに関連するすべての個人情報を削除する<strong class="normative" _istranslated="1">ものとします</strong>。</p>
<h2 id="federation-session" data-section="4"><font _mstmutation="1" _msttexthash="98148362" _msthash="742">フェデレーテッド環境での再認証とセッション要件</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#federation-session" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="1025123359" _msthash="743">フェデレーテッド環境では、RP は IdP のセッションとは別にセッションを管理します。アサーションは両方のセッションに関連していますが、その有効期間は最終的にはセッションから独立しています。</p>

<p _msttexthash="15604678934" _msthash="744"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-10" _istranslated="1">図10</a>に示すように、IdPでの認証セッション中にアサーションが作成され、アサーションを処理することでRPで認証セッションが作成されます。アサーションの有効期間は、RP によるアサーションの処理を管理するために使用されますが、IdP または RP での認証済みセッションの有効期間を示すものではありません。サブスクライバーのセッションが IdP でまだ有効である間に、新しいフェデレーション トランザクションの要求が IdP に届くと、独自の有効期間を持つ新しい個別のアサーションが作成されます。同様に、RP がアサーションを使用した後、RP のセッションの有効性はアサーションの有効性とは無関係です。ほとんどの場合、RP での認証されたセッションは、アサーションの有効性をはるかに上回ります。ID API に付与されるアクセス権は、同様に、アサーションの有効性や RP での認証されたセッションの有効期間とは無関係です。</p>

<p latex-ignore="true"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-session" name="fig-10" _msttexthash="42442868" _msthash="745">図10.セッションの有効期間</a></p>

<p><img src="./sp800-63c_files/Session.png" alt="IdP と RP でのセッションの有効期間とアサーションの妥当性ウィンドウの関係の図。" title="Session lifetimes" latex-src="Session.pdf" latex-fig="10" latex-place="h" _mstalt="5927012" _msthash="746"></p>

<p _msttexthash="1945217248" _msthash="747">IdP で加入者のセッションを終了しても、サブスクライバがダウンストリーム RP で持つ可能性のあるセッションが必ずしも終了するとは限りません。RPとIdPは、フェデレーションプロトコルまたは共有シグナリングによってサポートされている場合、エンドセッションイベントを相互に通信<strong class="normative" _istranslated="1">してもよい(MAY)。</strong> <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#shared-signals" _istranslated="1"></a></p>

<p _msttexthash="33976612540" _msthash="748">フェデレーテッド・トランザクション要求の時点で、サブスクライバは、RP へのアサーションを生成するために<strong class="normative" _istranslated="1">使用できる、</strong>IdP に既存の認証済みセッションを持つことができます。IdPは、IdPにおける加入者の最新の認証イベントの最新性に関してIdPが持っているあらゆる情報をRPに伝達<strong class="normative" _istranslated="1">するものとし</strong>、RPは、この情報を使用して承認およびアクセスの決定を行う<strong class="normative" _istranslated="1">ことができます(MAY)。</strong>使用中のフェデレーション プロトコルの機能に応じて、IdP は、加入者の最後の認証イベントからの最大時間を要求するなど、加入者が IdP で新しい認証を提供するよう要求することを RP に許可<strong class="normative" _istranslated="1">すべきです (SHOULD</strong>)。たとえば、サブスクライバーが 1 つのトランザクションに対して IdP で認証するとします。その後、加入者は 30 分後に RP でフェデレーション トランザクションを開始します。xAL の要件に応じて、IdP でのサブスクライバーの既存のセッションを使用して、サブスクライバーにオーセンティケーターの入力を求める必要を回避できます。RP に対する結果のアサーションは、加入者が最後に RP に対して認証した時刻が過去 30 分であることを示します。RP は、この情報を使用して、これが RP のニーズにとって妥当かどうかを判断できます。認証時間が RP に十分でない場合、RP は IdP に要求して、加入者に新しい認証イベントを求めることができます。</p>

<p _msttexthash="3316162018" _msthash="749">RP がアサーションを受信した時点で RP に ID API へのアクセスが許可された場合、ID API へのアクセスの有効期間はアサーションの有効期間とは無関係です。その結果、ID API を介して追加の属性を正常にフェッチする RP の機能は、RP でのセッションの確立または拡張には使用<strong class="normative" _istranslated="1">されません</strong>。同様に、ID API にアクセスできないことを使用して、RP でのセッションを終了しないでください。<strong class="normative" _istranslated="1"></strong></p>

<p _msttexthash="787858058" _msthash="750">RP は、フェデレーション トランザクション (サブスクライバーのカレンダーなど) 中に他の非 ID API へのアクセスを許可することもできますが、非 ID API はこれらのガイドラインの範囲外です。</p>

<p _msttexthash="6390484763" _msthash="751">RPは、アサーション、認証イベント、または属性がRPの要件を満たしていない場合、加入者との認証されたセッションを終了するか、RPの機能へのアクセスを制限しても<strong class="normative" _istranslated="1">よい(MAY)。</strong>たとえば、フェデレーション トランザクションが FAL3 の場合にのみ特定の高リスク機能へのアクセスを許可するように RP が構成されているが、受信アサーションが FAL2 の要件しか満たしていない場合、RP は、リスクの低い機能へのアクセスを許可しながら、リスクの高い機能へのアクセスを拒否するか、セッションを完全に終了することを選択できます。</p>

<p _msttexthash="288444533" _msthash="752">IdP と RP の両方に適用されるセッション管理要件の詳細については、[<a href="https://pages.nist.gov/800-63-4/sp800-63b.html#sec7" latex-href="#ref-SP800-63B" _istranslated="1">SP800-63B] Sec. 5</a> を参照してください。</p>
<h2 id="shared-signals" data-section="4"><font _mstmutation="1" _msttexthash="15845583" _msthash="753">共有シグナリング</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#shared-signals" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="29833049688" _msthash="754">一部の環境では、IdP と RP がフェデレーション トランザクションの外部で相互に情報を送信すると便利です。これらのシグナルは、詐欺の疑いやアカウントステータスの変更など、他の方法では知られていない重要な状態の変化を当事者間で伝えることができます。共有シグナリングは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#transmit-subscriber-info" _istranslated="1">セクション 3.10.1</a> で説明されているように、ID プロセスの許容機能に限定される<strong class="normative" _istranslated="1">ものとします (SHALL shall shall be allowed function</strong> of the Identity Process of the Identity Process)共有シグナリングのすべての使用は、信託契約に文書化され、信託契約で規定された権限のある当事者が利用できるようにする<strong class="normative" _istranslated="1">ものとします。</strong>このドキュメントには、シグナルが送信されるイベント、そのようなシグナルに含まれる情報の種類(個人情報を含む)、シグナルとともに送信される追加パラメータ、および受信したシグナルの予想される処理が含まれる<strong class="normative" _istranslated="1">ものとします(SHALL SHOULD</strong>)。共有シグナリングの使用は、信頼契約に基づくプライバシーレビューの対象となる<strong class="normative" _istranslated="1">ものとします(MUST)。</strong>共有シグナルには、問題の加入者アカウントを識別するために必要なもの(例えば、受信者が関連付けることができるアカウント識別子または属性)を除き、個人情報を含め<strong class="normative" _istranslated="1">ないものとします(SHALL NOT</strong>)。</p>

<p _msttexthash="1115959208" _msthash="755">IdP から RP へのシグナリングには、事前に確立された信頼契約が必要<strong class="normative" _istranslated="1">とします (SHALL )。</strong>RP から <strong class="normative" _istranslated="1">IdP への</strong>シグナリングは、事前に確立された信頼契約と加入者主導の信頼契約の両方で使用できます。</p>

<p _msttexthash="262812667" _msthash="756">IdP は、サブスクライバー アカウントに対する以下の変更に関するシグナルを RP に送信<strong class="normative" _istranslated="1">すべきです (SHOULD</strong>)。</p>

<ul>
  <li _msttexthash="93607449" _msthash="757">アカウントが終了、停止、または無効になっています。</li>
  <li _msttexthash="56488107" _msthash="758">アカウントが侵害された疑いがあります。</li>
  <li _msttexthash="455786812" _msthash="759">フェデレーション識別子以外の識別子(電子メールアドレス、証明書の共通名など)を含む、アカウントの属性が変更されました。</li>
  <li _msttexthash="120660982" _msthash="760">アカウントの IAL、AAL、FAL の可能な範囲が変更されました。</li>
  <li _msttexthash="43544969" _msthash="761">認証システムが更新されました。</li>
</ul>

<p _msttexthash="735524530" _msthash="762">RP は、RP 加入者アカウントが侵害の疑いがあるというシグナルを受信した場合、RP は、そのアカウントが RP で行ったアクションに不審なアクティビティがないか確認<strong class="normative" _istranslated="1">すべきです</strong>。</p>

<p _msttexthash="260790556" _msthash="763">RP は、RP サブスクライバ アカウントに対する以下の変更に関するシグナルを IdP に送信<strong class="normative" _istranslated="1">すべきです。</strong></p>

<ul>
  <li _msttexthash="93607449" _msthash="764">アカウントが終了、停止、または無効になっています。</li>
  <li _msttexthash="56488107" _msthash="765">アカウントが侵害された疑いがあります。</li>
  <li _msttexthash="121683653" _msthash="766">バインドされたオーセンティケーターは、RP によって追加されます。</li>
  <li _msttexthash="110199297" _msthash="767">バインドされたオーセンティケータは RP によって削除されます。</li>
</ul>

<p _msttexthash="2450981598" _msthash="768">IdP は、加入者アカウントが侵害の疑いがあるというシグナルを受信した場合、IdP は、そのアカウントが IdP で行ったアクションを不審なアクティビティがないか確認<strong class="normative" _istranslated="1">するものとします。</strong>IdP で不審なアクティビティが確認された場合、IdP は、疑わしい期間に加入者アカウントが使用された追加の RP に通知<strong class="normative" _istranslated="1">するものとします。</strong></p>

<p _msttexthash="601029858" _msthash="769">IdP と RP の両方からの追加のシグナルは、セキュリティ レビューの対象となり、プライバシー リスク評価に含まれ、信託契約で対処される<strong class="normative" _istranslated="1">ものとします (MUST</strong>)。</p>

<p _msttexthash="1264638024" _msthash="770">RPが複数のIdPへのアカウントリンクを許可する場合、RPは、リンクされたアカウントのシグナルに関する慣行を文書化<strong class="normative" _istranslated="1">するものとします</strong>。RPは、共有シグナルが加入者のリンクされたIdPの身元を明らかにしないようにする<strong class="normative" _istranslated="1">ものとする(SHOULD</strong>)。</p>
<h2 id="assertions" data-section="4"><font _mstmutation="1" _msttexthash="19735404" _msthash="771">アサーションの内容</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertions" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="16550262222" _msthash="772">アサーションは、IdP から RP へのステートメントで、認証された加入者の認証イベントに関する情報と、その加入者に関する、またはその加入者に関連付けられた属性値、派生属性値、または属性バンドルのセットが含まれます。アサーションは、属性情報に加えて、アサーションメタデータ、IdPでの加入者の認証に関する情報、およびRPが活用できるその他の情報(制限、有効期間など)など、さまざまなデータで構成されます。アサーションの主な機能はRPに対してユーザーを認証することですが、アサーションで伝達された情報は、RPによって多くのユースケース(ID証明、承認、Webサイトのパーソナライゼーションなど)に使用できます。これらのガイドラインは、選択したソリューションがここに含まれるすべての必須要件を満たしていることを条件に、RP のユースケースや ID のフェデレーションに使用されるプロトコルまたはデータ ペイロードのタイプを制限するものではありません。</p>

<p _msttexthash="507124020" _msthash="773">アサーションは、IdP における加入者の個別の認証イベントを表す<strong class="normative" _istranslated="1">ものとし</strong>、RP において個別の認証イベントとして処理<strong class="normative" _istranslated="1">されるものとします。</strong></p>

<p _msttexthash="103360699" _msthash="774">すべてのアサーションは、以下の属性を含む<strong class="normative" _istranslated="1">ものとします(SHALL SHOULD)。</strong></p>

<ol>
  <li _msttexthash="122971563" _msthash="775">発行者識別子: アサーションの発行者 (IdP など) の識別子。</li>
  <li _msttexthash="685231898" _msthash="776">オーディエンス識別子: アサーションを消費しようとする当事者の識別子(つまり、RP)。アサーションには、FAL1 に複数のオーディエンス識別子を含めることができます。</li>
  <li _msttexthash="153123074" _msthash="777">発行時間: IdP がアサーションを発行した日時を示すタイムスタンプ。</li>
  <li _msttexthash="1593014540" _msthash="778">有効期間:サブスクライバを認証し、RP で認証されたセッションを開始する目的で、アサーションが RP によって有効であると受け入れ<strong class="normative" _istranslated="1">られない</strong>期間。これは通常、発行タイムスタンプに加えて、アサーションの有効期限タイムスタンプによって伝達されます。</li>
  <li _msttexthash="453929658" _msthash="779">アサーション識別子: このアサーションを一意に識別し、攻撃者が以前のアサーションを再生できないようにするために使用されます。</li>
  <li _msttexthash="463199191" _msthash="780">認証時間: IdP がプライマリ認証イベントを通じて IdP でのサブスクライバーの存在を最後に確認した日時を示すタイムスタンプ。</li>
  <li _msttexthash="219450816" _msthash="781">署名: アサーション全体をカバーするデジタル署名または MAC (検証キー識別子を含む)。</li>
</ol>

<p _msttexthash="1387264476" _msthash="782">RP 加入者アカウントが一時的なプロビジョニング プロセスを使用しない場合、加入者は、フェデレーション識別子 (<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#federated-identifier" _istranslated="1">第 3.4 条</a>を参照) を使用するか、アカウント解決プロセス (<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#account-resolution" _istranslated="1">第 3.8.2 条</a>を参照) を通じてアサーションで識別される<strong class="normative" _istranslated="1">ものとします (SHOULD</strong>)。</p>

<p _msttexthash="301739568" _msthash="783">加入者がフェデレーション識別子を使用して識別される場合、アサーションには以下を含める<strong class="normative" _istranslated="1">ものとします。</strong></p>

<ul>
  <li _msttexthash="221515203" _msthash="784">サブジェクト識別子: アサーションが適用される当事者 (つまり、加入者) の識別子</li>
</ul>

<p _msttexthash="466487658" _msthash="785">フェデレーション取引の次の側面は、アサーション内容または該当する信託契約に含まれる情報を通じて提供<strong class="normative" _istranslated="1">されるものとします。</strong></p>

<ol>
  <li _msttexthash="1043567447" _msthash="786">IALおよび本人確認プロセス中に使用される検証の種類(生体認証、住所検証など)、加入者アカウントの確立に使用される本人確認プロセスの表示、またはIALがアサートされていないことの表示</li>
  <li _msttexthash="277587349" _msthash="787">サブスクライバが IdP に対して認証したときに使用された AAL、または AAL がアサートされていないことを示す AAL</li>
  <li _msttexthash="121908046" _msthash="788">アサーションで表されるフェデレーションプロセスのIdPの意図されたFAL</li>
</ol>

<p _msttexthash="1581354346" _msthash="789">アサーションは、利用可能な場合、IdP で使用される認証方法に関する追加情報(たとえば、使用される認証がフィッシング耐性であるかどうか)を含む<strong class="normative" _istranslated="1">べきです(SHOULD</strong>)。情報を伝送できるテクノロジには、Vectors <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-RFC8485" _istranslated="1">of Trust [RFC8485]</a> や <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC" _istranslated="1">[OIDC] や [SAML]</a> の<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SAML" _istranslated="1"></a>認証クラス参照などがあります。</p>

<p _msttexthash="86751184" _msthash="790">FAL2 以上では、アサーションには以下が含まれます<strong class="normative" _istranslated="1">。</strong></p>

<ol>
  <li _msttexthash="103857455" _msthash="791">Nonce: RP のフェデレーション要求からの暗号化ナンス</li>
</ol>

<p _msttexthash="131434472" _msthash="792">FAL3 では、アサーションには以下のいずれかが含まれる<strong class="normative" _istranslated="1">ものとします。</strong></p>

<ol>
  <li _msttexthash="187834595" _msthash="793">公開鍵、鍵識別子、または鍵所有者アサーションのその他の識別子、または</li>
  <li _msttexthash="372373066" _msthash="794">このアサーションを処理するために、バインドされたオーセンティケーターの検証が必要であることを示すインジケーター。</li>
</ol>

<p _msttexthash="195268398" _msthash="795">アサーションには、加入者認証シークレット(パスワードなど)が含まれ<strong class="normative" _istranslated="1">てはなりません(MUST NOT</strong>)。</p>

<p _msttexthash="146533452" _msthash="796">アサーションには、次のような追加項目も含まれる<strong class="normative" _istranslated="1">場合があります。</strong></p>

<ol>
  <li _msttexthash="100506978" _msthash="797">属性値と派生属性値: サブスクライバーに関する情報</li>
  <li _msttexthash="131886677" _msthash="798">属性バンドル: CSP からの署名付きバンドル内の属性のコレクション</li>
  <li _msttexthash="452308948" _msthash="799">サブスクライバーアカウント: IAL の取得に使用されるコントロールのセットなど、サブスクライバーアカウントに関する追加の詳細</li>
  <li _msttexthash="355523701" _msthash="800">属性メタデータ: <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-nistir8112" _istranslated="1">[NISTIR8112]</a> で説明されているような、1 つ以上のサブスクライバー属性に関する追加情報</li>
  <li _msttexthash="293771868" _msthash="801">認証イベント: 使用されたオーセンティケーターのクラスなど、認証イベントに関する追加の詳細</li>
</ol>

<p _msttexthash="281873020" _msthash="802">RPは、以下のすべてが真実であることを確認することによって、アサーションを検証<strong class="normative" _istranslated="1">するものとします(SHALL SHOULD)。</strong></p>

<ol>
  <li _msttexthash="448454136" _msthash="803"><em _istranslated="1">署名の検証</em>: アサーションの署名が有効であり、アサーションを送信する IdP に属する検証キーに対応していることを確認します。</li>
  <li _msttexthash="213613140" _msthash="804"><em _istranslated="1">発行者の検証</em>: アサーションが予想される IdP によって発行されたことを確認します。</li>
  <li _msttexthash="229497801" _msthash="805"><em _istranslated="1">時間検証</em>: 有効期間が現在のタイムスタンプの許容範囲内にあることを確認します。</li>
  <li _msttexthash="236899702" _msthash="806"><em _istranslated="1">対象ユーザーの制限</em>: この RP がアサーションの意図された受信者であることを確認します。</li>
  <li _msttexthash="351801372" _msthash="807"><em _istranslated="1">ナンス</em>: RP の要求に含まれる暗号化ナンス (該当する場合) がプレゼンテーションに含まれていることを確認します。</li>
  <li _msttexthash="537560244" _msthash="808"><em _istranslated="1">取引条件</em>: アサーションで表される IAL、AAL、FAL が、該当する信託契約の下で許容され、RP のニーズに適していることを確認してください。</li>
  <li _msttexthash="279031480" _msthash="809"><em _istranslated="1">アサーション識別子</em>: この RP での有効期間内にアサーションが再生されていないことを確認します。</li>
</ol>

<p _msttexthash="4131720437" _msthash="810">フェデレーテッド識別子を使用して加入者を識別するRPは、サブジェクト識別子をIdP間で本質的にグローバルに一意であるものとして扱<strong class="normative" _istranslated="1">わないものとします(SHOULD</strong>)。代わりに、アサーションのサブジェクト識別子の値は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#federated-identifier" _istranslated="1">セクション 3.4</a> で説明されているように、アサーション発行者の制御下にある名前空間で処理されます。これにより、RPは、異なるIdPのサブジェクトを誤って混同することなく、複数のIdPと通信できます。</p>

<p _msttexthash="5439811585" _msthash="811">RP への ID 属性のリリースには、信頼契約の条件が適用されます。<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#privacy-reqs" _istranslated="1">セクション 3.10</a> には、アサーションで属性を提示するためのプライバシー要件が含まれています。RPは、アサーションが受信されたのと同じ応答で、または他のメカニズムを介して、ID APIへの制限付きアクセス(セクション<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#s-identity-api" _istranslated="1">3.12.3</a>を参照)を付与<strong class="normative" _istranslated="1">されてもよい(MAY)。</strong>RP は、この API を使用して、アサーション自体に含まれていないサブスクライバの追加の ID 属性をフェッチできます。これらの属性は、信託契約の条件にも適用されます。</p>

<p _msttexthash="8073982774" _msthash="812">アサーションの有効期間は、発行から有効期限までの時間です。このウィンドウは、RP がアサーションを処理し、加入者用のローカル アプリケーション セッションを作成できる十分な大きさである必要がありますが、IdP と RP 間の妥当なクロック ドリフトを含め、そのような確立に必要な長さを超えてはなりません。長寿命のアサーションは、盗まれたり再生されたりするリスクが高くなります。アサーションの有効期間を短くすることで、このリスクが軽減されます。アサーションの有効期間は、RP でのセッションを制限するために使用<strong class="normative" _istranslated="1">してはなりません。</strong>詳細については、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#federation-session" _istranslated="1">セクション4.7</a>を参照してください。</p>
<h2 id="assertion-requests" data-section="4"><font _mstmutation="1" _msttexthash="20256106" _msthash="813">アサーション要求</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertion-requests" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="348732007" _msthash="814">フェデレーショントランザクションがRPによって開始されると、RPのアサーション要求には以下が含まれ<strong class="normative" _istranslated="1">るものとする(SHALL SHOULD)。</strong></p>

<ol>
  <li _msttexthash="12757511" _msthash="815">RP の識別子</li>
  <li _msttexthash="53510704" _msthash="816">アサーションで返される暗号化ナンス</li>
</ol>

<p _msttexthash="72447557" _msthash="817">RPの要求には、さらに以下を含める<strong class="normative" _istranslated="1">べきです(SHOULD)。</strong></p>

<ol>
  <li _msttexthash="400843573" _msthash="818">RP によって要求された ID 属性のセットと、RP での使用目的。これは、信託契約で許可されている内容のサブセットです</li>
  <li _msttexthash="41846337" _msthash="819">IdP での認証イベントの要件</li>
</ol>

<p _msttexthash="871373178" _msthash="820">フェデレーション・トランザクションが IdP によって (FAL1 で) 開始される場合、これらの要件は適用されません。フェデレーション・トランザクションは、常に FAL2 以上で RP によって開始されます。</p>
<h2 id="presentation" data-section="4"><font _mstmutation="1" _msttexthash="34144838" _msthash="821">アサーションプレゼンテーション</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#presentation" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="534159275" _msthash="822">ほとんどのフェデレーション プロトコルでは、RP と IdP は 2 つの方法で相互に通信し、それぞれを使用して IdP から RP にアサーションを渡すことができます。</p>

<ul>
  <li _msttexthash="179677108" _msthash="823"><em _istranslated="1">バックチャネル</em>:加入者が直接関与しないRPとIdP間の直接接続を介して</li>
  <li _msttexthash="351817466" _msthash="824"><em _istranslated="1">フロントチャネル</em>:加入者と加入者のブラウザまたはデバイスが関与するリダイレクトを使用する第三者経由</li>
</ul>

<p _msttexthash="1737333585" _msthash="825">各モデルにはトレードオフがありますが、どちらもアサーションの適切な検証が必要です。アサーションは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#proxied" _istranslated="1">セクション 3.3.3</a> で詳細に説明されているように、異なるプレゼンテーション方法を使用して IdP と RP の間のフェデレーションを促進するためにプロキシされることもあります <strong class="normative" _istranslated="1">(MAY)。</strong></p>
<h3 id="back-channel" data-section="4"><font _mstmutation="1" _msttexthash="37716211" _msthash="826">バックチャネルプレゼンテーション</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#back-channel" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="11964970641" _msthash="827"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-11" _istranslated="1">図11</a>に示すバックチャネルプレゼンテーションモデルでは、加入者には、通常はフロントチャネルを介してRPに提示するアサーション参照が与えられます。アサーション参照自体には、サブスクライバーに関する情報は含まれておらず、攻撃者による改ざんや捏造に耐性がある<strong class="normative" _istranslated="1">ものとします(SHOULD</strong>)。RP は、アサーションを取得するために IdP にアサーション参照を提示します。これを実現する方法は、使用されているフェデレーションプロトコルによって異なります。認証コードフローおよび<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC" _istranslated="1">[OIDC]</a>のハイブリッドフローのいくつかの形式では、アサーション参照(認証コード)と引き換えに、アサーション(つまり、IDトークン)がバックチャネルに表示されます。<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SAML-bindings" _istranslated="1">[SAML-Bindings]</a> のアーティファクト バインディング プロファイルでは、SAML アサーションがバック チャネルに表示されます。</p>

<p latex-ignore="true"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-63cSec7-Figure1" name="fig-11" _msttexthash="50160409" _msthash="828">図11.バックチャネルプレゼンテーション</a></p>

<p><img src="./sp800-63c_files/back-channel.png" alt="アサーションを RP に伝達するためのバックチャネル プレゼンテーション モデルの図。" title="Back-channel presentation" latex-src="back-channel.pdf" latex-fig="11" latex-place="h" _mstalt="4483518" _msthash="829"></p>

<p _msttexthash="239070819" _msthash="830"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-11" _istranslated="1">図11</a>に示すように、バックチャネルプレゼンテーションモデルは3つのステップで構成されています。</p>

<ol>
  <li _msttexthash="208430937" _msthash="831">IdP は、フロント チャネルを介してサブスクライバーにアサーション参照を送信します。</li>
  <li _msttexthash="156700986" _msthash="832">加入者は、フロントチャネルを介してアサーション参照をRPに送信します。</li>
  <li _msttexthash="560031654" _msthash="833">RP は、アサーション参照とその RP クレデンシャルをバックチャネルを介して IdP に提示します。IdP は認証情報を検証し、アサーションを返します。</li>
</ol>

<p _msttexthash="18181839" _msthash="834">アサーション参照:</p>

<ol>
  <li _msttexthash="72061327" _msthash="835">1 人の RP による使用に制限<strong class="normative" _istranslated="1">されるものとします</strong></li>
  <li _msttexthash="29476473" _msthash="836">使い捨てである<strong class="normative" _istranslated="1">ものとします</strong></li>
  <li _msttexthash="97456255" _msthash="837">時間<strong class="normative" _istranslated="1"></strong>制限があり、有効期間が 5 分以内である<strong class="normative" _istranslated="1">べきです</strong></li>
  <li _msttexthash="86922264" _msthash="838">IdP への RP の認証とともに提示<strong class="normative" _istranslated="1">されるものとします</strong></li>
  <li _msttexthash="100572628" _msthash="839">攻撃者によって予測可能または推測できない<strong class="normative" _istranslated="1">ものとする</strong></li>
</ol>

<p _msttexthash="10592017852" _msthash="840">このモデルでは、RP は IdP に直接アサーションを要求して、加入者を含む第三者による傍受や操作の可能性を最小限に抑えます。
バックチャネル方式では、フロントチャネル方式よりも多くのネットワークトランザクションが必要ですが、情報はそれを必要とする当事者のみに限定されます。RP は、リクエストの結果として IdP から直接アサーションを取得することしか期待していないため、攻撃対象領域は縮小されます。その結果、アサーションを RP に直接挿入することはより困難であり、このプレゼンテーション方法は FAL2 以上に推奨されます。
IdP と RP はすでに直接接続されているため、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#s-identity-api" _istranslated="1">3.12.3 節</a>で説明されているように、バックチャネル プレゼンテーション方式により ID API の使用が容易になります。</p>

<p _msttexthash="1503594755" _msthash="841">技術的には可能ですが、アサーション参照 (定義上は単一オーディエンス) がマルチオーディエンスのアサーションになる可能性は低いです。このため、バックチャネルプレゼンテーションは、実際には単一オーディエンスのアサーションでの使用に限定されます。</p>

<p _msttexthash="1619045597" _msthash="842">IdP から加入者へ、および加入者から RP へのアサーション参照の伝達は、認証された保護されたチャネルを介して行われる<strong class="normative" _istranslated="1">ものとします。</strong>RP から IdP へ、またはその逆のアサーション参照の伝達は、認証された保護されたチャネルを介して行われる<strong class="normative" _istranslated="1">ものとします。</strong></p>

<p _msttexthash="11676166957" _msthash="843">RPは、クロスサイトスクリプティング(XSS)およびクロスサイトリクエストフォージェリ(CSRF)保護を使用し、フェデレーショントランザクションの正しい段階外のアサーション参照を拒否すること、または<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#injection-protection" _istranslated="1">第3.11.1条</a>で説明されているその他の受け入れられた手法を使用することにより、製造またはキャプチャされたアサーション参照の挿入から自分自身を保護する<strong class="normative" _istranslated="1">ものとします(SHOULD)。</strong>
アサーション参照が IdP に提示される場合、IdP は、アサーション参照を提示する RP が、アサーション参照の結果となったアサーション要求を行ったのと同じ RP であることを確認する<strong class="normative" _istranslated="1">ものとします (SHOULD</strong>)。この例は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-auth" _istranslated="1">セクション 9.12</a> で説明されており、[<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-FAPI" _istranslated="1">FAPI]</a> や <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-iGov" _istranslated="1">[iGov]</a> などの追加のセキュリティ プロファイルを使用した <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC" _istranslated="1">[OIDC]</a> の認証コード フローが含まれます。</p>

<p _msttexthash="1437164170" _msthash="844">フェデレーション プロキシ (<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#proxied" _istranslated="1">セクション 3.3.3</a> を参照) では、アップストリーム IdP オーディエンスはアサーション参照とアサーションをプロキシに制限し、プロキシは新しく作成されたアサーション参照またはアサーションをダウンストリーム RP に制限します。</p>
<h3 id="front-channel" data-section="4"><font _mstmutation="1" _msttexthash="45372639" _msthash="845">フロントチャンネルプレゼンテーション</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#front-channel" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="3538441920" _msthash="846"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-12" _istranslated="1">図12</a>に示すフロントチャネルプレゼンテーションモデルでは、IdPはアサーションを作成し、加入者のユーザーエージェントなどのサードパーティを介してRPに送信します。暗黙的なフローと<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC" _istranslated="1">[OIDC]</a>のハイブリッドフローのいくつかの形式では、アサーション(つまり、IDトークン)がフロントチャネルに表示されます。<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SAML-WebSSO" _istranslated="1">[SAML-WebSSO]</a> で定義されている SAML Web SSO プロファイルでは、SAML アサーションがフロント チャネルに表示されます。</p>

<p latex-ignore="true"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-13" name="fig-12" _msttexthash="59123922" _msthash="847">図12.フロントチャンネルプレゼンテーション</a></p>

<p><img src="./sp800-63c_files/front-channel.png" alt="RP にアサーションを伝達するためのフロントチャネル プレゼンテーション モデルの図。" title="Front-channel presentation" latex-src="front-channel.pdf" latex-fig="12" latex-place="h" _mstalt="4608123" _msthash="848"></p>

<p _msttexthash="2961488335" _msthash="849">フロントチャネルの提示方式では、IdPやRP以外の当事者にアサーションが公開されるため、アサーションに含まれる個人情報が漏洩するリスクが高まります。さらに、攻撃者がアサーションをキャプチャして再生するための攻撃対象領域が増加します。その結果、他のメカニズムが利用可能な場合、フロントチャネルプレゼンテーションは推奨されません。</p>

<p _msttexthash="497537235" _msthash="850">RPは、アサーション識別子を使用して、アサーションの有効期間内に特定のアサーションが最大で1回提示されるようにする<strong class="normative" _istranslated="1">ものとします(SHOULD</strong>)。</p>

<p _msttexthash="2227927806" _msthash="851">RP は、XSS および CSRF 保護を使用し、フェデレーション トランザクションの正しい段階外のアサーションを拒否すること、または<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#injection-protection" _istranslated="1">第 3.11.1 節</a>で説明されているその他の受け入れられた手法を使用することにより、製造またはキャプチャされたアサーションの注入から自分自身を保護する<strong class="normative" _istranslated="1">ものとします</strong>。</p>

<p _msttexthash="460932628" _msthash="852">IdP から加入者へ、および加入者から RP へのアサーションの伝達は、認証された保護されたチャネルを介して行われる<strong class="normative" _istranslated="1">ものとします。</strong></p>

<p _msttexthash="17735652194" _msthash="853">汎用 IdP では、フロントチャネル通信は HTTP リダイレクトを使用して実現されるのが一般的であり、アサーションの内容は HTTP 要求 URL の一部として利用可能になります。HTTP エコシステムの性質上、これらのリクエスト URL は、アクセス ログ、Web プロキシ、ブラウザ履歴など、予期しない場所で利用できる場合があります。これらのアーティファクトは、フェデレーション トランザクションの後もずっと存続する傾向があり、他のコンテキストでも利用できるため、アサーションを読み取るための攻撃対象領域が増加します。その結果、アサーションのフロントチャネル表示にHTTPリダイレクトを使用するIdPは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#encrypted-assertion" _istranslated="1">第3.13.3条</a>で説明されているように、アサーション内のすべての個人情報を暗号化<strong class="normative" _istranslated="1">するものとします(MUST)。</strong>これらの特性を共有しない他のフロントチャネル表示メカニズム(例えば、HTTP フォームポストバインディング、アプリケーション固有の URL)は、アサーション内のすべての個人情報を暗号化<strong class="normative" _istranslated="1">すべきです(SHOULD)。</strong></p>

<h1 id="wallet" data-section="5"><font _mstmutation="1" _msttexthash="27647191" _msthash="854">加入者管理ウォレット</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#wallet" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h1>

<p><em _msttexthash="42919942" _msthash="855">このセクションは規範的です。</em></p>

<p _msttexthash="6445367812" _msthash="856">加入者制御ウォレットは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#scidp-provisioning" _istranslated="1">セクション5.1</a>で説明されているように、CSPが属性バンドルの発行を通じて加入者アカウントの属性を利用できるようにするIdPです。加入者は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#wallet-activation" _istranslated="1">セクション5.4</a>で説明されているように、アクティベーションファクターまたはオーセンティケーターを使用してウォレットをアクティブ化します。通常、加入者制御ウォレットは、加入者によって制御され、単一の加入者のみを表すデバイス上で実行されます。ただし、ウォレットは、<em _istranslated="1">クラウドウォレット</em>と呼ばれるデプロイパターンでリモートシステムでホストすることもできます。</p>
<h2 id="scidp-provisioning" data-section="5"><font _mstmutation="1" _msttexthash="104053807" _msthash="857">サブスクライバ制御ウォレットへの属性バンドルの発行</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#scidp-provisioning" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="392047825" _msthash="858">CSPがサブスクライバー制御ウォレットに属性バンドルを発行する場合、プロセスには次の手順が含まれる<strong class="normative" _istranslated="1">ものとします(SHOULD)。</strong></p>

<ol>
  <li _msttexthash="636331826" _msthash="859">サブスクライバーは、CSP の ID 証明プロセスを使用するか、サブスクライバー アカウントに対して認証することで、CSP の発行機能に対して ID を証明します。</li>
  <li _msttexthash="582897705" _msthash="860">サブスクライバーは、ホストされたウォレットサービスへの認証を伴う可能性のあるアクティベーションファクターを使用してウォレットをアクティブ化します。</li>
  <li _msttexthash="427448931" _msthash="861">ウォレットは、署名キーと対応する検証キーを生成または選択します。ウォレットは、CSP への署名キーの所有を証明します。</li>
  <li _msttexthash="413762765" _msthash="862">CSP は、サブスクライバー属性とウォレットの検証キー (またはそのキーへの参照) を含む 1 つ以上の属性バンドルを作成します。</li>
  <li _msttexthash="144092286" _msthash="863">ウォレットは、後でRPに提示するために属性バンドルを格納します。</li>
</ol>

<p _msttexthash="418439931" _msthash="864">加入者が管理するウォレットは、CSP への発行要求ごとに異なる署名キーと検証キーを生成して使用<strong class="normative" _istranslated="1">しても構いません。</strong></p>

<p _msttexthash="589957407" _msthash="865">CSPは、リクエストするウォレットごとに一意の属性バンドルを作成し<strong class="normative" _istranslated="1">、</strong>個々のウォレットからのリクエストごとに一意の属性バンドルを作成する<strong class="normative" _istranslated="1">べきである(SHOULD)。</strong></p>

<p _msttexthash="2589842502" _msthash="866">多くの加入者制御ウォレットは、複数の CSP からの属性バンドルを同時に持ち運ぶことができます。複数の CSP からの属性バンドルを 1 つのアサーションで同時に表示することは、一部のテクノロジーで可能です。これが発生した場合、複数の属性バンドルのアサーションは、このガイドラインのアサーション要件に準拠<strong class="normative" _istranslated="1">するものとします(MUST)。</strong></p>

<div latex-literal="true" class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\clearpage
</code></pre></div></div>
<h3 id="invalidate-attribute-bundle" data-section="5"><font _mstmutation="1" _msttexthash="100925136" _msthash="867">サブスクライバ制御ウォレットの属性バンドルの無効化</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#invalidate-attribute-bundle" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="687126973" _msthash="868">CSPは、サブスクライバが管理するウォレットに発行された属性バンドルを無効にする手段を提供する<strong class="normative" _istranslated="1">ものとします(SHOULD</strong>)。このプロセスは、次の場合に使用されます。</p>

<ul>
  <li _msttexthash="250703609" _msthash="869">サブスクライバ アカウントが終了し、ダウンストリーム フェデレーション アクションが無効になります。</li>
  <li _msttexthash="224283306" _msthash="870">デバイスの紛失、盗難、または侵害により、ウォレットを終了する必要があります。又は</li>
  <li _msttexthash="100151233" _msthash="871">属性バンドルが攻撃者に開示されるか、侵害される。</li>
</ul>

<p _msttexthash="4161709032" _msthash="872">これを実現するために、CSP は有効期間限定の属性バンドルを発行<strong class="normative" _istranslated="1">すべきです (SHOULD</strong>)。CSP は、属性バンドルのステータス (つまり、特定のバンドルが CSP によって取り消されたかどうか) を個別に検証する手段を提供する<strong class="normative" _istranslated="1">べきです (SHOULD</strong>)。そのようなサービスが提供される場合、サービスは、特定のRPでの特定の属性バンドルの使用についてCSPに警告されないように、プライバシーを保護する方法で展開<strong class="normative" _istranslated="1">されるものとします(MUST)。</strong></p>
<h2 id="federation-transaction" data-section="5"><font _mstmutation="1" _msttexthash="37706292" _msthash="873">フェデレーション トランザクション</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#federation-transaction" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="1048087248" _msthash="874">加入者制御ウォレットとのフェデレーショントランザクションは、加入者のデバイスを加入者アカウントのIdPとして確立し、RPで加入者用の認証されたセッションを作成します。そのプロセスを<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-13" _istranslated="1">図13</a>に示します。</p>

<p latex-ignore="true"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fig-1" name="fig-13" _msttexthash="78456677" _msthash="875">図13.加入者制御ウォレットとのフェデレーション</a></p>

<p><img src="./sp800-63c_files/subscriberidp.png" alt="加入者制御ウォレットを使用したフェデレーション認証プロセスの概要図。" title="Federation with a subscriber-controlled wallet" latex-src="subscriberidp.pdf" latex-fig="13" latex-place="p" _mstalt="5191446" _msthash="876"></p>

<p _msttexthash="240064591" _msthash="877">加入者制御ウォレットとのフェデレーショントランザクションは、いくつかのステップで行われます。</p>

<ol>
  <li _msttexthash="175101186" _msthash="878">CSP はサブスクライバーを ID 証明し、サブスクライバー アカウントを作成します。</li>
  <li _msttexthash="2076459918" _msthash="879">CSPは、サブスクライバーがサブスクライバーアカウントのオーセンティケーターを検証するか、短縮されたプルーフプロセスを完了する(たとえば、プルーフでキャプチャされた生体認証を使用してIDを検証する)を含むプロセスで、サブスクライバーアカウントからウォレットに属性バンドルを発行します。</li>
  <li _msttexthash="294296704" _msthash="880">ウォレットは、ウォレットが IdP として機能できるようにする署名付き属性バンドルを CSP から受け取ります。</li>
  <li _msttexthash="380877900" _msthash="881">RP は、通常はサブスクライバー アクションを通じて、ウォレットにフェデレーション認証トランザクションを要求します。</li>
  <li _msttexthash="631873879" _msthash="882">サブスクライバーは、アクティベーションファクターを通じてウォレットをアクティブ化します。ホスト型ウォレットの場合、これはウォレットサービスへの認証です。</li>
  <li _msttexthash="482321723" _msthash="883">ウォレットは、ウォレットで利用可能な RP リクエスト、サブスクライバーアクション、および属性バンドルに基づいてアサーションを作成します。</li>
  <li _msttexthash="65366275" _msthash="884">ウォレットはアサーションを RP に提示します。</li>
  <li _msttexthash="538309109" _msthash="885">RP はアサーションを検証し、加入者に対して認証されたセッションを作成します。このプロセスには、CSP からの属性バンドルの検証が含まれます。</li>
</ol>
<h2 id="wallet-trust-agreements" data-section="5"><font _mstmutation="1" _msttexthash="12373088" _msthash="886">信託契約</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#wallet-trust-agreements" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="3079176243" _msthash="887">加入者制御ウォレットのアーキテクチャと設計により、フェデレーテッド トランザクションをサポートする信頼契約は、汎用 IdP よりも直接的ではありません。プライバシーの結果を維持し、ユーザー トランザクションの追跡を防ぐために、CSP と RP は通常、相互に直接通信しません。次の要件は、すべてのサブスクライバー制御ウォレットシナリオに適用されます。</p>

<ol>
  <li _msttexthash="643269900" _msthash="888">サブスクライバ属性のリリースは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-runtime-decision" _istranslated="1">第4.6.1.3条</a>に記載されているように、ウォレットによって管理されるランタイム決定を使用して管理<strong class="normative" _istranslated="1">されるものとします(SHOULD)。</strong></li>
  <li _msttexthash="86544393" _msthash="889">権限のある当事者は、加入者となる<strong class="normative" _istranslated="1">ものとします</strong>。</li>
  <li><font _mstmutation="1" _msttexthash="158545491" _msthash="890">以下の条件は、実行時の決定中に加入者に開示される<strong class="normative" _mstmutation="1" _istranslated="1">ものとします。</strong></font><ul>
      <li _msttexthash="323650379" _msthash="891">RP が要求するサブスクライバ属性、派生属性、および属性バンドルのセット (使用可能な属性のサブセット)</li>
      <li _msttexthash="63959545" _msthash="892">RP によって要求される各属性の目的</li>
    </ul>
  </li>
</ol>

<p _msttexthash="149876038" _msthash="893">RP が必要とする xAL は、実行時にサブスクライバに開示しても<strong class="normative" _istranslated="1">よい (MAY)。</strong></p>

<p _msttexthash="479510785" _msthash="894">加入者に開示されるすべての情報は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#usability" _istranslated="1">第 8 条</a>で説明されているように、理解しやすく、実行可能な方法で伝える必要があります。</p>
<h3 id="csps-and-rps" data-section="5"><font _mstmutation="1" _msttexthash="1659255" _msthash="895">CSP と RP</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#csps-and-rps" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="7951018257" _msthash="896">加入者制御のウォレット シナリオにおける CSP と RP の間の信頼は、通常、双方向ではありません。一般的なケースでは、RP はフェデレーション トランザクション中に加入者制御ウォレットによって提示される属性バンドルのソースとして CSP を信頼しますが、CSP は RP を直接認識することは期待されていません。RPとCSPの間のこの信頼関係は、RP、CSP、および加入者管理ウォレットを表すエコシステムのメンバー間の包括的な信頼契約を定義するフェデレーション機関(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#authorities" _istranslated="1">セクション3.5.2</a>を参照)によって促進<strong class="normative" _istranslated="1">される可能性があります。</strong>そのような信託契約には、以下を含む<strong class="normative" _istranslated="1">ものとします。</strong></p>

<ul>
  <li _msttexthash="286182117" _msthash="897">CSPが属性バンドル内のウォレットで使用できるようにするサブスクライバー属性と派生属性のセット</li>
  <li _msttexthash="150123623" _msthash="898">ウォレットがRPで使用できるサブスクライバ属性と派生属性のセット</li>
  <li _msttexthash="120456648" _msthash="899">CSP が表すことができるサブスクライバー アカウントの母集団</li>
  <li _msttexthash="248829659" _msthash="900">CSP からの属性バンドルに関連付けられているサブスクライバ アカウントの IAL または発行プロセス</li>
  <li _msttexthash="75542051" _msthash="901">CSP 属性バンドルに関連する発行プロセス</li>
  <li _msttexthash="62475933" _msthash="902">加入者管理ウォレットでサポートされている FAL</li>
  <li _msttexthash="65571649" _msthash="903">RP が要求できる各属性の許容目的</li>
  <li _msttexthash="199586205" _msthash="904">属性バンドルを通じて提供される加入者データの保護と管理に対するRPの期待</li>
</ul>

<p _msttexthash="1528242664" _msthash="905">信頼は、CSPおよび属性バンドルを発行するためのプロセスに関する公開情報のRP評価によって一方的に確立<strong class="normative" _istranslated="1">されることもあります(MAY)。</strong>これを容易にするために、CSP は、RP が評価できるように、次の情報を信頼できる場所に公開<strong class="normative" _istranslated="1">するものとします (SHALL SHOULD</strong>)。</p>

<ul>
  <li _msttexthash="286182117" _msthash="906">CSPが属性バンドル内のウォレットで使用できるようにするサブスクライバー属性と派生属性のセット</li>
  <li _msttexthash="150123623" _msthash="907">ウォレットがRPで使用できるサブスクライバ属性と派生属性のセット</li>
  <li _msttexthash="120456648" _msthash="908">CSP が表すことができるサブスクライバー アカウントの母集団</li>
  <li _msttexthash="231783045" _msthash="909">CSP からの属性バンドルに関連付けられたサブスクライバ アカウントの IAL または発行プロセス</li>
</ul>

<p _msttexthash="1023897979" _msthash="910">この情報は、CSP 属性バンドルの発行を評価および評価し、検出サービスを通じて CSP 機能を利用できるようにするフェデレーション機関など、信頼できる第三者によって提供<strong class="normative" _istranslated="1">される場合があります</strong>。</p>

<p _msttexthash="8626381166" _msthash="911">RP と CSP 間の信頼は、事前に確立された方法(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#pre-established-trust-agreements" _istranslated="1">第 4.3.1 条</a>を参照)または加入者主導の方法(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#subscriber-driven-trust-agreements" _istranslated="1">第 4.3.2 条</a>を参照)のいずれかで達成<strong class="normative" _istranslated="1">できます</strong>。たとえば、RP は、その目的のために特定の CSP セットからのみ属性バンドルを受け入れるように静的に設定したり、実行時に加入者に同意を求めることで任意の CSP から属性バンドルを受け入れたりすることができます。この信頼関係は、フェデレーション機関を通じて提供される検出サービスなど、属性バンドルの検証を超えて、CSPが承認した加入者制御のウォレット識別子を検証する手段をRPに提供されることによっても、より明確にすることができます。</p>
<h3 id="csps-and-subscriber-controlled-wallets" data-section="5"><font _mstmutation="1" _msttexthash="36657387" _msthash="912">CSPと加入者制御ウォレット</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#csps-and-subscriber-controlled-wallets" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="1834770678" _msthash="913">CSPと加入者が管理するウォレットの間の信頼関係は、本質的に常に直接的です。そのため、CSPと、CSPが属性バンドルを発行する加入者管理ウォレットとの間には、信頼契約が成立<strong class="normative" _istranslated="1">するものとします(MUST</strong>)。少なくとも、この信託契約には以下が含まれる<strong class="normative" _istranslated="1">ものとします。</strong></p>

<ul>
  <li _msttexthash="286182117" _msthash="914">CSPが属性バンドル内のウォレットで使用できるようにするサブスクライバー属性と派生属性のセット</li>
  <li _msttexthash="150123623" _msthash="915">ウォレットがRPで使用できるサブスクライバ属性と派生属性のセット</li>
  <li _msttexthash="576144361" _msthash="916">サブスクライバーが管理するウォレットが属性バンドルの発行をサポートするために実装する必要があるプロセス(PAD、データ収集、リスクスコアリングなど)</li>
  <li _msttexthash="110675227" _msthash="917">ウォレットサービスのデータストレージとセキュリティプラクティス</li>
  <li _msttexthash="344472700" _msthash="918">アサーションの生成前に、加入者がウォレットサービスにアクセスするために使用するアクティベーションファクターまたはAAL</li>
  <li _msttexthash="62475933" _msthash="919">加入者管理ウォレットでサポートされている FAL</li>
  <li _msttexthash="258892881" _msthash="920">RPへの属性の解放に関連してウォレットが適用する必要がある許容目的または制限</li>
</ul>
<h3 id="rps-and-subscriber-controlled-wallets" data-section="5"><font _mstmutation="1" _msttexthash="34112949" _msthash="921">RP と加入者制御ウォレット</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rps-and-subscriber-controlled-wallets" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="2171622804" _msthash="922">加入者制御ウォレットのシナリオにおける信頼の主な拡張は、RPによる属性バンドルの評価とCSPによるそれらの発行プロセスによるものです。ただし、ウォレットは、CSP によって署名された属性バンドルを含むアサーションで提示される情報を RP がどの程度信頼するかにおいて重要な役割を果たします。</p>

<p _msttexthash="7505651959" _msthash="923">加入者が制御するウォレットの特徴と機能に関する情報は、RP が特定のトランザクションをどの程度信頼しているかを知るのに役立ちます。この情報は、属性バンドルを提示するサブスクライバーが、その属性バンドルによって表される個人であるという信頼性を示すことができます。たとえば、ウォレットが加入者をローカルで認証し、検証キーを保護し、CSP または RP によって示される信頼契約要件を適用する方法に関する情報はすべて、RP フェデレーションとアクセスの決定の改善をサポートします。そのため、加入者管理ウォレットはRPに以下を開示<strong class="normative" _istranslated="1">するものとします(SHALL shall the RPs</strong>).</p>

<ul>
  <li _msttexthash="322582845" _msthash="924">アサーションの提示前にサブスクライバーを認証するために使用するアクティベーションまたは認証方法、</li>
  <li _msttexthash="135798052" _msthash="925">ウォレットが属性バンドルを保護する方法のセキュリティ機能、</li>
  <li _msttexthash="26396084" _msthash="926">キー管理情報、および</li>
  <li _msttexthash="133371134" _msthash="927">加入者が管理するウォレットのソフトウェアの完全性を示すもの。</li>
</ul>

<p _msttexthash="663216697" _msthash="928">この情報は、実行時またはウォレットメタデータの検出メカニズムを通じて提供<strong class="normative" _istranslated="1">されても構いません。</strong>このトピックの詳細については、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertion-contents" _istranslated="1">セクション5.8</a>を参照してください。</p>
<h3 id="fal3-for-subscriber-controlled-wallets" data-section="5"><font _mstmutation="1" _msttexthash="37246079" _msthash="929">加入者管理ウォレット用のFAL3</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fal3-for-subscriber-controlled-wallets" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="4372776018" _msthash="930">加入者制御ウォレットからのアサーションには、CSPからの署名付き属性バンドル内のウォレットの検証キーの1つへの参照が常に含まれているため、加入者制御デバイスで実行される加入者制御ウォレットは、キー所有者アサーションの要件がすべて満たされている場合、キー所有者アサーションを発行できます(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-managed-bound-authn" _istranslated="1">セクション3.15</a>を参照)。これらのアサーションは、FAL3のすべての要件が満たされている場合、FAL3に到達するために使用<strong class="normative" _istranslated="1">してもよい(MAY</strong> <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fal3" _istranslated="1">2.4</a>)。</p>

<p _msttexthash="13660311288" _msthash="931">ホストされたサービス上の加入者制御ウォレットの検証キーは、加入者が加入者が制御するデバイス上のようにキーマテリアルを制御できないため、それ自体ではキー所有者アサーションの要件を満たしていません。FAL3に到達するために、ホストされたサービス上の加入者制御ウォレットとのフェデレーショントランザクションは、キー所有者アサーション(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-managed-bound-authn" _istranslated="1">第3.15条</a>参照)またはバインドされたオーセンティケーター(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#bound-authn" _istranslated="1">第3.16条</a>参照)のいずれかを使用する<strong class="normative" _istranslated="1">ものとする(MUST)。</strong><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fal3" _istranslated="1">セクション 2.4</a> の FAL3 のすべての要件が満たされる<strong class="normative" _istranslated="1">ものとします</strong>。たとえば、ホストされたサービス上の加入者制御ウォレットからのキー所有者アサーションには、ウォレット検証キーとは別のオーセンティケーターの検証キーを含めることができます。加入者は、この追加の認証器をウォレットのアサーションとともにRPに提示します。</p>
<h2 id="wallet-activation" data-section="5"><font _mstmutation="1" _msttexthash="34087911" _msthash="932">ウォレットのアクティベーション</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#wallet-activation" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="1143188228" _msthash="933">サブスクライバー制御ウォレットは、ウォレットの署名キーから署名されたアーティファクトを作成する結果となる以下のアクションについて、サブスクライバーからのアクティベーション係数の提示を要求<strong class="normative" _istranslated="1">するものとします(SHOULD)。</strong></p>

<ul>
  <li _msttexthash="196034098" _msthash="934">発行プロセス中にウォレットの署名キーを所有していることの証明をCSPに提供する</li>
  <li _msttexthash="60400327" _msthash="935">RP に提示するためのアサーションの署名</li>
</ul>

<p _msttexthash="2534863565" _msthash="936">サブスクライバー制御ウォレットは、ウォレットの署名キーから署名されたアーティファクトを作成する他の操作の前に、アクティベーション係数の提示を要求<strong class="normative" _istranslated="1">すべきです(SHOULD</strong>)。たとえば、ウォレットをAAL2以上の認証システムとして使用するには、[<a href="https://pages.nist.gov/800-63-4/sp800-63b.html#s-5-2-10" latex-href="#ref-SP800-63B" _istranslated="1">SP800-63B]のセクション3.2.10</a>に従ってアクティベーションファクターを提示する必要があります。</p>

<p _msttexthash="519915201" _msthash="937">ウォレットは、サブスクライバーの関与を必要とせずに、同じCSPから以前に発行された属性バンドルの再発行を要求<strong class="normative" _istranslated="1">しても構いません(MAY)。</strong></p>

<p _msttexthash="10826781446" _msthash="938">加入者が管理するデバイス上で動作する加入者制御ウォレットの場合、アクティベーション係数の提出は、ホストデバイス(スマートフォンなど)のロック解除とは別の操作である<strong class="normative" _istranslated="1">ものとする(SHALL NOT</strong>), ホストデバイスのロック解除に使用されるのと同じアクティベーション係数がアクティベーション操作で使用<strong class="normative" _istranslated="1">されてもよい(MAY)。</strong>組織は、CSPによって、またはCSPに代わって(例えば、モバイルデバイス管理を介して)管理され、上記の要件を満たす短い非アクティブタイムアウトとデバイスアクティベーション係数を持つように制約されている加入者制御ウォレットに対して、この要件を緩和<strong class="normative" _istranslated="1">することができます(MAY)。</strong>認証子の活性化因子に関する追加の説明は<a href="https://pages.nist.gov/800-63-4/sp800-63b.html#s-5-2-10" latex-href="#ref-SP800-63B" _istranslated="1">、[SP800-63B] のセクション 3.2.10</a> にあります。</p>

<p _msttexthash="2023406502" _msthash="939">リモートサービスでホストされているサブスクライバー制御ウォレットの場合、ウォレットのアクティブ化は、ウォレットサービスに登録されているオーセンティケーターを使用して実行されます。この認証子は、CSP のサブスクライバー アカウントにバインドされている認証子とは別であっても<strong class="normative" _istranslated="1">構いません。</strong></p>
<h3 id="wallet-key-storage" data-section="5"><font _mstmutation="1" _msttexthash="11375832" _msthash="940">キーストレージ</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#wallet-key-storage" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="1000939394" _msthash="941">アサーションの署名に使用される鍵は、デバイス間で同期または共有<strong class="normative" _istranslated="1">されてはならず</strong>、ウォレット実装は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#key-storage" _istranslated="1">セクション 3.6.2</a> で説明されているように、エクスポート不可能な鍵ストレージを使用する<strong class="normative" _istranslated="1">べきです (SHOULD )。</strong></p>

<p _msttexthash="834653872" _msthash="942">ウォレットの署名キーがFAL3のキー所有者認証器として使用される場合、第<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#key-storage" _istranslated="1">3.6.2節</a>で説明されているように、キーはエクスポート不可能なキーストレージに格納<strong class="normative" _istranslated="1">されるものとします</strong>。</p>
<h2 id="discovery-and-registration" data-section="5"><font _mstmutation="1" _msttexthash="15412592" _msthash="943">検出と登録</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#discovery-and-registration" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="9345588369" _msthash="944">加入者が管理するウォレットとのフェデレーショントランザクションを実行するために、RPは、まず、信託契約に定められた安全なプロセスを通じてCSPの属性バンドル検証キーを決定する<strong class="normative" _istranslated="1">ものとします(SHALL SHOULD</strong>)。一部のシステムでは、これは、CSP によって制御されていることがわかっている URL から CSP の属性バンドル検証キーを取得することによって実現されます。他のシステムでは、RP は展開前に CSP の検証キーを使用して手動で設定されます。多国間信頼契約によって管理されるシステムでは、このプロセスは、フェデレーション機関によって提供されるサービスなど、サード パーティの検出および登録サービスによって促進できます。</p>

<p _msttexthash="3300582662" _msthash="945">署名付き属性バンドルには、バンドルを発行した CSP と、サブスクライバー制御ウォレットに関連付けられている 1 つ以上の検証キーが含まれます。RP は、サブスクライバが制御するウォレットに属性バンドルを発行する CSP のプロセスを信頼するため、RP は、サブスクライバが制御するウォレットの署名キーの 1 つの証明を使用して作成されたバンドルのプレゼンテーションを信頼できます。</p>

<p _msttexthash="3511208415" _msthash="946">多くの場合、RP が加入者制御ウォレットに登録するプロセスは、フェデレーション トランザクション中に RP がキーとメタデータを IdP と交換する動的なプロセスになることが予想されます。加入者制御ウォレットの性質上、特定のRPがウォレットのインスタンスに事前登録することは困難ですが、これは信託契約に規定されている信頼できる第三者を使用することで容易になります。</p>

<p _msttexthash="16730757277" _msthash="947">フェ<strong class="normative" _istranslated="1">デレーションを</strong>試みる当事者は、信頼できる第三者が信託契約で特定されている場合、その信頼できる第三者を使用して、その証拠開示および登録プロセスを円滑に進めることができます。たとえば、エコシステムに、検出と登録を管理するための一元化されたサービスがあるとします。RP がエコシステムに参加すると、信頼できるサービスに登録し、CSP の検証キーをダウンロードし、ウォレットで使用する識別子を受け取ります。CSPがサブスクライバー制御ウォレットに属性バンドルを発行すると、サブスクライバー制御ウォレットは、エコシステム内の有効なRP識別子のリストを見つけることができる場所を通知されます。RP がウォレットに接続すると、RP がウォレットに直接登録しなくても、ウォレットは RP の識別子を検証できます。同様に、RP は、ウォレットの検証キーまたは識別子を介して CSP の署名を検証することで、ウォレットの検証キーを信頼できます。</p>
<h2 id="authentication-and-attribute-disclosure" data-section="5"><font _mstmutation="1" _msttexthash="29003923" _msthash="948">認証と属性の開示</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#authentication-and-attribute-disclosure" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="10875667608" _msthash="949">フェデレーション・トランザクションが続行し、したがってアサーションが発行され、属性がRPに解放されるかどうかの決定は、権限のある当事者の役割で行動する加入者によって決定<strong class="normative" _istranslated="1">されるものとする(MUST)。</strong>この決定は、許可リストとブロックリストを使用して、ウォレットがサブスクライバーが設定されたポリシーと信頼契約に基づいて意思決定を行えるようにすることで強化<strong class="normative" _istranslated="1">される可能性があります</strong>。加入者管理ウォレットは、加入者からの個別の承認なしに、同じRPでの将来のアクションを許可するという加入者の決定を記憶<strong class="normative" _istranslated="1">してもよい(MAY)。</strong>保存された承認決定の使用は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#wallet-activation" _istranslated="1">セクション 5.4</a> で説明されているように、ウォレットのアクティブ化の要件に取って代わるものではありません。</p>

<p _msttexthash="4198378938" _msthash="950">加入者管理ウォレットは、同じRPからの将来の要求に適用するために、権限のある当事者(すなわち加入者)による開示決定を記憶するメカニズムを提供し<strong class="normative" _istranslated="1">てもよい(MAY)。</strong>そのようなメカニズムが提供されている場合、加入者管理ウォレットは、ストレージメカニズムが使用されていることを権限のある当事者に開示<strong class="normative" _istranslated="1">し</strong>、権限のある当事者が将来そのような記憶されたアクセスを取り消すことを許可<strong class="normative" _istranslated="1">するものとします</strong>。</p>

<p _msttexthash="447781399" _msthash="951">サブスクライバー制御ウォレットは、属性バンドル内の属性のサブセットをCSPから選択的に開示する手段を提供する<strong class="normative" _istranslated="1">べきです(SHOULD)。</strong></p>

<p _msttexthash="2775507280" _msthash="952">CSPは、加入者の苦情や問題(例えば、加入者が不正確な属性値を特定した、加入者が管理するウォレットに以前に発行された属性バンドルを無効にする必要性など)を是正するための安全かつ効果的な手段を提供する<strong class="normative" _istranslated="1">ものとします(SHOULD</strong>)。救済メカニズムに関する追加の要件と考慮事項については、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#redress" _istranslated="1">セクション 3.5.3</a> を参照してください。</p>
<h2 id="assertion-requests" data-section="5"><font _mstmutation="1" _msttexthash="20256106" _msthash="953">アサーション要求</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertion-requests" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="368730778" _msthash="954">フェデレーション・トランザクションがRPによって開始される場合、RPのアサーション要求には以下が含まれ<strong class="normative" _istranslated="1">るものとする(SHALL shall shall include):</strong></p>

<ol>
  <li _msttexthash="12757511" _msthash="955">RP の識別子</li>
  <li _msttexthash="12475424" _msthash="956">暗号化ナンス</li>
  <li _msttexthash="296550865" _msthash="957">RP によって要求された ID 属性、派生属性、および属性バンドルのセットと、RP でのそれらの使用目的</li>
</ol>

<p _msttexthash="871373178" _msthash="958">フェデレーション・トランザクションが IdP によって (FAL1 で) 開始される場合、これらの要件は適用されません。フェデレーション・トランザクションは、常に FAL2 以上で RP によって開始されます。</p>
<h2 id="assertion-contents" data-section="5"><font _mstmutation="1" _msttexthash="19735404" _msthash="959">アサーションの内容</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertion-contents" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="179234627" _msthash="960">加入者が管理するウォレットからのアサーションには、以下が含まれる<strong class="normative" _istranslated="1">ものとする(SHALL SHOULD)。</strong></p>

<ol>
  <li _msttexthash="49275863" _msthash="961">CSP からの署名付き属性バンドル。</li>
  <li _msttexthash="170467609" _msthash="962">オーディエンス識別子: アサーションを使用するパーティの識別子(つまり、RP)。</li>
  <li _msttexthash="174776550" _msthash="963">発行時間: ウォレットがアサーションを発行した日時を示すタイムスタンプ。</li>
  <li _msttexthash="1593014540" _msthash="964">有効期間:サブスクライバを認証し、RP で認証されたセッションを開始する目的で、アサーションが RP によって有効であると受け入れ<strong class="normative" _istranslated="1">られない</strong>期間。これは通常、発行タイムスタンプに加えて、アサーションの有効期限タイムスタンプによって伝達されます。</li>
  <li _msttexthash="1125816575" _msthash="965">アサーション識別子: このアサーションを一意に識別し、攻撃者が以前のアサーションを再生できないようにするために使用されます。たとえば、これはウォレットによって生成され、アサーションに含まれる一意のナンスです。</li>
  <li _msttexthash="177546083" _msthash="966">署名: 非対称暗号化を使用し、アサーション全体をカバーするデジタル署名。</li>
</ol>

<p _msttexthash="71724393" _msthash="967">アサーションには以下が含まれ<strong class="normative" _istranslated="1">ても構いません。</strong></p>

<ol>
  <li _msttexthash="243054019" _msthash="968">サブジェクト識別子: アサーションが適用される当事者 (つまり、サブスクライバー) の識別子</li>
  <li _msttexthash="239702970" _msthash="969">発行者識別子: アサーションの発行者 (つまり、サブスクライバー制御ウォレット) の識別子</li>
</ol>

<p _msttexthash="466487658" _msthash="970">フェデレーション取引の次の側面は、アサーション内容または該当する信託契約に含まれる情報を通じて提供<strong class="normative" _istranslated="1">されるものとします。</strong></p>

<ol>
  <li _msttexthash="395145595" _msthash="971">アサーションで表されるサブスクライバアカウントの IAL 、発行プロセスの表示、または IAL がアサートされていないことの表示</li>
  <li _msttexthash="183743742" _msthash="972">ウォレットのアクティベーションに使用されるアクティベーション方法の性質。</li>
  <li _msttexthash="151095477" _msthash="973">アサーションで表されるフェデレーションプロセスのウォレットの意図されたFAL</li>
</ol>

<p _msttexthash="5930292966" _msthash="974">加入者管理ウォレットがリモートサービスとしてホストされている場合、ホスト型ウォレットサービスにおける加入者の現在のセッションのAALは、アサーション内容または該当する信託契約に含まれる情報を通じて提供<strong class="normative" _istranslated="1">されるものとします(MUST)。</strong>この場合、アサーションは、IdPで使用される認証方法に関する追加情報(例えば、使用される認証者がフィッシング耐性であるかどうか)を含む<strong class="normative" _istranslated="1">べきである(SHOULD</strong>)。この情報を伝送できるテクノロジには、信頼のベクトル <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-RFC8485" _istranslated="1">[RFC8485]</a> や <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC" _istranslated="1">[OIDC]</a> と <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SAML" _istranslated="1">[SAML]</a> の認証クラス参照などがあります。</p>

<p _msttexthash="86751184" _msthash="975">FAL2 以上では、アサーションには以下が含まれます<strong class="normative" _istranslated="1">。</strong></p>

<ol>
  <li _msttexthash="103857455" _msthash="976">Nonce: RP のフェデレーション要求からの暗号化ナンス</li>
</ol>

<p _msttexthash="131434472" _msthash="977">FAL3 では、アサーションには以下のいずれかが含まれる<strong class="normative" _istranslated="1">ものとします。</strong></p>

<ul>
  <li _msttexthash="863235529" _msthash="978">公開キー、キー識別子、またはキー所有者アサーションのその他の識別子。これは、サブスクライバーが制御するウォレットがアサーションに署名するために使用するのと同じキーであっても<strong class="normative" _istranslated="1">よい(MAY)。</strong></li>
  <li _msttexthash="372373066" _msthash="979">このアサーションを処理するために、バインドされたオーセンティケーターの検証が必要であることを示すインジケーター。</li>
</ul>

<p _msttexthash="195268398" _msthash="980">アサーションには、加入者認証シークレット(パスワードなど)が含まれ<strong class="normative" _istranslated="1">てはなりません(MUST NOT</strong>)。</p>

<p _msttexthash="122204667" _msthash="981">CSP からの署名付き属性バンドルには、次のもの<strong class="normative" _istranslated="1">が含まれます (SHALL )。</strong></p>

<ol>
  <li _msttexthash="396478264" _msthash="982">キー: サブスクライバーが管理するウォレットがアサーションに署名するために使用するキーの検証キーまたはキー識別子</li>
  <li _msttexthash="121773171" _msthash="983">発行者識別子: 属性バンドルの発行者 (CSP など) の識別子</li>
  <li _msttexthash="151895809" _msthash="984">発行時間: CSP が属性バンドルを発行した日時を示すタイムスタンプ</li>
  <li _msttexthash="314359773" _msthash="985">IAL:属性バンドルで表される加入者アカウントの IAL のインジケータ、または IAL がアサートされていないことを示す</li>
  <li _msttexthash="177518887" _msthash="986">署名: 非対称暗号化を使用し、属性バンドル全体をカバーするデジタル署名</li>
  <li _msttexthash="100506978" _msthash="987">属性値と派生属性値: サブスクライバーに関する情報</li>
</ol>

<p _msttexthash="5111912962" _msthash="988">RP 加入者アカウントが一時的なプロビジョニング プロセス(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#provisioning-api" _istranslated="1">第 4.6.5 節</a>を参照)またはアカウント解決プロセス(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#account-resolution" _istranslated="1">第 3.8.2 節</a>を参照)を使用しない場合、加入者は、フェデレーション識別子(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#federated-identifier" _istranslated="1">第 3.4 節</a>を参照)を使用してアサーションで識別<strong class="normative" _istranslated="1">されるものとします</strong>。発行者識別子は、署名された属性バンドルを発行した CSP のもの<strong class="normative" _istranslated="1">とする (SHALL )、</strong>サブジェクト識別子は署名された属性バンドルに含まれ、属性バンドルを発行した CSP の名前空間で処理<strong class="normative" _istranslated="1">されるものとする (SHALL )。</strong></p>

<p _msttexthash="2647141198" _msthash="989">CSP からの署名付き属性バンドルには、加入者を認証し、RP で認証されたセッションを開始する目的で、属性バンドルが RP によって有効であると受け入れ<strong class="normative" _istranslated="1">られない</strong>期間として定義される有効期間を含める<strong class="normative" _istranslated="1">べきです (SHOULD</strong>)。これは通常、発行タイムスタンプに加えて、属性バンドルの有効期限タイムスタンプによって伝達されます。</p>

<p _msttexthash="673234913" _msthash="990">CSP からの署名付き属性バンドルには、IAL の決定に使用されるコントロールのセットなど、サブスクライバー アカウントに関する追加情報が含まれ<strong class="normative" _istranslated="1">ても構いません (MAY)。</strong></p>

<p _msttexthash="5751589701" _msthash="991">追加の ID 属性と派生属性値は、属性バンドルに含め<strong class="normative" _istranslated="1">ても構いません (MAY)。</strong>これらの属性は、選択的開示方法が基礎となる属性バンドルによって利用可能になる場合、選択的開示方法を使用してRPに利用可能になる<strong class="normative" _istranslated="1">ものとする(SHOULD</strong>)。選択的開示では、セット全体ではなく、属性のサブセットが明らかにされます。これは、RP によって定義されているトランザクションを完了するために必要な最小セットによって、または実行時にサブスクライバによる選択によって駆動される場合があります。</p>

<p _msttexthash="1155471785" _msthash="992">アサーション内にあるが、署名付き属性バンドルの外部にある ID 属性は、自己アサートされたものとみな<strong class="normative" _istranslated="1">されるものとします (SHALL SHOULD</strong>)。RP は、独自の検証プロセスを使用して、これらの追加属性を検証<strong class="normative" _istranslated="1">してもよい (MAY)。</strong></p>
<h2 id="assertion-presentation" data-section="5"><font _mstmutation="1" _msttexthash="34144838" _msthash="993">アサーションプレゼンテーション</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertion-presentation" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="205352589" _msthash="994">アサーションは、認証された保護されたチャネルを介して RP に提示<strong class="normative" _istranslated="1">されるものとします (SHOULD</strong>)。</p>

<p _msttexthash="871397540" _msthash="995">プレゼンテーションには、RP の要求からの暗号化ナンスが存在する場合、含める<strong class="normative" _istranslated="1">ものとします (これは</strong> FAL2 以上で必要です)。RP は、フェデレーションプロトコルに従って nonce を検証<strong class="normative" _istranslated="1">するものとします (SHALL )。</strong></p>

<p _msttexthash="1436799507" _msthash="996">プレゼンテーションメカニズムがウォレットまたはRP以外のコンポーネントを介してアサーションを渡す場合、アサーション内の個人情報は、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#encrypted-assertion" _istranslated="1">セクション3.13.3</a>で説明されているように、RPの暗号化キーを使用してウォレットによって暗号化<strong class="normative" _istranslated="1">されるべきです(SHOULD)。</strong></p>

<p _msttexthash="646951383" _msthash="997">プライバシーを強化するために、プレゼンテーションメカニズムは、異なる RP における加入者とその情報のリンク解除を可能にする機能を提供する<strong class="normative" _istranslated="1">べきです (SHOULD</strong>)。</p>

<p _msttexthash="5279943461" _msthash="998">RP は、XSS および CSRF 保護を使用し、フェデレーション トランザクションの正しい段階外のアサーションを拒否すること、または<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#injection-protection" _istranslated="1">第 3.11.1 節</a>で説明されているその他の受け入れられた手法を使用することにより、製造またはキャプチャされたアサーションの注入から自分自身を保護する<strong class="normative" _istranslated="1">ものとします</strong>。可能であれば、加入者制御デバイス上で実行される加入者制御ウォレットは、RP にアサーションを配信する際に HTTP リダイレクトの代わりにプラットフォーム API を使用する<strong class="normative" _istranslated="1">べきです (SHOULD)。</strong></p>
<h2 id="assertion-validation" data-section="5"><font _mstmutation="1" _msttexthash="23156367" _msthash="999">アサーションの検証</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertion-validation" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="2182546626" _msthash="1000">RP は、署名された属性バンドルを発行した CSP からの検証キーを使用して、アサーション内のすべての署名付き属性バンドルの署名を検証<strong class="normative" _istranslated="1">するものとします (SHALL )。</strong>RPは、署名された属性バンドルに含まれる加入者制御ウォレットの検証キーを使用して、アサーションの署名を検証<strong class="normative" _istranslated="1">するものとします(SHALL SHOULD</strong>)。</p>

<p _msttexthash="281873020" _msthash="1001">RPは、以下のすべてが真実であることを確認することによって、アサーションを検証<strong class="normative" _istranslated="1">するものとします(SHALL SHOULD</strong>)。</p>

<ol>
  <li _msttexthash="304518097" _msthash="1002"><em _istranslated="1">バンドルの検証</em>: RPにアサーションを提示しているウォレットにバンドルが発行されたことを確認します。</li>
  <li _msttexthash="541831017" _msthash="1003"><em _istranslated="1">発行者の検証</em>: 特定のウォレットが RP によって要求された場合は、アサーションが要求されたウォレットによって発行されたことを確認します。</li>
  <li _msttexthash="229497801" _msthash="1004"><em _istranslated="1">時間検証</em>: 有効期間が現在のタイムスタンプの許容範囲内にあることを確認します。</li>
  <li _msttexthash="236899702" _msthash="1005"><em _istranslated="1">対象ユーザーの制限</em>: この RP がアサーションの意図された受信者であることを確認します。</li>
  <li _msttexthash="262341586" _msthash="1006"><em _istranslated="1">ナンス</em>: RP の要求に含まれる暗号化ナンスもプレゼンテーションに含まれていることを確認します。</li>
  <li _msttexthash="537560244" _msthash="1007"><em _istranslated="1">取引条件</em>: アサーションで表される IAL、AAL、FAL が、該当する信託契約の下で許容され、RP のニーズに適していることを確認してください。</li>
  <li _msttexthash="999778169" _msthash="1008"><em _istranslated="1">アサーション識別子</em>: ウォレットが提供するナンスなどのトランザクション固有のアサーション識別子を検証することにより、このRPでの有効期間内にアサーションが再生されていないことを確認します。</li>
</ol>

<p _msttexthash="5161815334" _msthash="1009">さらに、属性バンドルを無効化するメカニズムがCSPによって提供されている場合、RPは、第<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#invalidate-attribute-bundle" _istranslated="1">5.1.1節</a>で説明されているように、属性バンドルが発行以降にCSPによって無効化されているかどうかを判断するために、このメカニズムを使用する<strong class="normative" _istranslated="1">べきである(SHOULD)。</strong>この検証メカニズムは、属性バンドルの有効期限が切れるずっと前に CSP によるプロアクティブな無効化が発生する可能性があるため、有効期間が長い、または不確定な属性バンドルに特に適しています。</p>
<h2 id="rp-subscriber-accounts" data-section="5"><font _mstmutation="1" _msttexthash="28246127" _msthash="1010">RP サブスクライバ アカウント</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-subscriber-accounts" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="9413630239" _msthash="1011">加入者管理ウォレットのアーキテクチャと信頼契約が予想されるため、RP加入者アカウントはジャストインタイムまたはエフェメラルプロビジョニングモデルで管理される可能性があります(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#provisioning" _istranslated="1">セクション4.6.3</a>を参照)。これらのいずれの場合も、RP は RP サブスクライバ アカウントを作成し、ウォレットからのアサーションの検証が成功した後、それをフェデレーション識別子 (利用可能な場合) に関連付けます。RPに確立されたアカウントリンクプロセス(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#account-linking" _istranslated="1">セクション3.8.1</a>を参照)がある場合など、既知の一意の属性または属性のセットを使用してウォレットベースのIDを既存のアカウントにリンクできる場合など、事前プロビジョニングモデルを使用することもできます。</p>

<p _msttexthash="18791090123" _msthash="1012">ウォレットベースの属性バンドルを使用する多くのRPでは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#account-resolution" _istranslated="1">3.8.2項</a>で説明されているように、RPはアカウント解決プロセスを使用して、属性バンドルの情報をRPの一連の機能にリンクします。RP加入者アカウントが一時的ではなく、フェデレーテッド識別子が存在する場合、RPは、加入者管理ウォレットによって提示されたフェデレーテッド識別子をRP加入者アカウントに関連付け、同じ加入者との将来のフェデレーテッドトランザクションにフェデレーション識別子を使用する<strong class="normative" _istranslated="1">べきである(SHOULD)。</strong>フェデレーテッド識別子が存在しない場合(たとえば、mDLの場合)、RPは、フェデレーテッドトランザクションごとにサブスクライバをRPサブスクライバアカウントに解決するために必要な属性を要求する必要があります。この属性セットは、正確な解像度を達成するために必要な最小値である<strong class="normative" _istranslated="1">ものとします(SHALL )。</strong>複数のフェデレーション識別子へのリンクは、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#account-linking" _istranslated="1">第3.8.1節</a>で説明されているように管理<strong class="normative" _istranslated="1">されるものとします(SHALL SHOULD)。</strong></p>

<p _msttexthash="2227191226" _msthash="1013">RPは、信託契約の一環として加入者情報を管理するための慣行を開示<strong class="normative" _istranslated="1">するものとします</strong>。RPは、RP加入者アカウント内の情報を修正するために加入者に効果的な救済手段を提供する<strong class="normative" _istranslated="1">ものとする(SHOULD)。</strong>救済メカニズムに関する追加の要件と考慮事項については、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#redress" _istranslated="1">セクション 3.5.3</a> を参照してください。</p>

<h1 id="security" data-section="6"><font _mstmutation="1" _msttexthash="68750591" _msthash="1014">脅威とセキュリティに関する考慮事項</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#security" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h1>

<p><em _msttexthash="33744646" _msthash="1015">このセクションは有益です。</em></p>

<p _msttexthash="2304880734" _msthash="1016">フェデレーション認証プロセスには、CSP、IdP、RPなどの複数のコンポーネント間の調整が含まれるため、攻撃者がフェデレーションIDトランザクションを侵害する機会や、攻撃が成功するためのさらなる影響があります。このセクションでは、フェデレーションに適用できる多くの攻撃と軽減策をまとめます。</p>
<h2 id="federation-threats" data-section="6"><font _mstmutation="1" _msttexthash="28036762" _msthash="1017">フェデレーションの脅威</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#federation-threats" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="12956913164" _msthash="1018">非フェデレーション認証と同様に、攻撃者の動機は通常、RP によって提供されるリソースまたはサービスへのアクセス (またはより高いレベルのアクセス) を取得することです。攻撃者は、加入者になりすまそうしようとすることもあります。不正または侵害された IdP、RP、ユーザー エージェント (ブラウザなど)、および一般的なフェデレーション トランザクションの外部のパーティは、潜在的な攻撃者です。攻撃を達成するために、アサーションとアサーション参照を傍受または変更する場合があります。さらに、2 つ以上のエンティティが、アサーション データの整合性または機密性を直接侵害することで、フェデレーション プロトコルを破壊しようとする可能性があります。この種の脅威では、権限を超えようとする権限のある当事者は攻撃者とみなされます。</p>

<p _msttexthash="9255632165" _msthash="1019">フェデレーテッド システムでは、IdP に対する攻撃が成功すると、ID およびセキュリティ情報をその IdP に依存する RP に伝播する可能性があります。その結果、ある機関の RP を標的とする IdP に対する攻撃は、別の機関の RP に横方向に移動する可能性があります。これらの攻撃を軽減するために、RP は独立した監視および脅威評価機能を維持して、悪意のあるアカウントや侵害されたアカウントを特定する必要があります。さらに、適切なプライバシー制御を使用して情報または共有シグナリング機能を維持することで、IdP または CSP、およびその他の影響を受ける可能性のある RP での調査と修復を容易にすることができます。</p>

<p _msttexthash="1834164774" _msthash="1020">CSP 間および単一の CSP 内の加入者アカウント間の ID 証明の慣行の逸脱は避けられません。CSP と IdP は、必要に応じて RP の意思決定と調査をサポートするために、各アカウントに適用されるコントロールに関する情報を伝達する機能を維持する必要があります。</p>

<p></p>

<p latex-ignore="true"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#table-3" name="table-3" _msttexthash="37796512" _msthash="1021">表 3.フェデレーションの脅威</a></p>

<table latex-table="3" latex-caption="Federation threats" latex-columns="p@0.20\textwidth,p@0.35\textwidth,p@0.35\textwidth">
  <thead>
    <tr>
      <th _msttexthash="41138825" _msthash="1022">フェデレーションの脅威/攻撃</th>
      <th _msttexthash="4664062" _msthash="1023">形容</th>
      <th _msttexthash="1853033" _msthash="1024">例</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td _msttexthash="45638281" _msthash="1025">アサーションの製造または変更</td>
      <td _msttexthash="61843314" _msthash="1026">攻撃者は誤ったアサーションを生成する</td>
      <td _msttexthash="147066868" _msthash="1027">侵害された IdP は、適切に認証されていないクレームの ID をアサートします</td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td _msttexthash="60606403" _msthash="1028">攻撃者が既存のアサーションを変更する</td>
      <td _msttexthash="90887589" _msthash="1029">認証アサーションの AAL を変更する侵害されたプロキシ</td>
    </tr>
    <tr>
      <td _msttexthash="24377587" _msthash="1030">アサーションの開示</td>
      <td _msttexthash="60246667" _msthash="1031">アサーションは第三者に表示されます</td>
      <td _msttexthash="180761711" _msthash="1032">ネットワーク監視により、加入者のレコードアドレスが外部に明らかになります</td>
    </tr>
    <tr>
      <td _msttexthash="35007440" _msthash="1033">IdP によるアサーション否認</td>
      <td _msttexthash="80760381" _msthash="1034">IdPは後に取引に署名していないと主張している</td>
      <td _msttexthash="231366707" _msthash="1035">ユーザーがRPで不正なクレジットカード取引を行い、IdPはログインしていないと主張しています</td>
    </tr>
    <tr>
      <td _msttexthash="59588763" _msthash="1036">サブスクライバによるアサーションの否認</td>
      <td _msttexthash="136744400" _msthash="1037">サブスクライバーは、トランザクションを実行していないと主張します</td>
      <td _msttexthash="63105419" _msthash="1038">ユーザー契約(契約など)を執行できない</td>
    </tr>
    <tr>
      <td _msttexthash="24360414" _msthash="1039">アサーションリダイレクト</td>
      <td _msttexthash="146772366" _msthash="1040">アサーションは意図しないコンテキストで使用される可能性があります</td>
      <td _msttexthash="324706239" _msthash="1041">侵害されたユーザーエージェントは、アサーションを攻撃者に渡し、攻撃者はそれを他の場所で使用します</td>
    </tr>
    <tr>
      <td _msttexthash="25497836" _msthash="1042">アサーションの再利用</td>
      <td _msttexthash="78543777" _msthash="1043">アサーションは、同じ RP で複数回使用できます</td>
      <td _msttexthash="268043568" _msthash="1044">インターセプトされたアサーションは、攻撃者が自分のセッションを認証するために使用されます</td>
    </tr>
    <tr>
      <td _msttexthash="19428773" _msthash="1045">アサーション置換</td>
      <td _msttexthash="151598655" _msthash="1046">攻撃者は、別のサブスクライバーを対象としたアサーションを使用します</td>
      <td _msttexthash="83590130" _msthash="1047">IdP と RP の間にセッション ハイジャック攻撃がある</td>
    </tr>
    <tr>
      <td _msttexthash="49001316" _msthash="1048">取り消された属性または古い属性</td>
      <td _msttexthash="64603682" _msthash="1049">攻撃者はRPの属性の使用を悪用します</td>
      <td _msttexthash="471185663" _msthash="1050">取り消された電子メール アドレスを含む属性バンドルが RP に提示され、攻撃者がその電子メール アドレスを RP で使用できるようになります</td>
    </tr>
  </tbody>
</table>

<p></p>

<div latex-literal="true" class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\clearpage
</code></pre></div></div>
<h2 id="federation-threat-mitigation-strategies" data-section="6"><font _mstmutation="1" _msttexthash="58301750" _msthash="1051">フェデレーションの脅威軽減戦略</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#federation-threat-mitigation-strategies" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="387924134" _msthash="1052"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#security-controls" _istranslated="1">セクション3.11</a>で説明したセキュリティ制御に加えて、上記の脅威の軽減を支援するメカニズムを<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#table-4" _istranslated="1">表4</a>に示します。</p>

<p></p>

<p latex-ignore="true"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#table-4" name="table-4" _msttexthash="60078213" _msthash="1053">表 4.フェデレーションの脅威の軽減</a></p>

<table latex-table="4" latex-caption="Mitigating federation threats" latex-longtable="true" latex-columns="p@0.20\textwidth,p@0.55\textwidth,p@0.15\textwidth">
  <thead>
    <tr>
      <th _msttexthash="41138825" _msthash="1054">フェデレーションの脅威/攻撃</th>
      <th _msttexthash="23903048" _msthash="1055">脅威軽減メカニズム</th>
      <th _msttexthash="16988374" _msthash="1056">規範的参照</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td _msttexthash="45638281" _msthash="1057">アサーションの製造または変更</td>
      <td _msttexthash="107858101" _msthash="1058">IdP でアサーションに暗号的に署名し、RP で検証します</td>
      <td _msttexthash="1664416" _msthash="1059"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#identifiers-keys" _istranslated="1">3.5</a>、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#signed-assertion" _istranslated="1">3.12.2</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td _msttexthash="175028932" _msthash="1060">IdP を認証する認証された保護チャネルを介してアサーションを送信します</td>
      <td><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#presentation" _msttexthash="21619" _msthash="1061">4.11</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td _msttexthash="87886721" _msthash="1062">推測できないランダム識別子をアサーションに含める</td>
      <td><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertion-id" _msttexthash="35880" _msthash="1063">3.12.1</a></td>
    </tr>
    <tr>
      <td _msttexthash="24377587" _msthash="1064">アサーションの開示</td>
      <td _msttexthash="167718031" _msthash="1065">RP を認証する認証された保護チャネルを介してアサーションを送信します</td>
      <td _msttexthash="1637974" _msthash="1066"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertions" _istranslated="1">4.9</a>、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertion-contents" _istranslated="1">5.8</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td _msttexthash="290945681" _msthash="1067">特定の RP のアサーションを暗号化します (相互に認証された保護チャネルを使用して実行できます)</td>
      <td><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#encrypted-assertion" _msttexthash="36192" _msthash="1068">3.12.3</a></td>
    </tr>
    <tr>
      <td _msttexthash="35007440" _msthash="1069">IdP によるアサーション否認</td>
      <td _msttexthash="330314166" _msthash="1070">否認防止をサポートする署名キーを使用して IdP でアサーションに暗号的に署名し、RP で署名を検証します</td>
      <td><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#signed-assertion" _msttexthash="36036" _msthash="1071">3.12.2</a></td>
    </tr>
    <tr>
      <td _msttexthash="59588763" _msthash="1072">サブスクライバによるアサーションの否認</td>
      <td _msttexthash="820493128" _msthash="1073">キー所有者のアサーションまたはバインドされたオーセンティケーターを使用したアサーションを発行します。オーセンティケーターの所有証明は、加入者のRPへの参加を検証します</td>
      <td _msttexthash="54314" _msthash="1074"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-managed-bound-authn" _istranslated="1">3.14</a> <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#bound-authn" _istranslated="1">3.15</a></td>
    </tr>
    <tr>
      <td _msttexthash="24360414" _msthash="1075">アサーションリダイレクト</td>
      <td _msttexthash="375694137" _msthash="1076">アサーションが発行された RP の ID を署名されたコンテンツに含めます。RP は、意図した受信者であることを確認します</td>
      <td><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#audience-restriction" _msttexthash="36348" _msthash="1077">3.12.4</a></td>
    </tr>
    <tr>
      <td _msttexthash="25497836" _msthash="1078">アサーションの再利用</td>
      <td _msttexthash="339066468" _msthash="1079">アサーションの署名された内容に、有効期間の短い発行タイムスタンプを含めます。RP は期間を検証します</td>
      <td _msttexthash="1637974" _msthash="1080"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertions" _istranslated="1">4.9</a>、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertion-contents" _istranslated="1">5.8</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td _msttexthash="414799099" _msthash="1081">RP は、設定可能な時間枠内で消費されたアサーションを追跡し、特定のアサーションが複数回使用されないようにします</td>
      <td><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertion-id" _msttexthash="35880" _msthash="1082">3.12.1</a></td>
    </tr>
    <tr>
      <td _msttexthash="19428773" _msthash="1083">アサーション置換</td>
      <td _msttexthash="519637482" _msthash="1084">アサーションに、アサーション要求への参照、または RP によって要求に暗号的にバインドされたその他のナンスが含まれていることを確認します</td>
      <td _msttexthash="1637974" _msthash="1085"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertions" _istranslated="1">4.9</a>、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertion-contents" _istranslated="1">5.8</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td _msttexthash="282955881" _msthash="1086">リクエストと同じ認証された保護チャネルでアサーションを送信する (バックチャネルプレゼンテーションなど)</td>
      <td><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#back-channel" _msttexthash="35841" _msthash="1087">4.11.1</a></td>
    </tr>
    <tr>
      <td _msttexthash="49001316" _msthash="1088">取り消された属性または古い属性</td>
      <td _msttexthash="78445965" _msthash="1089">有効な時間枠で新しいアサーションを確保する</td>
      <td _msttexthash="1637974" _msthash="1090"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertions" _istranslated="1">4.9</a>、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#assertion-contents" _istranslated="1">5.8</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td _msttexthash="161742269" _msthash="1091">アサーションとは無関係に属性バンドルの有効性のチェックを有効にする</td>
      <td><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#invalidate-attribute-bundle" _msttexthash="28327" _msthash="1092">5.1.1</a></td>
    </tr>
  </tbody>
</table>

<p></p>

<h1 id="privacy" data-section="7"><font _mstmutation="1" _msttexthash="51489360" _msthash="1093">プライバシーに関する考慮事項</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#privacy" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h1>

<p><em _msttexthash="33744646" _msthash="1094">このセクションは有益です。</em></p>
<h2 id="minimizing-tracking-and-profiling" data-section="7"><font _mstmutation="1" _msttexthash="47469305" _msthash="1095">追跡とプロファイリングの最小化</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#minimizing-tracking-and-profiling" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="11840279659" _msthash="1096">フェデレーションは RP とサブスクライバーに多くのメリットを提供しますが、サブスクライバーはフェデレーション参加者を信頼する必要があります。<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#common" _istranslated="1">セクション3</a>および<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ppi" _istranslated="1">セクション3.4.1</a>は、加入者を追跡およびプロファイリングする機能の向上から生じるプライバシーリスクを最小限に抑えることを目的とした多くの技術要件をカバーしています。たとえば、同じ IdP を使用して複数の RP に認証する加入者を使用すると、IdP は、フェデレーションがなければ存在しなかった加入者トランザクションのプロファイルを構築できます。このようなデータが利用可能になると、加入者が予期または望まない可能性のある使用に対して脆弱になり、加入者がフェデレーション サービスを採用しることを阻害する可能性があります。</p>

<p _msttexthash="3615740947" _msthash="1097"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#privacy-reqs" _istranslated="1">セクション3.10は</a>、IdPが、予測可能性(つまり、個人情報および情報システムによるその処理について個人、所有者、および運営者が信頼できる仮定を可能にする)および管理可能性(つまり、変更、削除、および選択的開示を含む個人情報のきめ細かな管理を可能にする)の目的を維持するための措置を使用することを要求しています。セクション<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#transmit-subscriber-info" _istranslated="1">3.10.1</a>にリストされているもの。</p>

<p _msttexthash="27837832867" _msthash="1098">IdP には、サブスクライバーへの非 ID サービスの提供など、属性を処理するためのさまざまなビジネス目的がある場合があります。ただし、元の収集目的とは異なる目的で属性を処理すると、個人が追加の処理を期待していない、または不快に感じている場合に、プライバシー リスクが生じる可能性があります。IdPは、追加処理から生じるプライバシーリスクに見合った適切な対策を決定できます。たとえば、適用される法律、規制、またはポリシーがない場合、加入者が要求する非 ID サービスを提供するために属性を処理する際に同意を得る必要がない場合がありますが、通知は加入者が処理に関する信頼できる仮定 (つまり、予測可能性) を維持するのに役立つ場合があります。他の属性の処理には、同意を得る必要がある、または加入者が特定の属性の使用または開示 (つまり、管理性) をより詳細に制御できるようにする必要があるさまざまなプライバシー リスクが伴う可能性があります。購読者の同意は意味のあるものである必要があります。したがって、IdPが同意手段を使用する場合、加入者が追加利用を受け入れることをIDサービスを提供する条件にすることはできません。</p>

<p _msttexthash="797671810" _msthash="1099">提案された処理が許可された処理の範囲外であるかどうか、または適切なプライバシーリスク軽減策の範囲外であるかどうかについて質問がある場合は、SAOPに相談してください。</p>

<p _msttexthash="21553370085" _msthash="1100">FAL3 でキー所有者アサーションを使用する場合、通常、IdP と RP の両方で同じオーセンティケーターが使用されます。この技術的要件を満たすことができるオーセンティケーターでは、同じオーセンティケーターが複数のRPでさらに使用される可能性があります。さらに、無関係な RP は、直接認証に同じオーセンティケーターを使用できます。このようなすべての RP は、ネットワークを介して加入者を追跡するために、すべての関係者間で同じオーセンティケーターの使用を共謀して開示できる可能性があります。これは、オーセンティケーターがアサーションとは別に認識できるため、プロバイダーごとの識別子が使用されている場合でも当てはまります。さらに、キー所有者アサーションに適した多くのオーセンティケーターには、アサーションまたはアイデンティティAPIとは別にオーセンティケーター出力の一部として送信されるアイデンティティ属性が含まれています。これらの追加属性は、フェデレーションプロトコルに含まれていない場合でも、プライバシーリスク評価でカバーする必要があります。</p>

<p _msttexthash="12811790589" _msthash="1101">セクション <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#privacy-reqs" _istranslated="1">3.10</a> はまた、関連付けの解除 (つまり、システムの運用要件を超えて個人またはデバイスに関連付けることなく個人情報またはイベントの処理を可能にする) を提供し、加入者のアクティビティの追跡とプロファイリングを防止するための技術的手段の使用を奨励しています <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-NISTIR8062" _istranslated="1">[NISTIR8062]。</a>プロキシされたフェデレーションのセクション <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#proxied" _istranslated="1">3.3.3</a> やペアワイズ仮名識別子の<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ppi" _istranslated="1">セクション 3.4.1</a> で概説されているような技術的対策は、運用要件を超えて加入者の追跡やプロファイリングをより困難にすることで、ポリシーの有効性を高めることができます。ただし、これらの測定にも制限があり、加入者属性、統計的人口統計、および IdP と RP の間で共有されるその他の種類の情報に基づいて追跡を行う可能性があります。</p>

<p _msttexthash="5001169433" _msthash="1102">属性バンドルは発行元のCSPまで追跡可能であるため、このテクノロジーを使用すると、属性が発行元の場所に基づいて、さまざまなウォレットやRPのサブスクライバーを追跡できます。属性バンドル発行者を単一の発行機関にグループ化することで、属性ソースを漏らすリスクが軽減されますが、RP への属性の最終的なソースが不明瞭になります。ゼロ知識証明や 1 回限りの属性バンドルなどの手法により、属性バンドルのプライバシーをさらに強化できます。</p>

<p _msttexthash="2841493902" _msthash="1103">不正行為の影響を受けやすいエンタープライズシステムやサービスなど、一部のユースケースでは、特により高いIALで、システムを保護する手段として、加入者の現実世界のIDを追跡することが期待されます。IdP と RP は、どの情報が送信されるかを加入者に通知および教育し、加入者がこの情報を確認できるようにする責任があります。</p>
<h2 id="notice" data-section="7"><font _mstmutation="1" _msttexthash="14349127" _msthash="1104">通知と同意</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#notice" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="5980300963" _msthash="1105">フェデレーションで加入者の信頼を構築するには、加入者は自分の情報がどのように処理されているかについて信頼できる仮定を立てることができる必要があります。たとえば、加入者が送信される情報と、トランザクションのどの属性が必須かオプションかを理解し、加入者がオプションの属性を RP に送信するかどうかを決定できるようにすると便利です。したがって、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#trust-agreement" _istranslated="1">第3.5条</a>では、加入者に関する属性がRPに送信される前に、権限のある当事者から肯定的な確認を得ることが義務付けられている。</p>

<p _msttexthash="13315989414" _msthash="1106">RPのセットが共有ペアワイズ仮名識別子をいつ共有するかを決定する際(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ppi-shared" _istranslated="1">セクション3.4.1.3</a>を参照)、信託契約は、そのようなRPのグループに対する加入者の理解を考慮し、そのような理解を支援するために加入者に効果的な通知を行う手段を提供します。効果的な通知では、ユーザーエクスペリエンスの設計基準と調査、および情報処理から生じる可能性のあるプライバシーリスクの評価が考慮されます。加入者が処理について持つ可能性のある仮定の信頼性や、フェデレーションに関与するさまざまなエンティティの役割など、考慮すべきさまざまな要因があります。ただし、かなりの数の購読者が読んだり理解したりしない、複雑で合法的なプライバシーポリシーや一般利用規約へのリンクは、決して有効な通知ではありません。</p>

<p _msttexthash="6618142076" _msthash="1107"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#trust-agreement" _istranslated="1">セクション3.5は</a>、どの当事者が通知を提供するべきかを指定していません。場合によっては、連盟の当事者は、通知を提供し、同意を得るために、加入者と直接関係がない場合があります。複数の当事者が通知を提供することを選択することもできますが、当事者は契約または信頼フレームワークポリシーを使用して、どの当事者が通知を提供するかを事前に決定し、その決定が加入者が通知を読み、情報に基づいた選択を行えるようにすることを目的とした要因に基づいているかどうかを確認することができます。</p>

<p _msttexthash="10571799121" _msthash="1108">IdP は、加入者の属性にアクセスする可能性のあるすべての RP を加入者に通知する必要があります。RP が IdP の許可リストにある場合(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#idp-allowlist" _istranslated="1">セクション 4.6.1.1</a> を参照)、サブスクライバは実行時に属性のリリースに同意するように求められません。このシングル サインオン シナリオにより、サブスクライバーはフェデレーション トランザクションに参加していることに気づかない可能性があり、よりシームレスなログイン エクスペリエンスが可能になります。IdP は、信託契約の条件の一部として、許可リストに登録された RP のリストをサブスクライバーが利用できるようにします。この情報により、加入者は、どの RP が、どのような状況で、どのような目的で、その属性にアクセスできるかを確認できます。</p>

<p _msttexthash="7579996801" _msthash="1109">IdP でのサブスクライバのランタイム決定が、将来のトランザクションを容易にするために IdP によってサブスクライバアカウントに保存されている場合、IdP は、サブスクライバがランタイム決定中に以前に承認された RP を表示および取り消すことも許可する必要があります。このリストには、承認された属性と、承認が記録された時期に関する情報が含まれています。同様に、RP でのサブスクライバーのランタイム決定が何らかの方法で保存されている場合、RP は、サブスクライバーがランタイム決定中に承認された IdP を表示および取り消すことを許可する必要があります。</p>
<h2 id="minimization" data-section="7"><font _mstmutation="1" _msttexthash="16553966" _msthash="1110">データの最小化</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#minimization" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="4247535591" _msthash="1111">フェデレーションにより、RP に公開されるデータを最小限に抑えることができ、加入者のプライバシーを保護できます。RP は、サブスクライバ アカウントで使用可能なすべての情報ではなく、機能するために必要な最小限の情報のみを要求する必要があります。IdP は、RP がユースケースで必要とする属性を超えて追加の属性を収集できますが、IdP は RP によって明示的に要求された属性のみを送信する必要があります。</p>

<p _msttexthash="9491868828" _msthash="1112">場合によっては、RP の関数は属性の完全な値を必要としません。たとえば、RP は、加入者が 13 歳以上であるかどうかを知る必要があるが、完全な生年月日は知らない場合があります。機密性の高い個人情報の収集を最小限に抑えるために、RP は派生属性値 (例: 質問: 加入者は 13 歳以上ですか?応答: Y/N または合格/不合格)。これにより、RP による機密性の高い不必要な個人情報の収集が最小限に抑えられます。したがって、<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#protecting-information" _istranslated="1">Sec. 3.11.2</a> は、可能な場合は、完全な属性値ではなく、派生属性値を要求することを RP に推奨しています。この RP 要件をサポートするには、IdP は、可能な場合は派生属性値をサポートする必要があります。</p>

<p _msttexthash="3133012051" _msthash="1113">収集される個人情報を最小限に抑え、プライバシーを保護するために、IdP は、可能な限り RP にデータを提供するための仮名オプションをユーザーに提供する必要があります。
同様に、RP のポリシーで仮名が可能な場合、RP はユーザーに仮名オプションを要求する必要があります。IdP と RP はどちらも、不要なデータ送信を最小限に抑えるように努める必要があります。</p>
<h2 id="agency-privacy" data-section="7"><font _mstmutation="1" _msttexthash="69048590" _msthash="1114">政府機関固有のプライバシーコンプライアンス</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#agency-privacy" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="24689969057" _msthash="1115"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#privacy-reqs" _istranslated="1">セクション 3.10 では</a>、プライバシー コンプライアンス要件を決定するために SAOP を参照するための政府機関の要件を特定します。デジタル認証システム開発の初期段階に政府機関のSAOPを関与させて、プライバシーリスクを評価および軽減し、連邦が1974年のプライバシー法<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-PrivacyAct" _istranslated="1">[プライバシー法]</a>または2002年の電子政府法<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-E-Gov" _istranslated="1">[E-Gov]</a>のPIAを実施するための要件をトリガーするかどうかなどのコンプライアンス義務について政府機関に助言することが重要です。たとえば、政府機関が連盟の IdP として機能している場合、資格情報はフェデレーションする RP に代わって IdP で維持されるため、プライバシー法の要件がトリガーされ、新規または既存のプライバシー法 SORN による補償が必要になる可能性があります。ただし、代理店がサードパーティのIdPを使用するRPである場合、RPから渡されたデータがRPの代理店によって管理されているかどうかによっては、デジタル認証がプライバシー法の要件をトリガーしない場合があります。このような場合、政府機関はそのようなデータをカバーするより広範なプログラムによる SORN を持っている可能性があります。</p>

<p _msttexthash="5729558484" _msthash="1116">SAOPは、PIAが必要かどうかを判断する際にも同様に支援できます。これらの考慮事項は、フェデレーテッドトランザクションのみを使用するためのプライバシー法SORNまたはPIAを開発するための要件として読まれるべきではありません。多くの場合、デジタル認証プロセス全体を網羅するPIAとSORNを起草するか、プログラムや政府機関がオンラインアクセスを確立する利点について議論する大規模なプログラムPIAの一部としてデジタル認証プロセスを含めることが最も理にかなっています。</p>

<p _msttexthash="8675377009" _msthash="1117">デジタル認証には多くのコンポーネントがあるため、SAOP は個々のコンポーネントを認識し、理解することが重要です。たとえば、他のプライバシー アーティファクトは、フェデレーション IdP または RP サービス (データ使用契約、コンピューター マッチング契約など) を提供または使用する機関に適用できる場合があります。SAOPは、どのような追加要件が適用されるかを決定する際に政府機関を支援することができます。さらに、デジタル認証の個々のコンポーネントを完全に理解することで、SAOPはコンプライアンスプロセスまたはその他の手段を通じてプライバシーリスクを適切に評価し、軽減することができます。</p>
<h2 id="blinding" data-section="7"><font _mstmutation="1" _msttexthash="67915419" _msthash="1118">プロキシされたフェデレーションでの盲目化</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#blinding" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="4995795038" _msthash="1119">一部のプロキシ構造 (通常は主に統合を簡素化するために存在するもの) は、追加の加入者のプライバシー保護を提供しない場合がありますが、他のプロキシ構造は、さまざまなブラインド テクノロジーを通じて加入者にさまざまなレベルのプライバシーを提供します。プライバシーポリシーは、IdP、RP、およびフェデレーションプロキシによる加入者属性および認証トランザクションデータ(例えば、最終的なIdPおよびRPのアイデンティティ)の適切な使用を規定する場合があります。</p>

<p _msttexthash="13387663419" _msthash="1120">盲検化は、データの取得をより困難にすることで、これらのポリシーの有効性を高めることもできます。プロキシベースのシステムには 3 つの当事者があり、プロキシを使用して、プロキシ自体を含む 1 つ以上の当事者から情報を隠すことができます。二重盲検プロキシでは、IdP と RP は互いの ID を知らず、プロキシとの関係のみとなります。トリプルブラインドプロキシでは、プロキシはそれを通過するデータに関する洞察を持っていません。盲検化のレベルが上がるにつれて、技術的および運用上の実装の複雑さも増す可能性があります。プロキシはトランザクションをどちらかの側の適切な当事者にマッピングし、トランザクションのすべての当事者の暗号キーを管理する必要があるため、完全なトリプルブラインド プロキシを実際に実装することは非常に困難です。</p>

<p _msttexthash="3881677813" _msthash="1121">盲検化技術を使用しても、盲検化された当事者は、リリースされた属性データまたはメタデータを通じて(タイムスタンプ、属性バンドルサイズ、または属性署名者情報の分析などによって)保護された加入者情報を推測する可能性があります。IdPは、連盟に参加しているエンティティに関する識別情報を開示するリスクを軽減するために、追加のプライバシー強化アプローチを検討することができます。</p>

<p _msttexthash="736681153" _msthash="1122"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#table-5" _istranslated="1">表 5 は</a>、プロキシ フェデレーションで使用される盲検化実装の範囲を示しています。この表は説明を目的としており、包括的でもテクノロジー固有のものでもありません。</p>

<p></p>

<p latex-ignore="true"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#table-5" name="table-5" _msttexthash="23747425" _msthash="1123">表 5.プロキシの特性</a></p>

<table latex-table="5" latex-caption="Proxy characteristics" latex-columns="p@0.20\textwidth,p@0.10\textwidth,p@0.10\textwidth,p@0.20\textwidth,p@0.20\textwidth">
  <thead>
    <tr>
      <th _msttexthash="11359556" _msthash="1124">プロキシタイプ</th>
      <th style="text-align: center" _msttexthash="31503251" _msthash="1125">RP は IdP を認識しています</th>
      <th style="text-align: center" _msttexthash="23035207" _msthash="1126">IdPはRPを知っています</th>
      <th style="text-align: center" _msttexthash="61439261" _msthash="1127">プロキシは RP と IdP の間で追跡できます</th>
      <th style="text-align: center" _msttexthash="81010254" _msthash="1128">プロキシはサブスクライバの属性を表示できます</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td _msttexthash="42833674" _msthash="1129">属性を持つ非盲検化プロキシ</td>
      <td style="text-align: center" _msttexthash="2413333" _msthash="1130">はい</td>
      <td style="text-align: center" _msttexthash="2413333" _msthash="1131">はい</td>
      <td style="text-align: center" _msttexthash="2413333" _msthash="1132">はい</td>
      <td style="text-align: center" _msttexthash="2413333" _msthash="1133">はい</td>
    </tr>
    <tr>
      <td _msttexthash="17309266" _msthash="1134">非盲検プロキシ</td>
      <td style="text-align: center" _msttexthash="2413333" _msthash="1135">はい</td>
      <td style="text-align: center" _msttexthash="2413333" _msthash="1136">はい</td>
      <td style="text-align: center" _msttexthash="2413333" _msthash="1137">はい</td>
      <td style="text-align: center" _msttexthash="8821982" _msthash="1138">該当なし</td>
    </tr>
    <tr>
      <td _msttexthash="45345729" _msthash="1139">属性を持つダブルブラインドプロキシ</td>
      <td style="text-align: center" _msttexthash="3855540" _msthash="1140">いいえ</td>
      <td style="text-align: center" _msttexthash="3855540" _msthash="1141">いいえ</td>
      <td style="text-align: center" _msttexthash="2413333" _msthash="1142">はい</td>
      <td style="text-align: center" _msttexthash="2413333" _msthash="1143">はい</td>
    </tr>
    <tr>
      <td _msttexthash="24365471" _msthash="1144">ダブルブラインドプロキシ</td>
      <td style="text-align: center" _msttexthash="3855540" _msthash="1145">いいえ</td>
      <td style="text-align: center" _msttexthash="3855540" _msthash="1146">いいえ</td>
      <td style="text-align: center" _msttexthash="2413333" _msthash="1147">はい</td>
      <td style="text-align: center" _msttexthash="8821982" _msthash="1148">該当なし</td>
    </tr>
    <tr>
      <td _msttexthash="88829143" _msthash="1149">トリプルブラインドプロキシ(属性ありまたは属性なし)</td>
      <td style="text-align: center" _msttexthash="3855540" _msthash="1150">いいえ</td>
      <td style="text-align: center" _msttexthash="3855540" _msthash="1151">いいえ</td>
      <td style="text-align: center" _msttexthash="3855540" _msthash="1152">いいえ</td>
      <td style="text-align: center" _msttexthash="3855540" _msthash="1153">いいえ</td>
    </tr>
  </tbody>
</table>

<p></p>

<h1 id="usability" data-section="8"><font _mstmutation="1" _msttexthash="87161568" _msthash="1154">カスタマーエクスペリエンスに関する考慮事項</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#usability" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h1>

<p><em _msttexthash="33744646" _msthash="1155">このセクションは有益です。</em></p>

<p _msttexthash="7449710970" _msthash="1156">ユーザー中心の設計、顧客体験、ユーザビリティの標準用語に合わせるために、このセクション全体で「ユーザー」という用語は人間の関係者を指すために使用されます。ほとんどの場合、これらのガイドラインの他の場所で説明されているように、問題のユーザーは、申請者、請求者、または購読者の役割の主体になります。顧客体験は、使いやすさ、アクセシビリティ、オプションの結びつきにあります。ユーザーのニーズを考慮することで、組織は不必要な摩擦やフラストレーションを最小限に抑えながら、応答性が高く安全な ID ソリューションを提供できます。</p>
<h2 id="usability-intro" data-section="8"><font _mstmutation="1" _msttexthash="11369839" _msthash="1157">ユーザビリティ</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#usability-intro" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="7017329085" _msthash="1158"><em _istranslated="1">人間とシステムの相互作用の人間工学 — パート 11: ユーザビリティ: 定義と概念</em> <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-ISOIEC9241" _istranslated="1">[ISO/IEC9241-11]</a> では、ユーザビリティを「特定のユーザーが特定の使用コンテキストで有効性、効率性、満足度を持って特定の目標を達成するために使用できる範囲」と定義しています。この定義は、有効性、効率性、満足度を達成するために必要な重要な要素として、ユーザー、目標、および使用のコンテキストに焦点を当てています。ユーザビリティを実現するには、これらの重要な要素を考慮した総合的なアプローチが必要です。</p>

<p _msttexthash="3470247274" _msthash="1159">ユーザビリティの観点から見ると、フェデレーテッド ID システムの主な潜在的な利点の 1 つは、複数の認証システムの管理に関連するユーザー疲労の問題に対処することです。これは歴史的にユーザー名とパスワードの問題でしたが、ユーザーが物理的かデジタルかにかかわらず、多くの認証システムを管理する必要性が高まっているため、ユーザビリティの課題が生じています。</p>

<p _msttexthash="4460940887" _msthash="1160"><a href="https://pages.nist.gov/800-63-4/sp800-63a.html#usability-details" latex-href="#ref-SP800-63A" _istranslated="1">[SP800-63A] のセクション 8.1</a> および <a href="https://pages.nist.gov/800-63-4/sp800-63b.html#usability" latex-href="#ref-SP800-63B" _istranslated="1">[SP800-63B] のセクション 8.1</a> に記載されているように、全体的なユーザー エクスペリエンスは、デジタル ID システムの成功にとって重要です。フェデレーションは多くのユーザーにとってあまり馴染みのないユーザー対話パラダイムであるため、これは特にフェデレーション ID システムに当てはまります。ユーザーの以前の認証エクスペリエンスは、ユーザーの期待に影響を与える可能性があります。</p>

<p _msttexthash="2069201498" _msthash="1161">フェデレーション ID システムの全体的なユーザー エクスペリエンスは、正当なユーザーにとって可能な限りスムーズで簡単なものでなければなりません。これは、ユーザビリティ標準 (ISO 25060 シリーズの標準など) に従い、ユーザー インタラクション設計のベスト プラクティスを確立することで実現できます。</p>

<p _msttexthash="150678255" _msthash="1162">ガイドラインと考慮事項は、ユーザーの視点から説明されています。</p>

<p _msttexthash="9076057211" _msthash="1163">1973 年のリハビリテーション法第 508 条 <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-Section508" _istranslated="1">[第 508 条]</a> は、情報技術の障壁を取り除き、連邦機関に障害のある人々が電子技術や情報技術を利用できるようにすることを義務付けるために制定されました。これらのガイドラインは第 508 条の要件を直接主張するものではありませんが、ID サービス プロバイダーは第 508 条の規定に準拠することが期待されています。第 508 条への準拠を超えて、連邦政府機関とそのサービス プロバイダーは、一般に、ID システムのライフサイクル全体を通じてアクセシビリティが優先されるように、障害のある人々の経験を念頭に置いてサービスとシステムを設計することが期待されています。</p>
<h3 id="general-usability-considerations" data-section="8"><font _mstmutation="1" _msttexthash="86343257" _msthash="1164">ユーザビリティに関する一般的な考慮事項</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#general-usability-considerations" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="131622387" _msthash="1165">フェデレーテッド ID システムは、次のことを行う必要があります。</p>

<ul>
  <li><font _mstmutation="1" _msttexthash="162056024" _msthash="1166">ユーザーの負担を最小限に抑える(フラストレーション、学習曲線など)</font><ul>
      <li _msttexthash="98491718" _msthash="1167">必要なユーザーアクションの数を最小限に抑えます。</li>
      <li _msttexthash="2652306943" _msthash="1168">ユーザーが 1 つの IdP で複数のサブスクライバー アカウントからすばやく簡単に選択できるようにします。たとえば、アカウント セレクター <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-ACCOUNT-CHOOSER" _istranslated="1">[ACCOUNT-CHOOSER]</a> を使用すると、ユーザーは、潜在的な IdP のリストから IdP を選択してフェデレーション プロセスを開始するのではなく、最近アクセスしたサブスクライバー アカウントのリストから選択できます。</li>
      <li _msttexthash="622952434" _msthash="1169">ユーザーの負担を最小限に抑えることと、ユーザーが十分な情報に基づいた意思決定を行えるように十分な情報を提供する必要性のバランスをとります。</li>
    </ul>
  </li>
  <li>
    <p _msttexthash="1499308109" _msthash="1170">なじみのない専門用語や詳細の使用を最小限に抑えます (たとえば、基本的な概念が明確に説明されていれば、ユーザーは IdP と RP という用語を知る必要がなく、その効果が明確に伝わっていれば、ユーザーは特定の FAL 値を知る必要はありません)。</p>
  </li>
  <li>
    <p _msttexthash="519784057" _msthash="1171">IdP と RP 全体で、特に単一のセキュリティ ドメイン内にある場合、一貫性のある統合されたユーザー エクスペリエンスを実現するよう努めます。</p>
  </li>
  <li>
    <p _msttexthash="2180048377" _msthash="1172">グラフィック、イラスト、よくある質問 (FAQ)、チュートリアル、例などのリソースを提供することで、ユーザーが ID を理解できるようにします。リソースでは、ユーザーの情報がどのように扱われるか、および取引当事者(RP、IdP、プロキシなど)が相互にどのように関連しているかを説明する必要があります。</p>
  </li>
  <li>
    <p _msttexthash="517127351" _msthash="1173">ユーザーに明確で正直で意味のあるコミュニケーションを提供します (つまり、コミュニケーションは明確で理解しやすいものでなければなりません)。</p>
  </li>
  <li>
    <p _msttexthash="145041000" _msthash="1174">場所やデバイスに依存しないオンラインサービスをユーザーに提供します。</p>
  </li>
  <li>
    <p _msttexthash="20599360028" _msthash="1175">信頼関係をユーザーに明示して、情報に基づいた信頼の決定を促進します。信頼関係は動的で、状況に依存することがよくあります。ユーザーは、特定の属性やトランザクションを持つ一部の IdP や RP を他の IdP や RP よりも信頼する可能性が高くなります。たとえば、ユーザーは、貴重な個人情報(財務や健康など)を含むWebサイトでフェデレーションIDシステムを使用することをより躊躇する可能性があります。ユーザーの個人情報の機密性によっては、広告や企業のデータ使用について懸念を抱くことが多いため、一部のユーザーは商用 IdP に抵抗を感じる可能性があります。逆に、政府サービスに対する一般的な不信感や、商用サービスに精通しているため、政府のIdPよりも商用IdPに信頼を寄せている人もいるかもしれません。いずれにせよ、フェデレーション トランザクションに関与するエンティティについてエンド ユーザーに明確にし、理想的には、可能な限り幅広い利害関係者の認識をサポートするオプションを提供することが重要です。</p>
  </li>
  <li>
    <p _msttexthash="401554686" _msthash="1176">ユーザ向けの情報については<a href="https://pages.nist.gov/800-63-4/sp800-63a.html#sec9" latex-href="#ref-SP800-63A" _istranslated="1">、[SP800-63A] Sec. 8</a> に規定されているユーザビリティに関する考慮事項に従ってください。</p>
  </li>
  <li>
    <p _msttexthash="2294009120" _msthash="1177">技術支援をどこでどのように受けられるかを明確に伝えます。たとえば、オンライン セルフサービス機能、チャット セッション、またはヘルプ デスク サポートの電話番号へのリンクをユーザーに提供します。技術支援を受けるために、取引当事者 (RP、IdP、プロキシなど) 間でユーザーをリダイレクトすることは避けてください。</p>
  </li>
  <li _msttexthash="842336859" _msthash="1178">代表的なユーザーと現実的なタスクを適切なコンテキストで統合的かつ継続的なユーザビリティ評価を実行し、ユーザーの視点からフェデレーテッド ID システムの成功を確実にします。</li>
</ul>
<h3 id="specific-usability-considerations" data-section="8"><font _mstmutation="1" _msttexthash="73562944" _msthash="1179">特定のユーザビリティに関する考慮事項</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#specific-usability-considerations" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="17001504364" _msthash="1180">このセクションでは、フェデレーテッド ID システムで特定されている特定のユーザビリティに関する考慮事項について説明します。このセクションでは、フェデレーション ID システムに関連するすべてのユーザビリティ要素を網羅的に説明するものではありません。むしろ、ユーザビリティ文献におけるより大きく、より広範なテーマ、主にアイデンティティ、ユーザーの採用、信頼、およびフェデレーテッド ID 空間の認識に関するユーザーの視点に焦点を当てています。場合によっては、実装例が提供されます。ただし、特定の解決策は処方されていません。言及された実装は、特定のユーザビリティのニーズに対応する革新的な技術的アプローチを促進する例です。その他の例については、システム設計とコーディングの標準、仕様、API、および現在のベスト プラクティスを参照してください。実装は、画一的なソリューションを妨げる多くの要因に敏感です。</p>
<h4 id="user-perspectives-on-online-identity" data-section="8"><font _mstmutation="1" _msttexthash="58154577" _msthash="1181">オンライン ID に関するユーザーの視点</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#user-perspectives-on-online-identity" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h4>

<p _msttexthash="16103513907" _msthash="1182">ユーザーがフェデレーテッド ID システムに精通している場合でも、フェデレーテッド ID にはさまざまなアプローチがあり、特にプライバシーと情報の共有の観点から、ユーザー データの取り扱い方法について信頼できる期待を確立する必要があります。ユーザーと実装者は、ID の概念が異なります。ユーザーは、ID をログインして自分のプライベート スペースにアクセスすることだと考えています。実装者は、オーセンティケーター、アサーション、保証レベル、およびサービスを提供するために必要な ID 属性のセットの観点から ID を考えます。この断絶を考慮すると、フェデレーション ID システムに適用される ID の正確な概念をユーザーが形成できるように支援することが不可欠です。優れたアイデンティティ モデルは、フェデレーテッド システムの利点とリスクを理解するための基盤をユーザーに提供し、これらのシステムのユーザーの採用と信頼を促進します。</p>

<p _msttexthash="1012213332" _msthash="1183">収集される個人情報を最小限に抑え、プライバシーを保護するために、IdP と RP は、仮名識別の利点と欠点、どのような情報がどのような目的で送信されるかをユーザーに通知する必要があります。</p>

<p _msttexthash="4677802675" _msthash="1184">ID の多くのプロパティは、フェデレーション内およびフェデレーション間でユーザーが ID を管理する方法に影響を及ぼします。ユーザーがサイバースペースの外のコンテキストに基づいて複数の ID を管理するのと同じように、ユーザーはフェデレーション環境で自分の ID を管理する方法を学習する必要があります。したがって、ID とコンテキストがどのように使用されるかをユーザーに明確にする必要があります。次の要素を考慮する必要があります。</p>

<ul>
  <li>
    <p _msttexthash="1242293052" _msthash="1185">さまざまなユーザーの役割を区別するために必要なコンテキストとスコープをユーザーに提供します。たとえば、ユーザーが自分自身に代わって行動しているのか、雇用主などの別の人に代わって行動しているのかを区別します。</p>
  </li>
  <li>
    <p _msttexthash="1735048549" _msthash="1186">IdP、RP、アカウントなどのエンティティを区別するための、一意で意味のある説明的な識別子をユーザーに提供します。このようなユーザー向け識別子は、通常はユーザーに公開されない基になるプロトコルで使用される識別子に追加される可能性があります。</p>
  </li>
  <li>
    <p _msttexthash="2641808910" _msthash="1187">データの所有権と変更を許可されたユーザーに関する情報をユーザーに提供します。ID とそれに関連付けられたデータは、複数のアクターによって更新および変更される場合があります。たとえば、一部の医療データは患者によって更新および所有されますが、一部のデータは病院または医師の診療所によってのみ更新されます。</p>
  </li>
  <li>
    <p _msttexthash="5401469723" _msthash="1188">属性を簡単に検証、表示、および更新する機能をユーザーに提供します。ID とユーザーの役割は、時間の経過とともに変化します (住所、健康状態、財務データなど)。属性を更新したり、属性のリリースを決定したりする機能は、同時に提供されない場合があります。ユーザーが属性を変更するプロセスが、よく知られ、文書化され、簡単に実行できることを確認してください。ユーザーがコア属性を更新できるようにする方法の詳細については、[<a href="https://pages.nist.gov/800-63-4/sp800-63a.html#subscriber-account-updates" latex-href="#ref-SP800-63A" _istranslated="1">SP800-63A] のセクション 5.3</a> を参照してください。</p>
  </li>
  <li>
    <p _msttexthash="1706266900" _msthash="1189">関連付けられたサブスクライバ アカウントまたは RP サブスクライバ アカウントが無効または終了した場合でも、データを更新する手段をユーザに提供します。更新されたデータを追跡するときは、適用される監査、法律、またはポリシーの制約を考慮してください。</p>
  </li>
  <li>
    <p _msttexthash="5062358717" _msthash="1190">ユーザーに、自分の ID を完全に削除し、トランザクション履歴を含む自分自身に関するすべての情報を削除する手段を提供します。場合によっては、RP サブスクライバー アカウント内のデータの一部を保持する必要がある場合があるため、RP サブスクライバー アカウントを削除するよりも、RP サブスクライバー アカウントを非アクティブ化する方が適切です。そのようなアクションを妨げる可能性のある、適用される監査、法的、またはポリシーの制約を考慮してください。</p>
  </li>
  <li>
    <p _msttexthash="335044190" _msthash="1191">サイトまたはアプリケーションのデータ保持ポリシーに関する明確で見つけやすい情報をユーザーに提供します。</p>
  </li>
  <li>
    <p _msttexthash="657700745" _msthash="1192">組織のデータ アクセス ポリシーに従って、適切な匿名性と仮名性のオプションと、必要に応じてそのような ID オプションを切り替える機能をユーザーに提供します。</p>
  </li>
  <li>
    <p _msttexthash="412747972" _msthash="1193">ユーザーが各 IdP から RP への接続を管理する手段を提供します (完全な分離や 1 つ以上の属性への RP アクセスの削除など)。</p>
  </li>
</ul>
<h4 id="user-perspectives-of-trust-and-benefits" data-section="8"><font _mstmutation="1" _msttexthash="57518812" _msthash="1194">信頼と利益に対するユーザーの視点</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#user-perspectives-of-trust-and-benefits" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h4>

<p _msttexthash="10428187809" _msthash="1195">多くの要因が、フェデレーテッド ID システムのユーザー採用に影響を与える可能性があります。他のテクノロジーと同様に、ユーザーはいくつかの要素を他の要素よりも重視する場合があります。ユーザーは、テクノロジーの導入を決定する前に、認識された利点とリスクを比較検討することがよくあります。IdP と RP は、ユーザーが情報に基づいた意思決定を行えるように十分な情報を提供することが重要です。信頼の概念と信頼層は、ユーザーの採用を促進するフェデレーテッド ID システムの基本原則です。最後に、ポジティブなユーザー エクスペリエンスは、フェデレーションに対するユーザーの需要の増加にもつながり、RP による採用の増加を引き起こす可能性があります。</p>

<p _msttexthash="974983334" _msthash="1196">ユーザーの採用を促進するには、IdP と RP はユーザーとの信頼を確立して構築し、導入の利点とリスクを理解できるように支援する必要があります。次の要素を考慮する必要があります。</p>

<ul>
  <li>
    <p _msttexthash="3633770504" _msthash="1197">ユーザーが情報開示を制御し、インタラクティブなユーザーインターフェイスと通知を適切に使用することで明示的な同意を提供できるようにします(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#notice" _istranslated="1">セクション7.2</a>を参照)。ユーザーが同意の意味を十分に理解せずにクリックスルーしないようにするには、通知の内容、サイズ、頻度のバランスをとったり、特定のコミュニティに合わせて通知を調整したりするなどの考慮事項が必要です。</p>
  </li>
  <li><font _mstmutation="1" _msttexthash="94208374" _msthash="1198">属性の共有については、次の点を考慮してください。</font><ul>
      <li _msttexthash="534329211" _msthash="1199">共有される属性と属性値をユーザーが検証する手段を提供します。適切なセキュリティ慣行に従ってください (<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#protecting-information" _istranslated="1">第 3.11.2 条</a>および<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#security" _istranslated="1">第 6 条</a>を参照)。</li>
      <li _msttexthash="1233489257" _msthash="1200">ユーザーがオール・オア・ナッシングのアプローチではなく、属性の部分的なリストに同意できるようにします。ユーザーがすべての情報を共有することに同意しない場合でも、ユーザーにある程度のオンライン アクセスを許可します。</li>
      <li _msttexthash="419892525" _msthash="1201">特にユーザーが自分の属性を選択的に開示することを選択できる場合は、共有している内容をユーザーに明確に伝えます。</li>
      <li _msttexthash="563076020" _msthash="1202">ユーザーが共有属性のリストに対する同意を更新できるようにし、影響を受ける RP などの関係者に更新された同意を伝える手段を提供します。</li>
      <li _msttexthash="998795304" _msthash="1203">ユーザーに提示される不要な情報を最小限に抑えます。たとえば、システム生成の属性(ペアワイズ仮名識別子など)は、認証応答の一部として RP と共有されている場合でも表示しないでください。</li>
      <li _msttexthash="789634768" _msthash="1204">ユーザーのステップとナビゲーションを最小限に抑えます。たとえば、OAuth や OpenID Connect で一般的に見られるようなフェデレーションプロトコルに属性の同意を組み込みます。</li>
      <li _msttexthash="1274062231" _msthash="1205">IdP によって要求された、または RP によって収集された無効な属性情報からユーザーが回復できるように、効果的な修復方法を提供します。救済の提供に関するその他の要件については<a href="https://pages.nist.gov/800-63-4/sp800-63.html#redress" latex-href="#ref-SP800-63" _istranslated="1">、[SP800-63]の第3.6節</a>を参照してください。</li>
      <li _msttexthash="930039903" _msthash="1206">特に同じ属性に対する要求の場合、ユーザーが属性共有に同意する必要がある回数を最小限に抑えます。同意要求の頻度を制限することで、ユーザーのフラストレーションを回避できます。</li>
      <li _msttexthash="344426797" _msthash="1207">ユーザーが自分のデータがどこで使用されたか、特に加入者が管理するウォレット内で確認できるようにします。</li>
    </ul>
  </li>
  <li>
    <p _msttexthash="3257776067" _msthash="1208">制限された使用のみのために情報を収集し、情報開示を最小限に抑えます(<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#minimization" _istranslated="1">セクション7.3</a>を参照)。ユーザーの信頼は、明示的な同意なしに不必要で不必要な情報の収集、開示、または追跡によって損なわれます。たとえば、ユーザーが RP でアクセスできるすべての可能なトランザクションではなく、現在のトランザクションに関連する属性のみをユーザーから要求します。</p>
  </li>
  <li _msttexthash="1255409519" _msthash="1209">フェデレーション ID を使用する際の潜在的な利点とリスクをユーザーに明確かつ正直に伝えます。ユーザーが重視する利点には、時間の節約、使いやすさ、管理するパスワードの数の削減、利便性の向上などがあります。</li>
</ul>

<p _msttexthash="8849634989" _msthash="1210">リスクに対するユーザーの懸念は、フェデレーテッド ID システムを採用する意欲に悪影響を与える可能性があります。ユーザーは、フェデレーション システムで認識される信頼、プライバシー、セキュリティ、および単一障害点について懸念を抱く場合があります。たとえば、ユーザーは、1 つの IdP が一時的または永続的に利用できない場合に、複数の RP にアクセスできなくなることを恐れる場合があります。さらに、ユーザーは新しい認証プロセスの学習について懸念したり混乱したりする可能性があります。フェデレーテッド ID システムの採用を促進するには、認識される利点が認識されるリスクを上回る必要があります。</p>
<h4 id="user-mental-models-and-beliefs" data-section="8"><font _mstmutation="1" _msttexthash="39465062" _msthash="1211">ユーザーのメンタルモデルと信念</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#user-mental-models-and-beliefs" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h4>

<p _msttexthash="5198741236" _msthash="1212">ユーザーの信念や認識により、ユーザーは特定の結果を期待し、特定の方法で行動する傾向があります。このような信念、認識、素因は、社会科学では「メンタルモデル」と呼ばれています。たとえば、人々は、ファーストフード店、カフェテリア、よりフォーマルなレストランなど、各施設での行動と期待を導く外食のメンタルモデルを持っています。したがって、それぞれの施設で適切にやり取りする方法を理解するために、すべての施設に精通している必要はありません。</p>

<p _msttexthash="3875644734" _msthash="1213">ユーザーがフェデレーションの適切で完全なメンタルモデルを確立するのを支援することで、ユーザーは単一の特定の実装を超えて一般化することができます。フェデレーテッド ID システムがユーザーの視点から設計されていない場合、ユーザーは不正確または不完全なメンタル モデルを形成し、これらのシステムを採用する意欲に影響を与える可能性があります。次の要素を考慮する必要があります。</p>

<ul>
  <li><font _mstmutation="1" _msttexthash="1199731507" _msthash="1214">ユーザーの誤解を避けるために、取引当事者 (RP、IdP、プロキシなど) 間の作業関係と情報の流れを明確に説明します。説明では、一般的な用語である IdP や RP ではなく、エンティティの実際の名前を使用します。</font><ul>
      <li _msttexthash="2691964015" _msthash="1215">目立つ視覚的な手がかりと情報を提供して、一見無関係に見えるエンティティがなぜ協力関係を持っているのかをユーザーが理解できるようにします。たとえば、ユーザーは、フェデレーテッド ID システムの情報フローについての理解が不足しているため、オンラインの個人活動と政府サービスを混在させることを懸念している可能性があります。</li>
      <li _msttexthash="1846978770" _msthash="1216">RP がサイトから IdP に制御をリダイレクトする必要がある場合に、目立つ視覚的な手がかりと情報をユーザーに提供します。たとえば、IdP ユーザーインターフェイス内に RP ブランドを表示して、ユーザーが IdP を使用してログインして宛先 RP にアクセスしているときにユーザーに通知します。</li>
    </ul>
  </li>
  <li>
    <p _msttexthash="4417747295" _msthash="1217">取引当事者(RP、IdP、プロキシなど)の信頼性を判断するための明確で使いやすい方法(視覚的保証など)をユーザーに提供します。これは、特にルートドメインが変更された場合(たとえば、.gov から .com に変更された場合に、あるドメインを別のドメインに残すことに対するユーザーの懸念を軽減するのにも役立ちます)。たとえば、IdP の URL を表示して、ユーザーが悪意のあるサイトによってフィッシングされていないことを確認できるようにします。</p>
  </li>
  <li>
    <p _msttexthash="24309651977" _msthash="1218">視覚的な手がかりを含む、ログインとログアウトに関する明確な情報をユーザーに提供します。実装によっては、フェデレーテッド アカウントを使用して RP にログインすると、IdP と RP の両方でユーザの長時間実行セッションを作成できます。ユーザーは、RP とのセッションを終了しても、必ずしも IdP とのセッションが終了するとは限らないことに気付いていない可能性があります。ユーザーは IdP から明示的に「ログアウト」する必要があります。ユーザーは、IdP セッションを終了するために明示的なログアウトが必要かどうかを通知する明確な情報を必要とします。IdP と RP の両方に自動ログアウト機能があり、ユーザーが認証されてからの経過時間、またはユーザーがセッションでアクティブになってからの経過時間に基づいて、ユーザーをプロアクティブにログアウトすることもできます。ユーザーは、フラストレーション、作業の損失、または安全でない回避策 (予期しないセッション タイムアウトを回避するために安全なサイトからデータをコピーするなど) を回避するために、何もせずにセッションがいつ終了するかについての明確な情報を必要とします。</p>
  </li>
  <li>
    <p _msttexthash="316473885" _msthash="1219">専門用語を使わずに、信頼契約の条件と結果について明確でわかりやすい説明をユーザーに提供します。</p>
  </li>
  <li _msttexthash="701898054" _msthash="1220">システム内の属性の目的と用途について、ユーザーに明確かつわかりやすい説明を提供し、属性が解放され、送信されている関係者を明確に開示します。</li>
</ul>
<h2 id="customer-success" data-section="8"><font _mstmutation="1" _msttexthash="65790504" _msthash="1221">カスタマーサクセスに関する考慮事項</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#customer-success" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="3220694724" _msthash="1222">カスタマー エクスペリエンスの主な側面は、ユーザー母集団のニーズを予測し、その母集団に適した方法でフェデレーションを提供することです。顧客エクスペリエンスのリスクと課題を評価する際に、IdP と RP は、フェデレーション ID サービスによってサービスを提供する全体的なユーザー集団を考慮し、ニーズと機能をサポートするソリューションを導入する必要があります。</p>

<p _msttexthash="8434752040" _msthash="1223">フェデレーションは高度に技術的なプロセスです。エンドユーザーに公開される、カスタマーエクスペリエンスに直接影響するプロセスはほとんどなく、認証とID証明のカスタマーエクスペリエンスの考慮事項によってまだ対処されていません。2 つの注目すべき例外があります: 1) IdP を選択して記憶するプロセス、および 2) IdP と RP ヘルプ デスク間のエラーと通信の処理。
ここで説明する内容に加えて、IdP は、ID 証明、属性検証、および登録に関連するカスタマー エクスペリエンス (<a href="https://pages.nist.gov/800-63-4/sp800-63a.html#customer-success" latex-href="#ref-SP800-63A" _istranslated="1">[SP800-63A] のセクション 8.2</a> を参照) およびオーセンティケーターに関する考慮事項 (<a href="https://pages.nist.gov/800-63-4/sp800-63b.html#customer-success" latex-href="#ref-SP800-63B" _istranslated="1">[SP800-63B] のセクション 8.2</a> を参照) を考慮する必要があります。</p>
<h3 id="provide-a-clear-means-for-selecting-and-remembering-idps" data-section="8"><font _mstmutation="1" _msttexthash="111888491" _msthash="1224">IdP を選択して記憶するための明確な手段を提供する</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#provide-a-clear-means-for-selecting-and-remembering-idps" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="6966443679" _msthash="1225">ユーザーは、特に複数の IdP が大量にある場合、複数の IdP から選択するのに苦労する可能性があります。ユーザーに IdP オプションを提示する手段は 1 つではありませんが、複数の IdP を活用する RP は、プレゼンテーション デザインでユーザー テストを実行して、ユーザーの反応を理解し、オプションを伝えるための最適な手段を評価することが推奨されます。さらに、IdP の実践と機能に関する情報を提供することで、RP は、ユーザーが自分の手段と能力を満たす可能性が最も高い IdP を選択する際に、ユーザーをより適切にサポートできます。</p>

<p _msttexthash="6981284453" _msthash="1226">ユーザーにとってのもう一つの課題は、加入者アカウントを確立したIdPを覚えておくことです。これは、RP とその IdP 間の相互作用が頻度が低い場合に特に当てはまります。ユーザーとの効果的かつ成功した継続的な対話をサポートするために、RP は、以前に使用された IdP にユーザーを誘導するメカニズムを開発することが奨励されます。これは、加入者の入力(電子メールアドレスなど)によるルックアップメカニズムや、前のセッションで使用されたIdPの記憶などの形式をとることができます。
これを実装すると、次のようなさまざまな問題に対処できます。</p>

<ul>
  <li _msttexthash="128350729" _msthash="1227">IdP と認証情報を忘れたユーザーのアカウント回復アクティビティ</li>
  <li _msttexthash="623406056" _msthash="1228">ユーザーが IdP にリンクされている既存のアカウントを持っている場合でも、ユーザーが新しい IdP を選択するための不必要で時間のかかる再校正作業</li>
  <li _msttexthash="90291916" _msthash="1229">新しい IdP/CSP でリテストするユーザーの RP コストの増加</li>
</ul>
<h3 id="provide-clear-paths-to-support-and-assistance" data-section="8"><font _mstmutation="1" _msttexthash="77532390" _msthash="1230">サポートと支援への明確な道筋を提供する</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#provide-clear-paths-to-support-and-assistance" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h3>

<p _msttexthash="2687734075" _msthash="1231">RP と IdP は、技術支援をどこでどのように受け取るかを明確に伝える必要があります。たとえば、オンライン セルフサービス機能、チャット セッション、またはヘルプ デスク サポートの電話番号へのリンクをユーザーに提供します。技術支援を受けるために、取引関係者 (RP、IdP、プロキシなど) 間でユーザーをやり取りすることは避けてください。</p>

<p _msttexthash="11980665489" _msthash="1232">さらに、顧客体験を成功させるには、参加企業間の調整が重要です。IdP および RP サポート チームは、ユーザーが間違ったパーティに送信された場合に、ユーザーの懸念に対処するためにユーザーを適切にリダイレクトする方法を知っておく必要があります。たとえば、ユーザーが RP Web サイト機能が失敗する理由を理解しようと IdP ヘルプ デスクに電話する場合、IdP サポート スタッフは、ユーザーの懸念を解決するための情報または RP 側のサポート機能にユーザーを誘導できる必要があります。フェデレーテッド モデルにおけるこの分散された責任は、設計、ユーザビリティ、運用、および継続的改善計画で対処しないと、フラストレーションや混乱を引き起こす可能性が高いユーザーとの対話ポイントを作成します。</p>

<p _msttexthash="4221992502" _msthash="1233">このガイドラインは、一般的に経験する顧客との摩擦を軽減するために、IdP と RP の規範的な要件を確立します。ただし、規範的な要件では、アプリケーションごとに異なる潜在的な顧客エクスペリエンスの問題をすべて予測できる可能性は低いです。したがって、IdP と RP は、加入者が問題や課題を報告し、潜在的な代替認証およびアクセス戦略についてアドバイスするためのメカニズムを提供する必要があります。</p>

<h1 id="examples" data-section="9"><font _mstmutation="1" _msttexthash="1853033" _msthash="1234">例</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#examples" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h1>

<p><em _msttexthash="33744646" _msthash="1235">このセクションは有益です。</em></p>

<p _msttexthash="1484515721" _msthash="1236">このセクションでは、これらのガイドラインの要件と組み合わせて使用されるフェデレーションのシナリオの例をいくつか示します。これらのシナリオは説明を目的としており、これらのガイドラインで課される要件を超える追加の要件は伝えません。</p>
<h2 id="mapping-fals-to-common-federation-protocols" data-section="9"><font _mstmutation="1" _msttexthash="73476143" _msthash="1237">共通フェデレーションプロトコルへの FAL のマッピング</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#mapping-fals-to-common-federation-protocols" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="8102462238" _msthash="1238">OpenID Connect <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC" _istranslated="1">[OIDC]</a>、SAML <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SAML" _istranslated="1">[SAML]</a>、およびさまざまなデジタルウォレットテクノロジーは、さまざまなFALの要件に到達するために活用できるさまざまな機能を提供します。<a href="https://pages.nist.gov/800-63-4/10_examples.md#table-6" _istranslated="1">表6は</a>、特定のFALに到達するために展開できるこれらのプロトコルの特定のオプションの例を示しています。この表は、特定のFALへの規範的なマッピングを表すものではなく、FALを確立する際にはフェデレーションプロセス全体を考慮する必要があることに注意することが重要です。さらに、各FALは、この表にリストされていないプロセス、展開、および手順によって到達する可能性があります。</p>

<p latex-ignore="true"><a href="https://pages.nist.gov/800-63-4/10_examples.md#table-6" name="table-6" _msttexthash="23338198" _msthash="1239">表 6.FALプロトコルの例</a></p>

<p></p>

<table latex-table="6" latex-longtable="true" latex-caption="FAL protocol examples" latex-place="h" latex-columns="p@0.07\textwidth,p@0.27\textwidth,p@0.27\textwidth,p@0.27\textwidth">
  <thead>
    <tr>
      <th>&nbsp;</th>
      <th _msttexthash="1804361" _msthash="1240">OIDCの</th>
      <th _msttexthash="33202" _msthash="1241">SAML</th>
      <th _msttexthash="5779059" _msthash="1242">財布</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td _msttexthash="3903848" _msthash="1243">ファル1</td>
      <td _msttexthash="5777814094" _msthash="1244"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC" _istranslated="1">[OIDC]</a> のすべてのコア フロー (つまり、認証コード、暗黙的、およびハイブリッド) は、JSON Web 署名を使用してアサーション (つまり、ID トークン) に署名することを要求するように構成できます。アサーションは、さまざまなフロントチャネルとバックチャネルの方法で提示されます。これらの各フローは、手動クライアント登録と動的クライアント登録の両方を使用して構築できます。<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC-basic" _istranslated="1">[OIDC-Basic]</a> や <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC-implicit" _istranslated="1">[OIDC-Implicit]</a> などのプロファイルは、相互運用可能なデプロイに関する追加のガイダンスを提供できます。</td>
      <td _msttexthash="2366369837" _msthash="1245"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SAML-WebSSO" _istranslated="1">[SAML-WebSSO]</a> プロファイルでは、XML D-Sig を使用してアサーションに署名し、フロント チャネルを使用してアサーションを表示できます。SAML デプロイは通常、FAL1 以上の要件を満たすことができる手動登録で設定されます。登録は、フェデレーション機関を通じて管理される場合があります。</td>
      <td _msttexthash="3923288980" _msthash="1246">加入者のCSPは、[<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC4VCI" _istranslated="1">OIDC4VCI]</a>を使用して加入者が選択したウォレットソフトウェアに属性バンドルを発行します。RP は <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC4VP" _istranslated="1">[OIDC4VP]</a> を使用して加入者のウォレットに属性を要求し、RP はアサーションと属性バンドルが適切に形成され、署名されていることを検証します。RP は、加入者主導の対話に基づいてアサーションを受け入れ、属性バンドルを受け入れる CSP の事前設定されたリストを持っていません。</td>
    </tr>
    <tr>
      <td _msttexthash="28522" _msthash="1247">FAL2</td>
      <td _msttexthash="500448897" _msthash="1248">バックチャネルにIDトークンを提示するフロー(認証コード、ハイブリッドなど)は、アサーションインジェクション保護のレベルを提供できます。</td>
      <td _msttexthash="992950374" _msthash="1249"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SAML-bindings" _istranslated="1">[SAML-Bindings]</a> で定義されている SAML のアーティファクト バインディングにより、アサーション インジェクション保護のレベルを提供できる SAML アサーションのバックチャネル表示が可能になります。</td>
      <td _msttexthash="1788612423" _msthash="1250">RP は、使用されるウォレットを事前に知らなくても、その目的のために属性バンドルを受け入れる特定の CSP セットを信頼するように構成できます。デバイス上のアサーション プレゼンテーション方法を使用することで、ウォレットはアサーション インジェクション保護を提供できます。</td>
    </tr>
    <tr>
      <td _msttexthash="28652" _msthash="1251">FAL3</td>
      <td _msttexthash="1029296658" _msthash="1252">ID トークンには、キー所有者およびバインドされた認証子アサーションのプレゼンテーションに必要なクレームを含めることができますが、公開時点では、これを行う業界標準のプロファイルはありません。</td>
      <td _msttexthash="473643937" _msthash="1253">SAML Holder-of-Key プロファイルは、他の展開の選択肢と組み合わせると、このレベルのアサーション要件に適合できます。</td>
      <td _msttexthash="4141196046" _msthash="1254">RP は、ウォレットをオンボーディングするための厳格なプロセスを持ち、フェデレーション機関によって管理される CSP との信頼契約を受け入れます。属性バンドルの提示に加えて、ウォレットは証明に認証キーの所有証明を送信し、RPがキー所有者プロセスを使用してFAL3に到達できるようにします。サブスクライバーが制御するウォレットからのアサーションとバインドされたオーセンティケーターを組み合わせることも可能です。</td>
    </tr>
  </tbody>
</table>

<p></p>

<p _msttexthash="10539906676" _msthash="1255">実際の展開では、FAL に影響するもの以外にも追加の考慮事項があります。特に OpenID Connect の場合、ID API (つまり、UserInfo エンドポイント) と追加の API へのアクセスを許可するのが一般的です。API アクセスのセキュリティはこれらのガイドラインの範囲外ですが、OpenID Connect の実装では、FAL と並行してすべての API 呼び出しのセキュリティを強化するよう努める必要があります。たとえば、加入者が保持する署名キーの検証を必要とする FAL3 でのキー所有者アサーションを要求することに加えて、OpenID Connect システムでは、API 呼び出しごとに RP が保持する署名キーの検証を必要とする API アクセスに送信者制約付きアクセストークンも必要になる場合があります。</p>
<h2 id="direct-connection-to-an-agencys-idp" data-section="9"><font _mstmutation="1" _msttexthash="39969722" _msthash="1256">代理店の IdP への直接接続</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#direct-connection-to-an-agencys-idp" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="809813589" _msthash="1257">加入者アカウントの発行と管理を行う代理店 A は、フェデレーション プロセスを通じてこれらの加入者アカウントをオンラインで利用できるように、OpenID Connect IdP を設定および運用します。</p>

<p _msttexthash="2644221255" _msthash="1258">RPは、IdPとペアワイズトラスト契約を締結し、エージェンシーAからの加入者のアサーションを受け入れます。RP は、このアグリーメントの一部として IdP から必要な属性のセットを宣言します。信託契約では、加入者がフェデレーショントランザクションの属性の解放を決定する権限のある当事者であると規定されています。</p>

<p _msttexthash="2523396213" _msthash="1259">IdP は、従業員番号を取得し、それを一方向暗号化関数に渡して加入者アカウントの一意の識別子を作成することにより、加入者アカウントのフェデレーション識別子を生成します。このような識別子では、RP は内部識別子を計算できませんが、名前や電子メール アドレスなどの他の属性の変更に対しては安定します。</p>

<p _msttexthash="5898828598" _msthash="1260">信頼契約の条件に従って、加入者は RP に初めてログオンするときに IdP からプロンプトが表示されます。IdP は、実行時にサブスクライバの同意を求め、属性を RP と共有し、RP が要求したこれらの属性の使用をサブスクライバの同意画面に表示します。また、IdP は、IdP がこの同意の決定を記憶できるようにサブスクライバーに求めます。この保存された決定により、IdP は将来の要求で保存された同意に基づいて動作し、同じ RP が同じ属性を要求した場合にサブスクライバーにプロンプトを表示しません。</p>

<p _msttexthash="29224032097" _msthash="1261">アサーションは OpenID Connect ID トークンとしてフォーマットされ、フェデレーテッド・ログインを容易にするための最小限の属性セットが含まれています。フェデレーション識別子を除き、アサーションにはサブスクライバーに関する識別情報は含まれません。アサーションに加えて、RP には OAuth 2.0 アクセストークンが与えられ、RP は IdP によってホストされる OpenID Connect UserInfo エンドポイントにアクセスできます。RP は、加入者が RP を初めて使用するときなど、必要に応じてこの API を呼び出して追加の属性を取得することを選択できます。この RP はジャストインタイム プロビジョニング モデルに従うため、RP が加入者のフェデレーテッド識別子を初めて確認すると、RP はそのフェデレーション識別子の RP 加入者アカウントを作成し、ID API を呼び出して RP 加入者アカウントに加入者の属性を入力します。このサブスクライバとの今後の認証では、IdP にはサブスクライバの属性が最後に更新された日時のタイムスタンプが含まれます。RP は、更新された時刻が RP が最後に API を呼び出した時刻よりも遅い場合に ID API を呼び出します。さらに、RP は、ビジネス ニーズとアカウント管理の期待に基づいて、年に 2 回、ID API を使用して積極的に更新します。</p>
<h2 id="multilateral-federation-network" data-section="9"><font _mstmutation="1" _msttexthash="46416175" _msthash="1262">多国間フェデレーションネットワーク</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#multilateral-federation-network" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="10274269551" _msthash="1263">エージェンシー A、B、C にはそれぞれ、サブスクライバー アカウントに OpenID Connect を提供する IdP があります。3つの機関はすべて、省庁間のつながりを提供するために設立された独立した機関によって運営される多国間連合に参加しています。フェデレーション機関は、各 IdP が問題の機関を表していることを独自に検証します。フェデレーション機関は、[<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDFed" _istranslated="1">OIDFed]</a> などの検出仕様を使用して、多国間フェデレーションの一部であるすべての機関の IdP の検出レコードを公開します。このような仕様により、フェデレーション内の RP は、フェデレーション契約の規則に基づいて特定の機関のアカウントにアクセスするために使用できる IdP の特性を検出できます。</p>

<p _msttexthash="3446207713" _msthash="1264">RP X と Y は、エージェンシー A、B、C からのログインを許可することを希望し、RP はフェデレーションに参加する意向を宣言し、必要な属性のリストをフェデレーション機関に送信します。フェデレーション機関は RP 要求を評価し、多国間フェデレーションの信頼契約に追加します。これにより、両方の RP が、各機関の必要に応じて 3 つの個別の IdP のそれぞれに登録できます。</p>

<p _msttexthash="1523579616" _msthash="1265">両方の RP は、フェデレーション プロキシを経由せず、3 つの IdP のそれぞれと直接インターフェイスします。新しい IdP または RP が多国間フェデレーション アグリーメントに追加されると、既存の IdP および RP に新しいコンポーネントとそのパラメータが通知されます。</p>

<p _msttexthash="1475242379" _msthash="1266">IdP と RP は、フェデレーション機関の後援の下で共有シグナリング チャネルを確立します。これにより、IdP または RP は、特定のアカウントが関与する疑わしい動作や悪意のある動作を、フェデレーション権限の下にある他のメンバーに報告できます。</p>
<h2 id="issuance-of-a-credential-to-a-digital-wallet" data-section="9"><font _mstmutation="1" _msttexthash="74535981" _msthash="1267">デジタルウォレットへの認証情報の発行</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#issuance-of-a-credential-to-a-digital-wallet" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="7054802638" _msthash="1268">代理店 B は、デジタル ウォレット テクノロジーを使用して、加入者アカウントをフェデレーションに利用できるようにします。属性バンドル(このテクノロジー分野では「資格情報」として知られています)をウォレットに発行するための同庁の合意は、連邦政府全体のデジタルウォレットを管理するために設立された連邦当局によって促進されます。フェデレーション当局は、多国間契約に基づいて各機関の CSP の ID を確立し、多国間信託契約内で機関 B の加入者制御ウォレットをオンボーディングできるのは、機関 B の CSP のみができるようにします。</p>

<p _msttexthash="7457397194" _msthash="1269">サブスクライバーは、エージェンシー B のサブスクライバー アカウントで使用するデジタル ウォレットをデバイスで実行しています。加入者は、デジタルウォレットソフトウェアをエージェンシーBのCSPに送信します。サブスクライバーは生体認証要素を使用してデジタルウォレットをアクティブ化し、デジタルウォレットはサブスクライバーアカウントのCSPにオンボーディングリクエストを行います。このオンボーディングリクエストには、デジタルウォレットが保持する署名キーの証明が含まれます。CSP はウォレットの証明を検証し、ウォレット デバイスからの追加の構成証明を処理します。</p>

<p _msttexthash="2355623855" _msthash="1270">サブスクライバーは、オンボード プロセス中に CSP に対して認証します。CSP は、フェデレーション機関からの信頼契約の条件を加入者に促し、問題のデジタル ウォレットに ID を発行することを確認するように加入者に求めます。サブスクライバーには、ウォレットで使用可能になる属性のセットが通知されます。</p>

<p _msttexthash="1137223477" _msthash="1271">CSP は、サブスクライバーの属性とデジタルウォレットの検証キーへの参照を含む属性バンドルを作成します。CSP は、独自の署名キーを使用してこの属性バンドルに署名し、バンドルをデジタル ウォレットに返します。</p>

<p _msttexthash="19212970192" _msthash="1272">認証またはID証明のいずれのために、加入者がRPにアクセスする必要がある場合、RPはRPのニーズに合った属性バンドルのクエリを加入者のウォレットに送信します。RP は、同じフェデレーション機関と信頼契約を結んでおり、多国間信頼契約の規則に基づいて発行される信頼 ID に同意します。IdP として機能するデジタル ウォレットは、RP のリクエストがエージェンシー B の CSP から発行された属性バンドルによって満たされることを識別します。デジタルウォレットは、ローカルの生体認証要素を使用してデジタルウォレットソフトウェアのIdP機能を有効にするよう加入者に促します。デジタルウォレットは、要求された属性を問題のRPに提示することを確認するようにサブスクライバーに促します。サブスクライバーが受け入れると、デジタルウォレットのIdP機能は、デジタルウォレットの署名キーで署名されたRPのアサーションを作成します。アサーションには、CSP からの署名付き属性バンドルが含まれます。IdP はアサーションを RP に配信します。</p>

<p _msttexthash="3368211392" _msthash="1273">RP は署名されたアサーションを受信し、フェデレーション機関によって識別された CSP の検証キーを使用して、CSP から属性バンドルの署名を検証します。次に、RP は、アサーションで識別された検証キーを使用して、アサーションの署名を検証します。これらのチェックが正常に合格すると、RP はアサーションの情報に基づいて RP の加入者を表す RP 加入者アカウントを作成します。</p>
<h2 id="enterprise-sso" data-section="9"><font _mstmutation="1" _msttexthash="82329377" _msthash="1274">エンタープライズ アプリケーションのシングル サインオン</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#enterprise-sso" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="788389797" _msthash="1275">組織は通常、許可リストと事前にプロビジョニングされたアカウントを使用して、代理店内のすべての潜在的な加入者がエンタープライズアプリケーションを利用できるようにします。</p>

<p _msttexthash="13610010531" _msthash="1276">このシナリオでは、エージェンシー E は RP とペアワイズ アグリーメントを確立し、エージェンシー E の OpenID Connect IdP を通じてエージェンシー E のすべての従業員にエンタープライズ クラスのサービスを提供します。この信頼契約の一環として、IdP は RP の SCIM ベースのプロビジョニング API へのアクセスを許可します。IdP は、サブスクライバ アカウントごとにフェデレーション識別子を作成し、プロビジョニング API を使用してフェデレーテッド識別子とそれに関連する属性を RP にプッシュします。このようにして、RP は IdP のシステム内のすべての加入者に対して RP 加入者アカウントを事前にプロビジョニングできます。これにより、特定のアカウントがまだ RP にログインしているかどうかに関係なく、RP はシステム上のすべてのアカウントに機能 (アクセス権、データ共有、メッセージングなど) を提供できます。</p>

<p _msttexthash="1154033608" _msthash="1277">信頼契約の条件に基づき、RP は IdP の許可リストに登録されます。許可リスト・エントリーには、以下のすべてに当てはまる場合、フェデレーション・トランザクションが自動的に続行できることが記載されています。</p>

<ul>
  <li _msttexthash="223461225" _msthash="1278">サブスクライバーは、エージェンシー E にアクティブなサブスクライバー アカウントを持っています。</li>
  <li _msttexthash="79641796" _msthash="1279">加入者は、AAL2 以上の IdP で認証されています。</li>
  <li _msttexthash="751226021" _msthash="1280">RP は、他のすべての必要な属性がプロビジョニング API を介して使用できるため、アサーション内のフェデレーション識別子と基本認証イベント情報のみを要求します。</li>
  <li _msttexthash="75814193" _msthash="1281">フェデレーション・トランザクションは FAL2 にあります。</li>
</ul>

<p _msttexthash="16279069937" _msthash="1282">RP がフェデレーション トランザクションを開始すると、RP の要求は、サブスクライバが AAL2 でアクティブ セッションを認証する必要があることを示します。RP は「openid」スコープのみを要求します。これは、アサーションの IdP からフェデレーテッド識別子のみが返されることを示します。RP は、FAL2 に到達したパラメータを使用してバックチャネル要求を開始します。その結果、RP がオンボーディングされたときに、代理店がすべてのアカウントに代わってサービスを使用することに同意したため、サブスクライバーは実行時に同意を求められません。これにより、フェデレーションプロトコルがセキュリティドメインの境界を越えて使用されている場合でも、サブスクライバーはシームレスなシングルサインオンエクスペリエンスを提供します。IdP は実行時の決定を使用しないため、許可リスト パラメーターから逸脱すると、フェデレーション トランザクションが失敗します。</p>

<p _msttexthash="8397465310" _msthash="1283">RP サブスクライバ アカウントは、プロビジョニング API を使用して同期されます。IdP で新しいサブスクライバ アカウントが作成、変更、または削除されると、IdP はプロビジョニング API を使用して RP サブスクライバ アカウントのステータスを更新します。これにより、RP は各加入者アカウントの最新のステータスを維持できます。たとえば、加入者アカウントが IdP で終了すると、プロビジョニング API は、対応する RP 加入者アカウントが直ちに終了されることを RP に通知します。RP は、監査ログとアクセス ログの識別子と参照を除き、問題のアカウントに対してローカルにキャッシュされたすべての属性を削除します。</p>
<h2 id="fal3-smart-card" data-section="9"><font _mstmutation="1" _msttexthash="35590893" _msthash="1284">スマートカード付きキーホルダーFAL3</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fal3-smart-card" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="1907119721" _msthash="1285">サブスクライバーは、スマート カードに暗号化認証器を持っています。このスマート カードの証明書は、信頼契約で規定されている共有 PKI システムを使用して、IdP と RP の両方で独立して検証できます。このタイプのオーセンティケーターは、FAL3 のキー所有者アサーションで使用できます。</p>

<p _msttexthash="3694618486" _msthash="1286">サブスクライバは RP でフェデレーションプロセスを開始し、RP は FAL3 でフェデレーショントランザクションを要求します。サブスクライバは、スマートカードを使用して IdP に対して認証します。IdP は、アサーションが FAL3 での使用を目的としていることを示すフラグ付きのアサーションを作成します。アサーションには、キー所有者アサーションで使用される証明書の共通名 (CN) と拇印も含まれています。</p>

<p _msttexthash="2893550647" _msthash="1287">RP がアサーションを受信すると、RP は通常どおりアサーションを処理し、FAL3 フラグと証明書属性を確認します。加入者は証明書を使用して RP に対して認証し、RP は加入者によって提示された証明書が IdP からのアサーションの証明書と一致することを確認します。これらが一致すると、RP は FAL3 で加入者とのセキュアなセッションを作成します。</p>
<h2 id="fal3-nonpki" data-section="9"><font _mstmutation="1" _msttexthash="53576237" _msthash="1288">非 PKI バウンド認証器を使用した FAL3</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#fal3-nonpki" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="3467911811" _msthash="1289">加入者は、WebAuthn プロトコルを話すハードウェア暗号化認証器を持っています。このオーセンティケータはどのPKIシステムにも結び付けられておらず、オーセンティケータデバイスは、通常の認証プロセス中に、IdPとRPの両方にまったく異なるリンクされていない検証キーを提示します。この種のオーセンティケーターは、FAL3 でバインドされたオーセンティケーターとして引き続き使用できます。</p>

<p _msttexthash="2063816157" _msthash="1290">この例では、加入者が IdP でこの認証デバイスを使用すると、Key1 の証明が提示されます。加入者が RP で同じデバイスを使用すると、Key2 の証明が提示されます。これらは論理的には 2 つの別個の認証者ですが、加入者の観点からは、複数の場所で同じデバイスを使用しています。</p>

<p _msttexthash="11314531722" _msthash="1291">フェデレーショントランザクションを開始するには、サブスクライバはKey1を使用してIdPに対して認証を行います。次に、IdP は FAL3 としてフラグが付けられたアサーションを作成します。IdP は Key2 の存在と使用を可視化できないため、アサーションは、サブスクライバが FAL3 に到達するためにバインドされたオーセンティケータを使用していることを示しています。RP がこのアサーションを処理すると、RP はアサーション内のフェデレーテッド識別子に関連付けられた RP サブスクライバ アカウントをチェックし、Key2 を使用してそのアカウントのバインドされたオーセンティケータを見つけます。RP は、加入者に Key2 を使用して認証するように求めます。そのキーが検証されると、RP は FAL3 で加入者とのセキュアなセッションを作成します。</p>
<h2 id="holder-of-key-fal3-with-referred-token-binding" data-section="9"><font _mstmutation="1" _msttexthash="94090581" _msthash="1292">参照トークンバインディングを使用したキー所有者FAL3</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#holder-of-key-fal3-with-referred-token-binding" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="15499101709" _msthash="1293">加入者は、IdP と RP が共有 PKI 環境にないため、IdP によって信頼されているが RP には認識されていない証明書を使用して IdP に対して認証します。ただし、IdP と RP は、TLS の参照トークン バインディング拡張機能をサポートします。加入者が証明書を IdP に提示すると、IdP は加入者の証明書の CN と拇印を使用してアサーションを作成します。アサーションまたはアサーション参照とともに、IdP はトークンバインディングヘッダーを返します。これらのヘッダーが RP に提示されると、RP はそれらを使用して、アサーションの内容を加入者の証明書に関連付けることができます。RP は引き続き証明書を検証する必要がありますが、トークン バインディングにより、RP はオーセンティケータの証明書の証明書チェーンを個別に信頼しなくても検証できます。このプロセスは、キー所有者の FAL3 トランザクションの要件を満たします。</p>
<h2 id="ephemeral-federated-attribute-exchange" data-section="9"><font _mstmutation="1" _msttexthash="58194929" _msthash="1294">エフェメラルフェデレーテッド属性交換</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ephemeral-federated-attribute-exchange" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="20042905168" _msthash="1295">RPは、加入者の身元を知ることなく、加入者の特定の属性(年齢証明、所属機関など)にアクセスする必要があります。RP は、トランザクションを処理するために必要な派生属性値のみを要求します。この場合、購読者が年齢に達しているか、代理店に所属しているかを示す単純なブール値を要求します。フェデレーション プロセスでは、RP と加入者の間に認証済みセッションが作成されます。ただし、RP はエフェメラル プロビジョニング メカニズムを使用し、トランザクションの記録のみを保持し、加入者の追加識別属性は保持しません。IdP は、ペアワイズの仮名識別子を RP に提供します。IdP は RP サブスクライバ アカウントのエフェメラルな性質を認識しているため、IdP は、サブスクライバの RP の使用に影響を与えることなく、要求ごとに RP に個別の PPI を提供できます。IdP は、実行時にサブスクライバに派生属性を解放するように促し、RP が時間の経過に伴う情報の変化に対してサブスクライバ アカウントをサイレントにポーリングするのを防ぎます。</p>
<h2 id="authorized-party-example" data-section="9"><font _mstmutation="1" _msttexthash="90826853" _msthash="1296">複数の異なる権限のある当事者と信託契約</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#authorized-party-example" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="1982796621" _msthash="1297">加入者が複数の RP でサービスを使用するため、要件や経験が異なるさまざまな信頼契約が結ばれます。このシナリオでは、サブスクライバーは 1 つの IdP を介してアカウントを持ち、3 つの異なる RP で使用し、それぞれに異なる種類の信頼契約があり、同意と通知の要件も異なります。</p>

<dl>
  <dt _msttexthash="39248638" _msthash="1298">組織の権限のある当事者:</dt>
  <dd _msttexthash="8065851092" _msthash="1299">事前に確立された信頼契約により、代理店は、代理店のすべての加入者が利用できるエンタープライズ サービス (つまり、RP) に接続できます。この信頼契約の権限のある当事者は代理店であり、IdP は、RP が使用するために要求する共通属性のセットを持つ RP の許可リスト エントリで構成されます。サブスクライバーがエンタープライズ・サービスにログインすると、信頼契約によってこの接続が信頼されたものとして確立されるため、サービスに関する実行時の決定は求められません。この信頼契約の詳細は、RP にリリースされる属性のリストと目的など、IdP からサブスクライバに提供されます。</dd>
  <dt _msttexthash="36110243" _msthash="1300">個々の権限のある当事者:</dt>
  <dd _msttexthash="13751128300" _msthash="1301">同じ機関のすべての加入者が利用できる別のサービス(つまり、別のRP)のために、事前に確立された別の信頼契約が代理店によって作成されます。この信頼契約では、加入者がRPへの属性情報の公開の権限を与えられた当事者であると規定されています。サービスにログインすると、各加入者は、属性を RP に解放することへの同意を求められます。プロンプトには、サブスクライバーが適切なセキュリティ上の決定を行うためのコンテキスト (信頼契約の詳細へのリンク、リリースされる属性とその使用目的のリストなど) が含まれます。IdP を使用すると、加入者はこの同意の決定を保存できるため、この加入者が将来この同じ RP にログインしたときに、信頼契約と RP からの要求が変更されていない限り、加入者に同意を求めるプロンプトが再度表示されることはありません。</dd>
  <dt _msttexthash="37263018" _msthash="1302">加入者主導のサービス アクセス:</dt>
  <dd _msttexthash="4008031638" _msthash="1303">加入者主導の信頼契約は、加入者が IdP によって認識されない RP にアクセスするときに確立されます。RP は、IdP から要求されているすべての属性の使用について加入者に通知し、IdP は加入者に属性を RP に解放することへの同意を求めます。また、IdP は、RP が機関に認識されていないことを加入者に警告し、RP が受信した情報を加入者に提供して、加入者が安全な意思決定を行えるようにします。</dd>
</dl>

<p _msttexthash="154100908" _msthash="1304">これらのシナリオはすべて、同じサブスクライバー アカウントに関係します。</p>
<h2 id="shared-ppi" data-section="9"><font _mstmutation="1" _msttexthash="66326169" _msthash="1305">複数の RP の共有ペアワイズ仮名識別子</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#shared-ppi" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="13737379136" _msthash="1306">3つのアプリケーションのグループは、コラボレーション、ドキュメントストレージ、およびカレンダー機能を可能にする特定のミッションをサポートするために展開されます。個別のアプリケーションの性質上、個別の RP としてデプロイされますが、共通の信頼契約を使用して同じ IdP にバインドされます。信頼契約では、3 つの RP に共有 PPI が発行され、アプリケーションが個々のサブスクライバ アカウントを相互に調整できますが、デプロイされた環境内の他のアプリケーションと調整できないことが規定されています。IdP は、アルゴリズムを使用して、一連のアプリケーションのランダム化された識別子と各加入者アカウントの一意の識別子を組み込んだ共有 PPI を生成します。その結果、3 つの RP すべてが加入者ごとに同じ PPI を取得しますが、他の RP には同じ識別子が発行されません。</p>
<h2 id="rp-auth" data-section="9"><font _mstmutation="1" _msttexthash="16794687" _msthash="1307">IdP への RP 認証</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#rp-auth" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="2167137895" _msthash="1308">フェデレーション トランザクションは通常、複数のネットワーク呼び出しを介して行われます。このプロセス全体を通じて、IdP と RP は、前のステップと同じ当事者と話していること、そして最終的には、最初にトランザクションに参加すると予想される当事者と話していることを知ることが重要です。</p>

<p _msttexthash="8943440259" _msthash="1309">技術が異なれば、使用中のフェデレーションプロトコルやシステムのニーズに応じて、保証の程度も異なります。たとえば、[<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC" _istranslated="1">OIDC]</a> の認可コード フローを使用すると、RP はトランザクションの前に共有秘密鍵または秘密鍵を IdP に登録し、IdP がバック チャネルで RP の要求を強力に認証してアサーションを取得できるようにします。さらに、[<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-RFC7636" _istranslated="1">RFC7636]</a> の Proof Key for Code Exchange プロトコルを使用すると、RP は推測不可能なシークレットを動的に作成し、フロント チャネルでハッシュ形式で送信し、アサーション参照とともにバック チャネルで完全に送信できます。これらの手法を組み合わせることで、さらに確実性を高めることができます。</p>

<p _msttexthash="1693235492" _msthash="1310">フェデレーション機関は、認証プロセスを容易にすることもできます。RP が公開キーと識別子をフェデレーション機関に登録する場合、IdP は、RP が事前に自身を登録する必要はなく、フェデレーション機関から適切な検証キーを取得するだけで済みます。</p>

<p _msttexthash="1332633068" _msthash="1311">特定のフェデレーション プロトコルの技術プロファイルはこれらのガイドラインの範囲外ですが、[<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-FAPI" _istranslated="1">FAPI]</a> などの高セキュリティ プロファイルは、実装者がセキュア フェデレーション プロトコルを展開するための広範なガイドラインを提供します。</p>
<h2 id="cloud-wallet" data-section="9"><font _mstmutation="1" _msttexthash="16064841" _msthash="1312">クラウドウォレット</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#cloud-wallet" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h2>

<p _msttexthash="8682629839" _msthash="1313">代理店の CSP を使用すると、加入者はクラウドでホストされるウォレット サービスに属性バンドルを発行できます。このシナリオでは、CSP は専用のオンボーディング プロセスを通じて、サブスクライバーに代わってクラウド ウォレット サービスをオンボーディングします。サブスクライバーはクラウドウォレットに対して認証を行い、CSPでクラウドウォレットのオンボーディングプロセスを開始します。サブスクライバーは CSP に対して認証し、クラウド ウォレットへの属性バンドルの発行を承認します。CSP はこれらの属性バンドルを生成してクラウドウォレットに配信し、クラウドウォレットはサブスクライバーに代わって属性バンドルを保存します。</p>

<p _msttexthash="4561214853" _msthash="1314">その後、サブスクライバーが RP に対して認証する必要がある場合、サブスクライバーは RP にクラウド ウォレットを使用するように指示します。RP は、クラウドウォレットとのフェデレーショントランザクションを開始します。クラウドウォレットは、サブスクライバーに認証し、属性バンドルをRPに解放することに同意するように求めます。クラウドウォレットはアサーションを生成し、それをRPに配信します。RP は、CSP からのアサーションと属性バンドルを検証します。</p>

<h1 id="references"><font _mstmutation="1" _msttexthash="4970446" _msthash="1315">参照</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#references" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h1>

<p><em _msttexthash="33744646" _msthash="1316">このセクションは有益です。</em></p>

<p _msttexthash="643293599" _msthash="1317"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-ACCOUNT-CHOOSER" name="ref-ACCOUNT-CHOOSER" _istranslated="1">[アカウント選択]</a>Dingle P、Bray T (2015) OpenID AccountChooser Basic API プロファイル 1.0。(OpenID Foundation、カリフォルニア州サンラモン)。<a href="https://openid.net/wordpress-content/uploads/2011/12/account-chooser-basic1.html" _istranslated="1">https://openid.net/wordpress-content/uploads/2011/12/account-chooser-basic1.html</a> で入手可能</p>

<p _msttexthash="292209151" _msthash="1318"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-E-Gov" name="ref-E-Gov" _istranslated="1">[電子政府]</a>2002 年電子政府法、PL 107-347、116 Stat. 2899、44 U.S.C. § 101 (2002)。<a href="https://www.gpo.gov/fdsys/pkg/PLAW-107publ347/pdf/PLAW-107publ347.pdf" _istranslated="1">https://www.gpo.gov/fdsys/pkg/PLAW-107publ347/pdf/PLAW-107publ347.pdf</a> で入手可能</p>

<p _msttexthash="662829908" _msthash="1319"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-FAPI" name="ref-FAPI" _istranslated="1">[ファピ]</a>Fett D、Bradley J、Heenan J (2024)、<em _istranslated="1">FAPI 2.0 セキュリティ プロファイル (草案)。</em>(OpenID Foundation、カリフォルニア州サンラモン)。<a href="https://openid.bitbucket.io/fapi/fapi-2_0-security-profile.html" _istranslated="1">https://openid.bitbucket.io/fapi/fapi-2_0-security-profile.html</a> で入手可能</p>

<p _msttexthash="305176131" _msthash="1320"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-FEDRAMP" name="ref-FEDRAMP" _istranslated="1">[フェドランプ]</a>General Services Administration (2022)、<em _istranslated="1">FedRAMP 認可を受ける方法</em>。<a href="https://www.fedramp.gov/" _istranslated="1">https://www.fedramp.gov/</a> で入手可能</p>

<p _msttexthash="705095183" _msthash="1321"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-FIPS140" name="ref-FIPS140" _istranslated="1">[FIPS140]</a>米国国立標準技術研究所 (2019) 暗号化モジュールのセキュリティ要件。(米国商務省、ワシントンDC)、連邦情報処理標準出版物(FIPS)FIPS Pub 140-3。<a href="https://doi.org/10.6028/NIST.FIPS.140-3" _istranslated="1">https://doi.org/10.6028/NIST.FIPS.140-3</a></p>

<p _msttexthash="778052158" _msthash="1322"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-iGov" name="ref-iGov" _istranslated="1">[アイゴブ]</a>Varley M、Grassi P (2023) OpenID Connect 1.0 の国際政府保証プロファイル (iGov) - ドラフト 04。(OpenID Foundation、カリフォルニア州サンラモン)。<a href="https://openid.net/specs/openid-igov-openid-connect-1_0.html" _istranslated="1">https://openid.net/specs/openid-igov-openid-connect-1_0.html</a> で入手可能</p>

<p _msttexthash="981978244" _msthash="1323"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-ISOIEC9241" name="ref-ISOIEC9241" _istranslated="1">[ISO/IEC9241-11]</a>国際標準化機構(2018)<em _istranslated="1">ISO / IEC 9241-11人間とシステムの相互作用の人間工学–パート11:ユーザビリティ:定義と概念</em>(ISO、ジュネーブ、スイス)。<a href="https://www.iso.org/standard/63500.html" _istranslated="1">https://www.iso.org/standard/63500.html</a> で入手可能</p>

<p _msttexthash="1137327828" _msthash="1324"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-ISOIEC18013" name="ref-ISOIEC18013" _istranslated="1">[ISO/IEC18013-5]</a>国際標準化機構 (2021) <em _istranslated="1">ISO/IEC 18013-5 個人識別 - ISO 準拠の運転免許証 - パート 5: モバイル運転免許証 (mDL) アプリケーション</em> (ISO、ジュネーブ、スイス)。<a href="https://www.iso.org/obp/ui/en/#iso:std:iso-iec:18013:-5:ed-1:v1:en" _istranslated="1">https://www.iso.org/obp/ui/en/#iso:std:iso-iec:18013:-5:ed-1:v1:en</a> で入手可能</p>

<p _msttexthash="1941523064" _msthash="1325"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-NISTIR8062" name="ref-NISTIR8062" _istranslated="1">[NISTIR8062]</a>Brooks S、Garcia M、Lefkovitz N、Lightman S、Nadeau E(2017)連邦システムにおけるプライバシーエンジニアリングとリスク管理の紹介。(国立標準技術研究所、メリーランド州ゲイザーズバーグ)、NIST 省庁間または内部レポート (IR) NIST IR 8062、2017 年 1 月。<a href="https://doi.org/10.6028/NIST.IR.8062" _istranslated="1">https://doi.org/10.6028/NIST.IR.8062</a></p>

<p _msttexthash="1890444894" _msthash="1326"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-nistir8112" name="ref-nistir8112" _istranslated="1">[NISTIR8112]</a>Grassi PA、Lefkovitz NB、Nadeau EM、Galluzzo RJ、Dinh AT(2018)属性メタデータ:フェデレーテッド属性を評価するための提案されたスキーマ。(国立標準技術研究所、メリーランド州ゲイザーズバーグ)、NIST 省庁間または内部レポート (IR) NIST IR 8112。<a href="https://pages.nist.gov/NISTIR-8112/NISTIR-8112.html" _istranslated="1">https://pages.nist.gov/NISTIR-8112/NISTIR-8112.html</a></p>

<p _msttexthash="2031383250" _msthash="1327"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-NIST-Privacy" name="ref-NIST-Privacy" _istranslated="1">[NIST-プライバシー]</a>米国国立標準技術研究所 (2020) NIST プライバシー フレームワーク: エンタープライズ リスク管理を通じてプライバシーを向上させるためのツール、バージョン 1.0。(米国国立標準技術研究所、メリーランド州ゲイザーズバーグ)、NIST サイバーセキュリティ ホワイト ペーパー (CSWP) NIST CSWP 10。<a href="https://doi.org/10.6028/NIST.CSWP.10" _istranslated="1">https://doi.org/10.6028/NIST.CSWP.10</a></p>

<p _msttexthash="875431856" _msthash="1328"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC" name="ref-OIDC" _istranslated="1">[OIDC]</a>Sakimura N、Bradley J、Jones M、de Medeiros B、Mortimore C (2014) 正誤表セット 1 を組み込んだ OpenID Connect Core 1.0 (OpenID Foundation、カリフォルニア州サンラモン)。<a href="https://openid.net/specs/openid-connect-core-1_0.html" _istranslated="1">https://openid.net/specs/openid-connect-core-1_0.html</a> で入手可能</p>

<p _msttexthash="732259203" _msthash="1329"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC-basic" name="ref-OIDC-basic" _istranslated="1">[OIDC-ベーシック]</a>Sakimura N、Bradley J、Jones M、de Medeiros B、Mortimore C (2022) OpenID Connect Basic Client Implementer's Guide 1.0 (OpenID Foundation、カリフォルニア州サンラモン)。<a href="https://openid.net/specs/openid-connect-basic-1_0.html" _istranslated="1">https://openid.net/specs/openid-connect-basic-1_0.html</a> で入手可能</p>

<p _msttexthash="746280002" _msthash="1330"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC-implicit" name="ref-OIDC-implicit" _istranslated="1">[OIDC-暗黙的]</a>Sakimura N、Bradley J、Jones M、de Medeiros B、Mortimore C (2022) OpenID Connect Implicit Client Implementer's Guide 1.0 (OpenID Foundation、カリフォルニア州サンラモン)。<a href="https://openid.net/specs/openid-connect-implicit-1_0.html" _istranslated="1">https://openid.net/specs/openid-connect-implicit-1_0.html</a> で入手可能</p>

<p _msttexthash="947593725" _msthash="1331"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC-registration" name="ref-OIDC-registration" _istranslated="1">[OIDC登録]</a>Sakimura N、Bradley J、Jones M (2023) 正誤表セット 2 を組み込んだ OpenID Connect 動的クライアント登録 1.0 (OpenID Foundation、カリフォルニア州サンラモン)。<a href="https://openid.net/specs/openid-connect-registration-1_0.html" _istranslated="1">https://openid.net/specs/openid-connect-registration-1_0.html</a> で入手可能</p>

<p _msttexthash="1066463229" _msthash="1332"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC4VCI" name="ref-OIDC4VCI" _istranslated="1">[OIDC4VCI]</a>Lodderstedt T、Yasuda K、Looker T (2024) 検証可能な資格情報発行のための OpenID 最初の実装者のドラフト (OpenID Foundation、カリフォルニア州サンラモン)。<a href="https://openid.net/specs/openid-4-verifiable-credential-issuance-1_0-ID1.html" _istranslated="1">https://openid.net/specs/openid-4-verifiable-credential-issuance-1_0-ID1.html</a> で入手可能</p>

<p _msttexthash="923980616" _msthash="1333"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDC4VP" name="ref-OIDC4VP" _istranslated="1">[OIDC4VP]</a>Terbu O、Lodderstedt T、Yasuda K、Looker T (2023) 検証可能なプレゼンテーションのための OpenID Second Implementer's Draft (OpenID Foundation、カリフォルニア州サンラモン)。<a href="https://openid.net/specs/openid-4-verifiable-presentations-1_0-ID2.html" _istranslated="1">https://openid.net/specs/openid-4-verifiable-presentations-1_0-ID2.html</a> で入手可能</p>

<p _msttexthash="704686567" _msthash="1334"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-OIDFed" name="ref-OIDFed" _istranslated="1">[OIDFed]</a>Hedberg R、Jones M、Solberg A、Bradley J、De Marco G、Dzhuvinov V (2024) OpenID Federation 1.0 - ドラフト 41 (OpenID Foundation、カリフォルニア州サンラモン)。<a href="https://openid.net/specs/openid-federation-1_0.html" _istranslated="1">https://openid.net/specs/openid-federation-1_0.html</a> で入手可能</p>

<p _msttexthash="379971475" _msthash="1335"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-PrivacyAct" name="ref-PrivacyAct" _istranslated="1">【プライバシー法】</a>1974 年プライバシー法、Pub. L. 93-579、5 U.S.C. § 552a、88 Stat. 1896 (1974)。<a href="https://www.govinfo.gov/content/pkg/USCODE-2020-title5/pdf/USCODE-2020-title5-partI-chap5-subchapII-sec552a.pdf" _istranslated="1">https://www.govinfo.gov/content/pkg/USCODE-2020-title5/pdf/USCODE-2020-title5-partI-chap5-subchapII-sec552a.pdf</a> で入手可能</p>

<p _msttexthash="954739474" _msthash="1336"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-RFC5280" name="ref-RFC5280" _istranslated="1">[RFC5280]</a>Cooper D、Santesson S、Farrell S、Boeyen S、Housley R、Polk W(2008)インターネットX.509公開鍵インフラストラクチャ認証および証明書失効リスト(CRL)プロファイル。(Internet Engineering Task Force (IETF))、IETF Request for Comments (RFC) 5280。<a href="https://doi.org/10.17487/RFC5280" _istranslated="1">https://doi.org/10.17487/RFC5280</a></p>

<p _msttexthash="959257546" _msthash="1337"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-RFC7591" name="ref-RFC7591" _istranslated="1">[RFC7591]</a>Richer J、Jones M、Bradley J、Machulak M、Hunt P(2015)OAuth2.0動的クライアント登録プロトコル。(インターネット・エンジニアリング・タスク・フォース、バージニア州レストン)、RFC 7591。<a href="https://doi.org/10.17487/RFC7591" _istranslated="1">https://doi.org/10.17487/RFC7591</a></p>

<p _msttexthash="1025254776" _msthash="1338"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-RFC7636" name="ref-RFC7636" _istranslated="1">[RFC7636]</a>Sakimura N、Bradley J、Agarwal N(2015)OAuthパブリッククライアントによるコード交換のためのプルーフキー。(インターネット・エンジニアリング・タスク・フォース、バージニア州レストン)、RFC 7636。<a href="https://doi.org/10.17487/RFC7636" _istranslated="1">https://doi.org/10.17487/RFC7636</a></p>

<p _msttexthash="1004181555" _msthash="1339"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-RFC7644" name="ref-RFC7644" _istranslated="1">[RFC7644]</a>Hunt P、Grizzle K、Morteza A、Wahlstroem E、Mortimore C(2015)クロスドメインID管理システム:プロトコル。(インターネット・エンジニアリング・タスク・フォース、バージニア州レストン)、RFC 7644。<a href="https://doi.org/10.17487/RFC7644" _istranslated="1">https://doi.org/10.17487/RFC7644</a></p>

<p _msttexthash="240221904" _msthash="1340"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-RFC8446" name="ref-RFC8446" _istranslated="1">[RFC8446]</a>Rescorla E (2018) トランスポート層セキュリティ (TLS) プロトコル バージョン 1.3。(Internet Engineering Task Force (IETF))、IETF Request for Comments (RFC) RFC 8446。<a href="https://doi.org/10.17487/RFC8446" _istranslated="1">https://doi.org/10.17487/RFC8446</a></p>

<p _msttexthash="294763456" _msthash="1341"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-RFC8485" name="ref-RFC8485" _istranslated="1">[RFC8485]</a>Richer J(2018)信頼のベクトル。(Internet Engineering Task Force (IETF))、IETF Request for Comments (RFC) RFC 8485 を参照してください。<a href="https://doi.org/10.17487/RFC8485" _istranslated="1">https://doi.org/10.17487/RFC8485</a></p>

<p _msttexthash="1646436012" _msthash="1342"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-RFC9325" name="ref-RFC9325" _istranslated="1">[RFC9325]</a>Sheffer Y、Saint-Andre P、Fossati T (2022) トランスポート層セキュリティ (TLS) およびデータグラム トランスポート層セキュリティ (DTLS) の安全な使用に関する推奨事項。(インターネット エンジニアリング タスク フォース (IETF))、IETF コメント要求 (RFC) RFC 9325。<a href="https://doi.org/10.17487/RFC9325" _istranslated="1">https://doi.org/10.17487/RFC9325</a></p>

<p _msttexthash="1656074342" _msthash="1343"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SAML" name="ref-SAML" _istranslated="1">[SAML]</a>Ragouzis N、Hughes J、Philpott R、Maler E、Madsen P、Scavo T (2008) Security Assertion Markup Language (SAML) V2.0 の技術概要。(構造化情報標準推進機構 (OASIS) オープン、マサチューセッツ州ウォーバーン)、SAML 2.0。<a href="https://docs.oasis-open.org/security/saml/Post2.0/sstc-saml-tech-overview-2.0.html" _istranslated="1">https://docs.oasis-open.org/security/saml/Post2.0/sstc-saml-tech-overview-2.0.html</a> で入手可能</p>

<p _msttexthash="1884352327" _msthash="1344"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SAML-bindings" name="ref-SAML-bindings" _istranslated="1">[SAML-バインディング]</a>Cantor S、Frederick H、Kemp J、Philpott R、Maler M(2005)OASISセキュリティアサーションマークアップ言語(SAML)V2.0のバインディング。(構造化情報標準推進機構 (OASIS) オープン、マサチューセッツ州ウォーバーン)、SAML 2.0。<a href="https://docs.oasis-open.org/security/saml/v2.0/saml-bindings-2.0-os.pdf" _istranslated="1">https://docs.oasis-open.org/security/saml/v2.0/saml-bindings-2.0-os.pdf</a> で入手可能</p>

<p _msttexthash="1993638660" _msthash="1345"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SAML-WebSSO" name="ref-SAML-WebSSO" _istranslated="1">[SAML-WebSSO]</a>Hughes J、Cantor S、Hodges J、Hirsch F、Mishra P、Philpott R、Maler E (2005) OASIS Security Assertion Markup Language (SAML) V2.0 のプロファイル。(構造化情報標準推進機構 (OASIS) オープン、マサチューセッツ州ウォーバーン)、SAML プロファイル 2.0。<a href="https://docs.oasis-open.org/security/saml/v2.0/saml-profiles-2.0-os.pdf" _istranslated="1">https://docs.oasis-open.org/security/saml/v2.0/saml-profiles-2.0-os.pdf</a> で入手可能</p>

<p _msttexthash="365933789" _msthash="1346"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-Section508" name="ref-Section508" _istranslated="1">[セクション508]</a>一般サービス局 (2022) <em _istranslated="1">IT アクセシビリティに関する法律とポリシー</em>。<a href="https://www.section508.gov/manage/laws-and-policies/" _istranslated="1">https://www.section508.gov/manage/laws-and-policies/</a> で入手可能</p>

<p _msttexthash="1086375160" _msthash="1347"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SD-JWT" name="ref-SD-JWT" _istranslated="1">[SD-JWT]</a>Fett D, Yasuda K, Campbell B (2025) JWT の選択的開示 (SD-JWT).(インターネット エンジニアリング タスク フォース、バージニア州レストン)。インターネットの下書き。<a href="https://datatracker.ietf.org/doc/draft-ietf-oauth-selective-disclosure-jwt/" _istranslated="1">https://datatracker.ietf.org/doc/draft-ietf-oauth-selective-disclosure-jwt/</a> で入手可能</p>

<p _msttexthash="909490361" _msthash="1348"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SP800-52" name="ref-SP800-52" _istranslated="1">【SP800-52】</a>McKay K、Cooper D(2019)トランスポート層セキュリティ(TLS)実装の選択、構成、および使用に関するガイドライン。(米国国立標準技術研究所)、NIST Special Publication (SP) NIST SP 800-52r2。<a href="https://doi.org/10.6028/NIST.SP.800-52r2" _istranslated="1">https://doi.org/10.6028/NIST.SP.800-52r2</a></p>

<p _msttexthash="1382420533" _msthash="1349"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SP800-53" name="ref-SP800-53" _istranslated="1">【SP800-53】</a>合同タスクフォース(2020)情報システムおよび組織のセキュリティとプライバシー管理。(National Institute of Standards and Technology、メリーランド州ゲイザーズバーグ)、NIST Special Publication (SP) NIST SP 800-53r5、2020 年 12 月 10 日現在の更新が含まれています。<a href="https://doi.org/10.6028/NIST.SP.800-53r5" _istranslated="1">https://doi.org/10.6028/NIST.SP.800-53r5</a></p>

<p _msttexthash="663426803" _msthash="1350"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SP800-57P1" name="ref-SP800-57P1" _istranslated="1">[SP800-57その1]</a>Barker EB(2020)キー管理に関する推奨事項:パート1–一般。(国立標準技術研究所、メリーランド州ゲイザーズバーグ)、NIST Special Publication (SP) NIST SP 800-57pt1r5。<a href="https://doi.org/10.6028/NIST.SP.800-57pt1r5" _istranslated="1">https://doi.org/10.6028/NIST.SP.800-57pt1r5</a></p>

<p _msttexthash="1131235768" _msthash="1351"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SP800-63" name="ref-SP800-63" _istranslated="1">【SP800-63】</a>Temoshok D、Galluzzo R、LaSalle C、Lefkovitz N、Regenscheid A、Choong YY、Proud-Madruga D、Gupta S (2025) デジタル ID ガイドライン。(国立標準技術研究所、メリーランド州ゲイザーズバーグ)、NIST Special Publication (SP) NIST SP 800-63-4。<a href="https://doi.org/10.6028/NIST.SP.800-63-4" _istranslated="1">https://doi.org/10.6028/NIST.SP.800-63-4</a></p>

<p _msttexthash="1486204876" _msthash="1352"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SP800-63A" name="ref-SP800-63A" _istranslated="1">【SP800-63A】</a>Temoshok D、Abruzzi C、Choong YY、Fenton JL、Galluzzo R、LaSalle C、Lefkovitz N、Regenscheid A、Vachino M (2025) デジタル ID ガイドライン: ID 証明と登録。(国立標準技術研究所、メリーランド州ゲイザーズバーグ)、NIST Special Publication (SP) NIST SP 800-63A-4。<a href="https://doi.org/10.6028/NIST.SP.800-63A-4" _istranslated="1">https://doi.org/10.6028/NIST.SP.800-63A-4</a></p>

<p _msttexthash="1378176163" _msthash="1353"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SP800-63B" name="ref-SP800-63B" _istranslated="1">【SP800-63B】</a>Temoshok D、Fenton JL、Choong YY、Lefkovitz N、Regenscheid A、Galluzzo R、Richer JP (2025) デジタル ID ガイドライン: 認証と認証管理。(国立標準技術研究所、メリーランド州ゲイザーズバーグ)、NIST Special Publication (SP) NIST SP 800-63B-4。<a href="https://doi.org/10.6028/NIST.SP.800-63B-4" _istranslated="1">https://doi.org/10.6028/NIST.SP.800-63B-4</a></p>

<p _msttexthash="740497160" _msthash="1354"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SP800-131A" name="ref-SP800-131A" _istranslated="1">【SP800-131A】</a>バーカーE、
Roginsky A(2019)暗号化アルゴリズムとキー長の使用の移行。(国立標準技術研究所、メリーランド州ゲイザーズバーグ)、NIST Special Publication (SP) NIST SP 800-131Ar2。<a href="https://doi.org/10.6028/NIST.SP.800-131Ar2" _istranslated="1">https://doi.org/10.6028/NIST.SP.800-131Ar2</a></p>

<p _msttexthash="517185539" _msthash="1355"><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-VC" name="ref-VC" _istranslated="1">[VC]</a> Sporny M、Longley D、Chadwick D. (2022) 検証可能な資格情報データ モデル v1.1。(World Wide Web Consortium (W3C))、W3C 勧告。<a href="https://www.w3.org/TR/vc-data-model/" _istranslated="1">https://www.w3.org/TR/vc-data-model/</a> で入手可能</p>

<h1 id="abbr" data-section="A"><font _mstmutation="1" _msttexthash="46897370" _msthash="1356">記号、略語、頭字語のリスト</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#abbr" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h1>

<dl>
  <dt _msttexthash="1633307" _msthash="1357">AALの</dt>
  <dd _msttexthash="19758635" _msthash="1358">認証保証レベル</dd>
  <dt _msttexthash="5513235" _msthash="1359">アバック</dt>
  <dd _msttexthash="31301803" _msthash="1360">属性ベースのアクセス制御</dd>
  <dt _msttexthash="22776" _msthash="1361">API</dt>
  <dd _msttexthash="67273440" _msthash="1362">アプリケーションプログラミングインターフェース</dd>
  <dt _msttexthash="4137159" _msthash="1363">中国</dt>
  <dd _msttexthash="5106413" _msthash="1364">俗称</dd>
  <dt _msttexthash="24089" _msthash="1365">CSP</dt>
  <dd _msttexthash="37071489" _msthash="1366">資格情報サービスプロバイダー</dd>
  <dt _msttexthash="1806337" _msthash="1367">CSRFの</dt>
  <dd _msttexthash="41387021" _msthash="1368">クロスサイトリクエストフォージェリ</dd>
  <dt _msttexthash="3897478" _msthash="1369">ファル</dt>
  <dd _msttexthash="33791693" _msthash="1370">フェデレーション保証レベル</dd>
  <dt _msttexthash="9264255" _msthash="1371">フェドランプ</dt>
  <dd _msttexthash="60763131" _msthash="1372">連邦リスクおよび認可管理プログラム</dd>
  <dt _msttexthash="1807026" _msthash="1373">FIPSの</dt>
  <dd _msttexthash="30416659" _msthash="1374">連邦情報処理標準</dd>
  <dt _msttexthash="5512598" _msthash="1375">アイアル</dt>
  <dd _msttexthash="12864319" _msthash="1376">ID 保証レベル</dd>
  <dt _msttexthash="26403" _msthash="1377">IdP</dt>
  <dd _msttexthash="11225656" _msthash="1378">ID プロバイダー</dd>
  <dt _msttexthash="1637350" _msthash="1379">JWTの</dt>
  <dd _msttexthash="10159279" _msthash="1380">JSON Web トークン</dd>
  <dt _msttexthash="3894813" _msthash="1381">マック</dt>
  <dd _msttexthash="26135928" _msthash="1382">メッセージ認証コード</dd>
  <dt _msttexthash="1804361" _msthash="1383">OIDCの</dt>
  <dd _msttexthash="9474439" _msthash="1384">OpenID コネクト</dd>
  <dt _msttexthash="2413580" _msthash="1385">ぴあ</dt>
  <dd _msttexthash="31617508" _msthash="1386">プライバシー影響評価</dd>
  <dt _msttexthash="2440724" _msthash="1387">ピン</dt>
  <dd _msttexthash="18519605" _msthash="1388">個人識別番号</dd>
  <dt _msttexthash="23621" _msthash="1389">PKI</dt>
  <dd _msttexthash="33847463" _msthash="1390">公開鍵インフラストラクチャ</dd>
  <dt _msttexthash="24141" _msthash="1391">PPI</dt>
  <dd _msttexthash="29544723" _msthash="1392">ペアワイズ仮名識別子</dd>
  <dt _msttexthash="15782" _msthash="1393">RP</dt>
  <dd _msttexthash="8867612" _msthash="1394">利用者</dd>
  <dt _msttexthash="33202" _msthash="1395">SAML</dt>
  <dd _msttexthash="68785691" _msthash="1396">セキュリティ アサーション マークアップ言語</dd>
  <dt _msttexthash="1806870" _msthash="1397">SAOPの</dt>
  <dd _msttexthash="43514198" _msthash="1398">プライバシー担当上級機関</dd>
  <dt _msttexthash="2436109" _msthash="1399">シム</dt>
  <dd _msttexthash="37204115" _msthash="1400">クロスドメインID管理システム</dd>
  <dt _msttexthash="2438631" _msthash="1401">ソン</dt>
  <dd _msttexthash="43353557" _msthash="1402">記録システムに関する通知</dd>
  <dt _msttexthash="1636999" _msthash="1403">TLSの</dt>
  <dd _msttexthash="36120058" _msthash="1404">トランスポート層のセキュリティ</dd>
  <dt _msttexthash="1638091" _msthash="1405">XSSの</dt>
  <dd _msttexthash="30673162" _msthash="1406">クロスサイトスクリプティング</dd>
</dl>

<h1 id="def-and-acr" data-section="B"><font _mstmutation="1" _msttexthash="10935782" _msthash="1407">用語集</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#def-and-acr" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h1>

<p><em _msttexthash="33744646" _msthash="1408">このセクションは有益です。</em></p>

<p _msttexthash="2340265187" _msthash="1409">デジタル ID の分野では、さまざまな用語が使用されています。多くの定義は以前のバージョンの SP 800-63 と一致していますが、このリビジョンでは一部が変更されています。これらの用語の多くは、単一の一貫した定義を欠いているため、ここでの用語の定義方法に細心の注意を払う必要があります。</p>

<dl>
  <dt _msttexthash="16061851" _msthash="1410">アカウントのリンク</dt>
  <dd _msttexthash="382465668" _msthash="1411">複数の<em _istranslated="1">フェデレーション識別子</em>と 1 つの <em _istranslated="1">RP サブスクライバ アカウント</em>の関連付け、またはそれらの関連付けの管理。</dd>
  <dt _msttexthash="20254377" _msthash="1412">アカウントの解決</dt>
  <dd _msttexthash="621735504" _msthash="1413"><em _istranslated="1">RP サブスクライバ アカウント</em>と、<em _istranslated="1">フェデレーション トランザクション</em>の前、<em _istranslated="1">および信頼契約</em>の外部で <em _istranslated="1">RP</em> によってすでに保持されている情報との関連付け。</dd>
  <dt _msttexthash="13960947" _msthash="1414">活性化係数</dt>
  <dd _msttexthash="279764888" _msthash="1415"><em _istranslated="1">多要素認証システム</em>による<em _istranslated="1">認証</em>の成功を可能にするために使用される追加の<em _istranslated="1">認証要素</em>。</dd>
  <dt _msttexthash="10326303" _msthash="1416">許可リスト</dt>
  <dd _msttexthash="1914532555" _msthash="1417">ポリシーの決定ごとに許可される特定の要素の文書化されたリスト。<em _istranslated="1">フェデレーション</em> コンテキストでは、<em _istranslated="1">これは、加入者の</em>介入なしに <em _istranslated="1">IdP</em> への接続が許可されている <em _istranslated="1">RP</em> のリストを参照するために最も一般的に使用されます。この概念は、歴史的に<em _istranslated="1">ホワイトリスト</em>として知られてきました。</dd>
  <dt _msttexthash="22418214" _msthash="1418">承認された暗号化</dt>
  <dd _msttexthash="1433144895" _msthash="1419">暗号化アルゴリズム、<em _istranslated="1">ハッシュ関数</em>、ランダム ビット ジェネレーター、または<em _istranslated="1">連邦情報処理標準</em> (FIPS) が承認または NIST が推奨する同様の技術。承認されたアルゴリズムと手法は、FIPS または NIST の推奨事項で指定または採用されています。</dd>
  <dt _msttexthash="4357249" _msthash="1420">主張</dt>
  <dd _msttexthash="1126330465" _msthash="1421"><em _istranslated="1">IdP</em> から <em _istranslated="1">RP</em> へのステートメントで、<em _istranslated="1">加入者の</em>認証イベントに関する情報が含まれています。アサーションには、サブスクライバーの ID <em _istranslated="1">属性</em>を属性値、派生属性値、および属性バンドルの形式で含めることもできます。</dd>
  <dt _msttexthash="45127550" _msthash="1422">アサーションインジェクション攻撃</dt>
  <dd _msttexthash="2203958068" _msthash="1423">フェデレーテッド プロトコルのコンテキストでは、攻撃者が RP にアクセスしたり、<em _istranslated="1">RP</em> へのアクセスを拒否したりするために、RP に<em _istranslated="1">アサーション</em>または<em _istranslated="1">アサーション参照</em>を受け入れたり処理させたりしようとします。<em _istranslated="1"></em>攻撃者は、アサーションまたはアサーション参照を取得し、脆弱な RP に挿入することでこれを行います。</dd>
  <dt _msttexthash="18170529" _msthash="1424">アサーション参照</dt>
  <dd _msttexthash="503382113" _msthash="1425"><em _istranslated="1">アサーション</em>と組み合わせて作成され、<em _istranslated="1">認証された保護</em>チャネルを介してアサーションを取得するために <em _istranslated="1">RP</em> によって使用されるデータ オブジェクト。</dd>
  <dt _msttexthash="34144838" _msthash="1426">アサーションプレゼンテーション</dt>
  <dd _msttexthash="56186247" _msthash="1427"><em _istranslated="1">アサーション</em>が <em _istranslated="1">RP</em> に送信される方法。</dd>
  <dt _msttexthash="13040872" _msthash="1428">非対称キー</dt>
  <dd _msttexthash="658531614" _msthash="1429"><em _istranslated="1">公開鍵</em>と<em _istranslated="1">秘密鍵</em>で構成される 2 つの<em _istranslated="1">関連する暗号化鍵</em>は、暗号化と復号化、署名の検証と生成などの補完的な操作を実行するために使用されます。</dd>
  <dt _msttexthash="4711746" _msthash="1430">属性</dt>
  <dd _msttexthash="410191860" _msthash="1431">誰かまたは何かに起因する品質または特性。ID 属性は、<em _istranslated="1">加入者の</em> ID (名前、生年月日、住所など) に関する属性です。</dd>
  <dt _msttexthash="11542323" _msthash="1432">属性バンドル</dt>
  <dd _msttexthash="1452365304" _msthash="1433"><em _istranslated="1">属性値</em>と <em _istranslated="1">CSP</em> から<em _istranslated="1">派生した属性値</em>のパッケージ。パッケージには、CSP または <em _istranslated="1">IdP</em> との対話とは無関係にバンドルの<em _istranslated="1">検証</em>を可能にするために必要な暗号化保護があります。属性バンドルは、加入者が管理するウォレットでよく使用されます。</dd>
  <dt _msttexthash="13641407" _msthash="1434">属性プロバイダ</dt>
  <dd _msttexthash="417159769" _msthash="1435"><em _istranslated="1">サブスクライバ</em>が <em _istranslated="1">RP</em> に存在することを必ずしもアサートすることなく、サブスクライバの<em _istranslated="1">属性</em>へのアクセスを提供する <em _istranslated="1">ID API</em> のプロバイダー。</dd>
  <dt _msttexthash="7112118" _msthash="1436">属性値</dt>
  <dd _msttexthash="477647287" _msthash="1437">フォーマットとは無関係に、<em _istranslated="1">サブスクライバ</em>の ID 属性をアサートする完全なステートメント。たとえば、<em _istranslated="1">属性</em> "birthday" の場合、値は "12/1/1980" または "December 1, 1980" です。</dd>
  <dt _msttexthash="20339137" _msthash="1438">対象者の制限</dt>
  <dd _msttexthash="1904617585" _msthash="1439">受信者が別の受信者宛てのメッセージを無意識のうちに<em _istranslated="1">処理</em>しないように、特定のターゲット オーディエンスにメッセージを制限すること。<em _istranslated="1">フェデレーション プロトコル</em>では、<em _istranslated="1">アサーション</em>は特定の <em _istranslated="1">RP</em> にオーディエンス制限され、RP が別の RP に対して生成されたアサーションを受け入れないようにします。</dd>
  <dt _msttexthash="6908031" _msthash="1440">認証</dt>
  <dd _msttexthash="32171906" _msthash="1441">認証<em _istranslated="1">を参照してください。</em></dd>
</dl>

<div latex-literal="true" class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\clearpage
</code></pre></div></div>

<dl>
  <dt _msttexthash="31043402" _msthash="1442">認証された保護チャネル</dt>
  <dd _msttexthash="11881906400" _msthash="1443">接続イニシエーター (クライアント) が受信者 (サーバー) を<em _istranslated="1">認証</em>した承認<em _istranslated="1">された暗号化</em>を使用する暗号化通信チャネル。認証された保護されたチャネルは、機密性とアクティブな仲介者に対する保護を提供するために暗号化され、ユーザー<em _istranslated="1">認証</em>プロセスで頻繁に使用されます。<em _istranslated="1">トランスポート層セキュリティ</em> (TLS) とデータグラム トランスポート層セキュリティ (DTLS) <a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-RFC9325" _istranslated="1">[RFC9325]</a> は、受信者によって提示された証明書がイニシエータによって検証される認証された保護チャネルの例です。特に指定がない限り、認証された保護チャネルでは、サーバーがクライアントを認証する必要はありません。サーバーの認証は、多くの場合、各サーバーで個別にではなく、信頼できるルートにつながる証明書チェーンを介して行われます。</dd>
  <dt _msttexthash="23115183" _msthash="1444">認証されたセッション</dt>
  <dd _msttexthash="62586602" _msthash="1445"><em _istranslated="1">保護されたセッション</em>を参照してください。</dd>
  <dt _msttexthash="6908031" _msthash="1446">認証</dt>
  <dd _msttexthash="701870104" _msthash="1447"><em _istranslated="1">請求者が</em>、<em _istranslated="1">加入者アカウント</em>にバインドされた 1 つ以上の<em _istranslated="1">認証者の</em>所有と制御を証明し、そのアカウントに関連付けられた<em _istranslated="1">加入者</em>であることを証明するプロセス。</dd>
  <dt _msttexthash="19818500" _msthash="1448">認証保証レベル(AAL)</dt>
  <dd _msttexthash="68896191" _msthash="1449"><em _istranslated="1">認証</em>プロセスの強度を記述するカテゴリ。</dd>
  <dt _msttexthash="9996168" _msthash="1450">認証キー</dt>
  <dd _msttexthash="295340435" _msthash="1451">オーセンティケーターがオーセンティケーター出力を生成するために使用する秘密キーまたは対称キー。</dd>
  <dt _msttexthash="6908031" _msthash="1452">認証</dt>
  <dd _msttexthash="1039932842" _msthash="1453"><em _istranslated="1">加入者が</em>所有および制御するもの (<em _istranslated="1">暗号化モジュール</em>や<em _istranslated="1">パスワード</em>など) で、<em _istranslated="1">要求者の</em> ID <em _istranslated="1">を認証</em>するために使用されるもの。<em _istranslated="1">「認証システムの種類</em>」と<em _istranslated="1">「多要素認証システム」</em>を参照してください。</dd>
  <dt _msttexthash="45288087" _msthash="1454">オーセンティケーターのバインディング</dt>
  <dd _msttexthash="870414883" _msthash="1455">特定の<em _istranslated="1">オーセンティケーター</em>と<em _istranslated="1">サブスクライバーアカウント</em>の間に関連付けが確立され、<em _istranslated="1">オーセンティケーター</em>がアカウントに関連付けられた<em _istranslated="1">サブスクライバー</em>を認証できる場合があります。</dd>
  <dt _msttexthash="8517574" _msthash="1456">許可する</dt>
  <dd _msttexthash="241942597" _msthash="1457">アクセスを許可する決定で、通常は<em _istranslated="1">サブジェクト</em>の<em _istranslated="1">属性</em>を評価することで自動化されます。</dd>
</dl>

<div latex-literal="true" class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\clearpage
</code></pre></div></div>

<dl>
  <dt _msttexthash="24478311" _msthash="1458">権限のある当事者</dt>
  <dd _msttexthash="2315921101" _msthash="1459"><em _istranslated="1">フェデレーション</em>では、<em _istranslated="1">フェデレーション・トランザクション</em>内の情報 (特にサブスクライバー<em _istranslated="1">属性</em>) のリリースに関する決定を行う責任を負う組織、個人、またはエンティティー。これは多くの場合、<em _istranslated="1">サブスクライバー</em> (ランタイム決定が使用される場合) または <em _istranslated="1">IdP</em> を操作するパーティ (<em _istranslated="1">許可リスト</em>が使用される場合) です。</dd>
  <dt _msttexthash="22072544" _msthash="1460">バックチャネル通信</dt>
  <dd _msttexthash="327118480" _msthash="1461">ブラウザーなどの仲介者を介したリダイレクトを使用せずに直接接続に依存する 2 つのシステム間の通信。</dd>
  <dt _msttexthash="18690061" _msthash="1462">ベアラーアサーション</dt>
  <dd _msttexthash="121152382" _msthash="1463">発表者の身元の証明として単独で提示できる<em _istranslated="1">アサーション</em>。</dd>
  <dt _msttexthash="11367889" _msthash="1464">ブロックリスト</dt>
  <dd _msttexthash="495678391" _msthash="1465">ポリシーの決定ごとにブロックされる特定の要素の文書化されたリスト。この概念は、歴史的に「ブラックリスト」として知られていました。</dd>
  <dt _msttexthash="41379377" _msthash="1466">バインドされたオーセンティケーター</dt>
  <dd _msttexthash="627780517" _msthash="1467">FAL3 でのアサーションに加えて、RP によって検証された<em _istranslated="1">オーセンティケーター</em>。バインドされたオーセンティケーターは、<em _istranslated="1">RP サブスクライバー アカウント</em>にバインドされます。</dd>
  <dt _msttexthash="8395829" _msthash="1468">コア属性</dt>
  <dd _msttexthash="228606131" _msthash="1469"><em _istranslated="1">CSP</em> が <em _istranslated="1">ID 証明</em>とサービスの提供に必要であると判断し、文書化した一連の ID <em _istranslated="1">属性</em>。</dd>
  <dt _msttexthash="37164673" _msthash="1470">資格情報サービス プロバイダー (CSP)</dt>
  <dd _msttexthash="937464931" _msthash="1471">ID サービスへの <em _istranslated="1">ID 証明</em><em _istranslated="1">申請</em>者や<em _istranslated="1">サブスクライバー アカウント</em>への<em _istranslated="1">オーセンティケーター</em>の登録などの機能を持つ信頼できるエンティティ。CSP は、独立したサード パーティである可能性があります。</dd>
  <dt _msttexthash="49505079" _msthash="1472">クロスサイト・リクエスト・フォージェリ (CSRF)</dt>
  <dd _msttexthash="4509531884" _msthash="1473">現在 <em _istranslated="1">RP</em> に<em _istranslated="1">認証され</em>、セキュア セッションを介して接続されている<em _istranslated="1">加入者が</em>攻撃者の Web サイトを閲覧し、加入者が知らず知らずのうちに RP で望ましくないアクションを呼び出す攻撃。たとえば、銀行の Web サイトが CSRF 攻撃に対して脆弱である場合、加入者が別のブラウザ ウィンドウで銀行への接続が開いているときに、電子メール内の悪意のあるリンクをクリックすると、意図せずに多額の送金を<em _istranslated="1">承認</em>する可能性があります。</dd>
  <dt _msttexthash="30773288" _msthash="1474">クロスサイトスクリプティング (XSS)</dt>
  <dd _msttexthash="3433050985" _msthash="1475">攻撃者が無害な Web サイトに悪意のあるコードを挿入できる脆弱性。これらのスクリプトは、ターゲット Web サイトによって生成されたスクリプトの権限を取得し、Web サイトとクライアント間のデータ転送の機密性と整合性を侵害します。Web サイトは、実行可能にならないようにデータをサニタイズせずに、リクエストまたはフォームからユーザー提供のデータを表示する場合、脆弱です。</dd>
  <dt _msttexthash="10527153" _msthash="1476">暗号化キー</dt>
  <dd _msttexthash="1902525443" _msthash="1477">暗号化解除、暗号化、署名生成、署名検証などの暗号化操作を制御するために使用される値。これらのガイドラインの目的上、キー要件は<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SP800-57P1" _istranslated="1">、[SP800-57パート1]</a>の表2に記載されている最小要件を満たす必要があります。<em _istranslated="1">「非対称キー</em>」または<em _istranslated="1">「対称キー」</em>を参照してください。</dd>
  <dt _msttexthash="10365719" _msthash="1478">復号化キー</dt>
  <dd _msttexthash="899775396" _msthash="1479">暗号化されたペイロードの復号化に使用される暗号化キー。非対称暗号化では、復号化キーは暗号化キー ペアの<em _istranslated="1">秘密キー</em>を参照します。対称暗号化では、復号化キーは<em _istranslated="1">対称キー</em>です。</dd>
  <dt _msttexthash="14563458" _msthash="1480">派生属性値</dt>
  <dd _msttexthash="3863596399" _msthash="1481">形式に関係なく、派生元の属性値を含まずに、<em _istranslated="1">サブスクライバー</em>の限定された ID <em _istranslated="1">属性</em>をアサートするステートメント。たとえば、属性 "birthday" を要求する代わりに、派生値を "18 歳以上" にすることができます。"物理的な住所" の属性を要求する代わりに、派生値を "現在この地区に居住している" にすることができます。これらのガイドラインの以前のバージョンでは、この構造を "属性参照" と呼んでいました。</dd>
  <dt _msttexthash="24332763" _msthash="1482">デジタルアイデンティティ</dt>
  <dd _msttexthash="199437199" _msthash="1483">特定のコンテキスト内の<em _istranslated="1">サブジェクト</em>を一意に記述する<em _istranslated="1">属性</em>または属性のセット。</dd>
  <dt _msttexthash="13543608" _msthash="1484">デジタル署名</dt>
  <dd _msttexthash="1469180869" _msthash="1485"><em _istranslated="1">秘密キー</em>を使用してデータにデジタル署名し、<em _istranslated="1">公開キー</em>を使用して署名を検証する非<em _istranslated="1">対称キー</em>操作。デジタル署名は、<em _istranslated="1">信頼性</em>保護、整合性保護、否認<em _istranslated="1">防止</em>のサポートを提供しますが、機密性や<em _istranslated="1">リプレイ攻撃</em>の保護は提供しません。</dd>
  <dt _msttexthash="14916538" _msthash="1486">非解離性</dt>
  <dd _msttexthash="323248224" _msthash="1487">システムの動作要件を超えて、個人やデバイスに関連付けることなく、<em _istranslated="1">個人情報</em>や<em _istranslated="1">イベントを処理すること</em>。<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-NISTIR8062" _istranslated="1">[NISTIR8062]</a></dd>
  <dt _msttexthash="10527153" _msthash="1488">暗号化キー</dt>
  <dd _msttexthash="787284173" _msthash="1489">ペイロードの暗号化に使用される暗号化キー。非対称暗号化では、暗号化キーは暗号化キー ペアの<em _istranslated="1">公開キー</em>を参照します。対称暗号化では、暗号化キーは<em _istranslated="1">対称キー</em>です。</dd>
</dl>

<div latex-literal="true" class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\clearpage
</code></pre></div></div>

<dl>
  <dt _msttexthash="9269806" _msthash="1490">エントロピー</dt>
  <dd _msttexthash="1192733438" _msthash="1491">攻撃者がシークレットの価値を判断するために直面する不確実性の量。エントロピーは通常ビットで表されます。n<em _istranslated="1">ビットの</em>エントロピーを持つ値は、一様に分布した<em _istranslated="1">n</em>ビットランダム値と同じ程度の不確実性を持ちます。</dd>
  <dt _msttexthash="30505033" _msthash="1492">連邦情報処理標準 (FIPS)</dt>
  <dd _msttexthash="1974969230" _msthash="1493">米国商務省の一部であるNISTによって開発された、連邦省庁による採用および使用に関する標準。FIPS は、共通のレベルの品質、セキュリティ、相互運用性を達成するために、情報技術のトピックに対処します。FIPS ドキュメントは、FIPS ホームページ <a href="https://www.nist.gov/itl/fips.cfm" _istranslated="1">https://www.nist.gov/itl/fips.cfm</a> からオンラインで入手できます。</dd>
  <dt _msttexthash="30141839" _msthash="1494">フェデレーテッド識別子</dt>
  <dd _msttexthash="1130574484" _msthash="1495"><em _istranslated="1">アサーション</em>内の<em _istranslated="1">サブジェクト識別子</em>と、そのアサーションを発行した <em _istranslated="1">IdP</em> の<em _istranslated="1">識別子</em>の組み合わせ。これらの情報を組み合わせると、<em _istranslated="1">フェデレーション トランザクション</em>のコンテキストで<em _istranslated="1">サブスクライバー</em>を一意に識別します。</dd>
  <dt _msttexthash="13657059" _msthash="1496">フェデレーション</dt>
  <dd _msttexthash="177364850" _msthash="1497">一連の<em _istranslated="1">ネットワークシステム</em>間で ID および<em _istranslated="1">認証</em>情報を伝達できるプロセス。</dd>
  <dt _msttexthash="33875309" _msthash="1498">フェデレーション保証レベル (FAL)</dt>
  <dd _msttexthash="457461862" _msthash="1499"><em _istranslated="1">認証</em>イベントとサブスクライバ<em _istranslated="1">属性</em>を <em _istranslated="1">RP</em> に伝達するために<em _istranslated="1">フェデレーショントランザクション</em>で使用されるプロセスを記述するカテゴリ。</dd>
  <dt _msttexthash="26934752" _msthash="1500">フェデレーション機関</dt>
  <dd _msttexthash="1139789144" _msthash="1501">フェデレーション当事者間の 1 つ以上の<em _istranslated="1">信託契約</em>の確立と管理を促進する当事者。フェデレーション機関は、<em _istranslated="1">フェデレーション プロキシ</em>、検出と登録のサポート、適合性評価など、他のサービスも提供できます。</dd>
  <dt _msttexthash="27470651" _msthash="1502">フェデレーションプロトコル</dt>
  <dd _msttexthash="242142004" _msthash="1503"><em _istranslated="1">ネットワーク・</em>システム間の<em _istranslated="1">フェデレーション・トランザクション</em>で使用される技術プロトコル。</dd>
  <dt _msttexthash="24372439" _msthash="1504">フェデレーション プロキシ</dt>
  <dd _msttexthash="921140064" _msthash="1505">一連の <em _istranslated="1">IdP</em> に対する論理 <em _istranslated="1">RP</em> として、および一連の RP に対する論理 IdP として機能し、2 つのシステムを 1 つのコンポーネントでブリッジするコンポーネント。これらは「ブローカー」と呼ばれることもあります。</dd>
  <dt _msttexthash="41451319" _msthash="1506">フェデレーション・トランザクション</dt>
  <dd _msttexthash="547121640" _msthash="1507"><em _istranslated="1">IdP</em> から <em _istranslated="1">RP</em> に<em _istranslated="1">アサーション</em>を伝達することにより、特定の<em _istranslated="1">加入者の</em><em _istranslated="1">フェデレーション</em>プロセスを使用して認証<em _istranslated="1">を処理する</em>特定のインスタンス。</dd>
  <dt _msttexthash="25104326" _msthash="1508">フロントチャネル通信</dt>
  <dd _msttexthash="455104975" _msthash="1509">加入者のブラウザを介したリダイレクトを使用するなど、仲介者を介したメッセージの受け渡しに依存する 2 <em _istranslated="1"></em>つのシステム間の通信。</dd>
  <dt _msttexthash="5675215" _msthash="1510">汎用 IdP</dt>
  <dd _msttexthash="537895254" _msthash="1511"><em _istranslated="1">加入者の</em>デバイスとは別に収容され、実行される <em _istranslated="1">IdP</em> (リモート サービスなど)。多くの場合、汎用 IdP は複数のサブスクライバを表すことができます。</dd>
  <dt _msttexthash="15050360" _msthash="1512">ハッシュ関数</dt>
  <dd><font _mstmutation="1" _msttexthash="465090613" _msthash="1513">任意の長さのビット文字列を固定長のビット文字列にマップする関数。承認されたハッシュ関数は、次のプロパティを満たします。</font><ol>
      <li>
        <p _msttexthash="289839888" _msthash="1514">一方向 — 事前に指定された出力にマップされる入力を見つけることは、計算上実行不可能です。</p>
      </li>
      <li>
        <p _msttexthash="321299394" _msthash="1515">衝突耐性 — 同じ出力にマッピングされる 2 つの異なる入力を見つけることは、計算上実行不可能です。</p>
      </li>
    </ol>
  </dd>
  <dt _msttexthash="8168160" _msthash="1516">識別子</dt>
  <dd _msttexthash="752244298" _msthash="1517">特定のコンテキスト内の単一の一意のエンティティ (個人、デバイス、<em _istranslated="1">セッション</em>など) に関連付けられ、そのコンテキスト内の他のエンティティに割り当てられないデータ オブジェクト。</dd>
  <dt _msttexthash="6914583" _msthash="1518">同一性</dt>
  <dd _msttexthash="46472244" _msthash="1519">「<em _istranslated="1">デジタル ID</em>」を参照してください。</dd>
  <dt _msttexthash="42159" _msthash="1520">ID API</dt>
  <dd _msttexthash="193795095" _msthash="1521">特定の<em _istranslated="1">サブスクライバ</em>の<em _istranslated="1">属性</em>を取得するために <em _istranslated="1">RP</em> によってアクセスされる保護された API。</dd>
  <dt _msttexthash="12925744" _msthash="1522">ID 保証レベル (IAL)</dt>
  <dd _msttexthash="294183864" _msthash="1523"><em _istranslated="1">主体</em>が<em _istranslated="1">主張するアイデンティティ</em>が自分の本当のアイデンティティであるという確信度を伝えるカテゴリー。</dd>
  <dt _msttexthash="11299587" _msthash="1524">ID プロバイダー (IdP)</dt>
  <dd _msttexthash="334116250" _msthash="1525"><em _istranslated="1">サブスクライバ</em>の<em _istranslated="1">アサーション</em>を作成し、そのアサーションを <em _istranslated="1">RP</em> に送信する<em _istranslated="1">フェデレーション トランザクション</em>のパーティ。</dd>
  <dt _msttexthash="5521945" _msthash="1526">ログイン</dt>
  <dd _msttexthash="363425738" _msthash="1527">ユーザーとシステム間の<em _istranslated="1">認証済み</em><em _istranslated="1">セッション</em>の確立。「サインイン」、「ログオン」、または「サインオン」とも呼ばれます。</dd>
  <dt _msttexthash="26207454" _msthash="1528">メッセージ認証コード(MAC)</dt>
  <dd _msttexthash="976367093" _msthash="1529"><em _istranslated="1">対称キー</em>を使用して、データの偶発的および意図的な変更の両方を検出するデータの暗号化チェックサム。MAC は<em _istranslated="1">、信頼性</em>と整合性の保護を提供しますが、<em _istranslated="1">否認防止保護は</em>提供しません。</dd>
  <dt _msttexthash="9262149" _msthash="1530">ネットワーク</dt>
  <dd _msttexthash="2714214906" _msthash="1531"><em _istranslated="1">請求者</em>と他の当事者の間でメッセージを転送するために使用されるオープン通信媒体(通常はインターネット)。特に明記されていない限り、ネットワークはオープンであり、当事者間の任意の時点でアクティブ(なりすまし、<em _istranslated="1">セッション</em>ハイジャックなど)および受動的(盗聴など)攻撃を受けると想定されます(例:請求者、<em _istranslated="1">検証者</em>、<em _istranslated="1">CSP</em>、<em _istranslated="1">RP)。</em></dd>
  <dt _msttexthash="3899155" _msthash="1532">ナンス</dt>
  <dd _msttexthash="3671458661" _msthash="1533">セキュリティー・プロトコルで使用される値で、同じキーで繰り返されることはない。たとえば、<em _istranslated="1">チャレンジ/レスポンス認証プロトコル</em>でチャレンジとして使用されるナンスは、<em _istranslated="1">認証キーが</em>変更されるまで繰り返さないでください。そうしないと、<em _istranslated="1">リプレイ攻撃</em>の可能性があります。ナンスは必ずしも予測不可能ではないため、ナンスをチャレンジとして使用することは、ランダムチャレンジとは異なる要件です。</dd>
  <dt _msttexthash="29544723" _msthash="1534">ペアワイズ仮名識別子</dt>
  <dd _msttexthash="140981022" _msthash="1535">特定の <em _istranslated="1">RP</em> で使用するために IdP によって生成される仮<em _istranslated="1">名識別子</em>。</dd>
  <dt _msttexthash="9794148" _msthash="1536">個人情報</dt>
  <dd _msttexthash="561721836" _msthash="1537">単独で、または特定の個人にリンクまたはリンク可能な他の情報と組み合わせて、個人の身元を識別または追跡するために使用できる情報。</dd>
  <dt _msttexthash="4762680" _msthash="1538">予測</dt>
  <dd _msttexthash="399746672" _msthash="1539">個人、所有者、および事業者が、<em _istranslated="1">個人情報</em>および情報システムによる<em _istranslated="1">その処理</em>について信頼できる仮定を可能にします。<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-NISTIR8062" _istranslated="1">[NISTIR8062]</a></dd>
  <dt _msttexthash="9698481" _msthash="1540">秘密鍵</dt>
  <dd><font _mstmutation="1" _msttexthash="1773301582" _msthash="1541">エンティティに一意に関連付けられ、公開されない公開キー暗号化アルゴリズムで使用される暗号化キー。非対称鍵 (公開鍵) 暗号システムでは、秘密鍵には対応する<em _mstmutation="1" _istranslated="1">公開鍵</em>があります。アルゴリズムによっては、秘密鍵を使用して次のことを行うことができます。</font><ol>
      <li>
        <p _msttexthash="44436171" _msthash="1542">対応する公開鍵を計算し、</p>
      </li>
      <li>
        <p _msttexthash="135109637" _msthash="1543">対応する公開鍵によって検証できるデジタル署名を計算し、</p>
      </li>
      <li>
        <p _msttexthash="111151651" _msthash="1544">対応する公開鍵で暗号化された鍵を復号化する、または</p>
      </li>
      <li>
        <p _msttexthash="158875977" _msthash="1545">キーアグリーメントトランザクション中に共有シークレットを計算します。</p>
      </li>
    </ol>
  </dd>
  <dt _msttexthash="4424680" _msthash="1546">加工</dt>
  <dd _msttexthash="814109504" _msthash="1547"><em _istranslated="1">個人情報</em>の収集、保持、ログ記録、生成、変換、使用、開示、転送、または廃棄を含むがこれらに限定されない、<em _istranslated="1">個人情報</em>に対して実行される操作または一連の操作。<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-NISTIR8062" _istranslated="1">[NISTIR8062]</a></dd>
  <dt _msttexthash="21780759" _msthash="1548">保護されたセッション</dt>
  <dd _msttexthash="5754164403" _msthash="1549">2 人の参加者間のメッセージが暗号化され、整合性が "セッション キー" と呼ばれる一連の<em _istranslated="1">共有シークレット</em>を使用して保護される<em _istranslated="1">セッション</em>。保護されたセッションは、一方の参加者がセッションキーに加えて 1 つ以上の<em _istranslated="1">オーセンティケーター</em>を所有していることを証明し、もう一方のパーティがセッション中にオーセンティケーターに関連付けられた ID を検証できる場合に認証<em _istranslated="1">された</em>と言います。両方の参加者が認証されている場合、保護されたセッションは<em _istranslated="1">相互に認証されている</em>と言われます。</dd>
  <dt _msttexthash="13694564" _msthash="1550">プロビジョニング API</dt>
  <dd _msttexthash="534920178" _msthash="1551">RP <em _istranslated="1">サブスクライバ アカウント</em>のプロビジョニングと管理を目的として、<em _istranslated="1">RP</em> が複数の<em _istranslated="1">サブスクライバ</em>の ID <em _istranslated="1">属性</em>にアクセスできるようにする保護された API。</dd>
  <dt _msttexthash="14326676" _msthash="1552">仮名識別子</dt>
  <dd _msttexthash="549592472" _msthash="1553"><em _istranslated="1">RP</em> が<em _istranslated="1">加入者</em>に関する何も推測できないが、RP が複数の対話を 1 つの加入者に関連付けることを許可する、無意味だが一意の<em _istranslated="1">識別子</em>。</dd>
  <dt _msttexthash="8966373" _msthash="1554">公開キー</dt>
  <dd><font _mstmutation="1" _msttexthash="2048760077" _msthash="1555">エンティティに一意に関連付けられ、公開できる公開キー暗号化アルゴリズムで使用される暗号化キー。非対称鍵 (公開鍵) 暗号システムでは、公開鍵には対応する<em _mstmutation="1" _istranslated="1">秘密鍵</em>があります。公開鍵は誰でも知っている可能性があり、アルゴリズムによっては、次の目的で使用できます。</font><ol>
      <li>
        <p _msttexthash="154079731" _msthash="1556">対応する秘密鍵を使用して生成されたデジタル署名を検証します。</p>
      </li>
      <li>
        <p _msttexthash="141850384" _msthash="1557">対応する秘密鍵を使用して復号化できる鍵を暗号化する、または</p>
      </li>
      <li>
        <p _msttexthash="158875977" _msthash="1558">キーアグリーメントトランザクション中に共有シークレットを計算します。</p>
      </li>
    </ol>
  </dd>
  <dt _msttexthash="22743487" _msthash="1559">公開鍵証明書</dt>
  <dd _msttexthash="1545660753" _msthash="1560">認証局の<em _istranslated="1">秘密鍵</em>によって発行され、デジタル署名されたデジタル文書で、<em _istranslated="1">識別子</em>を加入者の<em _istranslated="1">公開鍵</em>にバインドします。証明書は、証明書で識別された<em _istranslated="1">サブスクライバ</em>が<em _istranslated="1">秘密鍵</em>を単独で制御し、アクセスできることを示します。<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-RFC5280" _istranslated="1">[RFC5280]</a> も参照してください。</dd>
  <dt _msttexthash="33935772" _msthash="1561">公開鍵インフラストラクチャ (PKI)</dt>
  <dd _msttexthash="1179219639" _msthash="1562">証明書と公開鍵と秘密鍵のペアを管理するために使用される一連のポリシー、プロセス、サーバー・プラットフォーム、ソフトウェアおよびワークステーション (<em _istranslated="1">公開鍵証明書の</em>発行、保守、および失効機能を含む)。</dd>
  <dt _msttexthash="9728979" _msthash="1563">再認証</dt>
  <dd _msttexthash="305619639" _msthash="1564">サブ<em _istranslated="1">スクライバー</em>の継続的な存在と、拡張使用<em _istranslated="1">セッション</em>中に<em _istranslated="1">認証</em>される意図を確認するプロセス。</dd>
  <dt _msttexthash="21203078" _msthash="1565">証明書利用者 (RP)</dt>
  <dd _msttexthash="646462115" _msthash="1566">通常、トランザクションを処理したり、情報やシステムへのアクセスを許可したりするために、<em _istranslated="1">加入</em>者の ID に対する<em _istranslated="1">検証者の</em><em _istranslated="1">アサーション</em>に依存するエンティティ。</dd>
  <dt _msttexthash="13243763" _msthash="1567">リプレイ攻撃</dt>
  <dd _msttexthash="684575879" _msthash="1568">攻撃者が、正当な<em _istranslated="1">要求者</em>と<em _istranslated="1">検証者</em>の間で以前にキャプチャされたメッセージを再生して、その要求者になりすまして検証者に、またはその逆を行える攻撃。</dd>
  <dt _msttexthash="11413610" _msthash="1569">リスク評価</dt>
  <dd _msttexthash="3406155857" _msthash="1570">システムの運用から生じる組織の運営(ミッション、機能、イメージ、評判)、組織資産、個人、その他の組織に対するリスクを特定、推定、優先順位付けするプロセス。リスク評価は<em _istranslated="1">リスク管理</em>の一部であり、脅威と脆弱性の分析を組み込み、計画または実施されているセキュリティ<em _istranslated="1">制御</em>によって提供される軽減策を考慮します。これは「リスク分析」と同義です。</dd>
  <dt _msttexthash="12256621" _msthash="1571">リスク管理</dt>
  <dd _msttexthash="2533826685" _msthash="1572">組織の業務(ミッション、機能、イメージ、レピュテーションなど)、組織資産、個人、その他の組織に対する情報セキュリティリスクを管理するプログラムおよびサポートプロセスで、(i)リスク関連活動のコンテキストの確立、(ii)リスクの評価、(iii)リスクの決定後への対応、および(iv)リスクの長期にわたる監視が含まれます。</dd>
  <dt _msttexthash="31665413" _msthash="1573">RPサブスクライバーアカウント</dt>
  <dd _msttexthash="2269569575" _msthash="1574"><em _istranslated="1">IdP</em> からの<em _istranslated="1">サブスクライバ アカウント</em>の RP のビューに基づいて、フェデレーション システムで <em _istranslated="1">RP</em> によって確立および管理されるアカウント。RP サブスクライバ アカウントは 1 つ以上の<em _istranslated="1">フェデレーション識別子</em>に関連付けられており、サブスクライバは IdP との<em _istranslated="1">フェデレーション トランザクション</em>を通じてアカウントにアクセスできます。</dd>
  <dt _msttexthash="24374935" _msthash="1575">セキュリティー・ドメイン</dt>
  <dd _msttexthash="108240496" _msthash="1576">共通の管理およびアクセス制御下にある一連のシステム。</dd>
  <dt _msttexthash="7311967" _msthash="1577">セッション</dt>
  <dd _msttexthash="2663657594" _msthash="1578"><em _istranslated="1">加入者</em>と<em _istranslated="1">エンドポイント</em>(<em _istranslated="1">RP</em> または <em _istranslated="1">CSP</em>)の間の永続的な相互作用。セッションは認証イベントで始まり、セッション終了イベントで終わります。セッションは、加入者のソフトウェア(ブラウザ、アプリケーション、OS など)が RP に提示して、セッションと認証イベントの関連性を証明できるセッション シークレットを使用してバインドされます。</dd>
  <dt _msttexthash="33846358" _msthash="1579">セッションハイジャック攻撃</dt>
  <dd _msttexthash="2240401462" _msthash="1580">後者の2つの当事者間の認証交換が成功した後、攻撃者が<em _istranslated="1">クレーマンと</em><em _istranslated="1">検証者</em>の間に自分自身を挿入できる攻撃。攻撃者は、検証者の<em _istranslated="1">サブスクライバー</em>を装ったり、その逆を行ったりして、<em _istranslated="1">セッション</em> データ交換を制御できます。請求者と <em _istranslated="1">RP</em> の間のセッションも同様に侵害される可能性があります。</dd>
  <dt _msttexthash="8294871" _msthash="1581">署名キー</dt>
  <dd _msttexthash="680096014" _msthash="1582">署名の作成に使用される暗号化キー。非対称暗号化では、署名キーは暗号化キーペアの<em _istranslated="1">秘密キー</em>を参照します。対称暗号化では、署名キーは<em _istranslated="1">対称キー</em>です。</dd>
  <dt _msttexthash="16154840" _msthash="1583">シングルサインオン(SSO)</dt>
  <dd _msttexthash="840771503" _msthash="1584">1 つのアカウントとその<em _istranslated="1">オーセンティケーター</em>を使用して、シームレスな方法で複数のアプリケーションにアクセスする認証プロセスで、通常は<em _istranslated="1">フェデレーション プロトコル</em>で実装されます。</dd>
  <dt _msttexthash="4077242" _msthash="1585">件名</dt>
  <dd _msttexthash="487056245" _msthash="1586">個人、組織、デバイス、ハードウェア、<em _istranslated="1">ネットワーク</em>、ソフトウェア、またはサービス。これらのガイドラインでは、被験者は<em _istranslated="1">自然人</em>です。</dd>
  <dt _msttexthash="7926321" _msthash="1587">加入者</dt>
  <dd _msttexthash="60930311" _msthash="1588"><em _istranslated="1">CSP</em> ID サービスに登録されている個人。</dd>
  <dt _msttexthash="27429883" _msthash="1589">サブスクライバーアカウント</dt>
  <dd _msttexthash="1060776314" _msthash="1590">ID サービスに登録されている各<em _istranslated="1">サブスクライバー</em>に対して <em _istranslated="1">CSP</em> によって確立されたアカウントで、サブスクライバーに関する情報と、サブスクライバーに登録<em _istranslated="1">されているオーセンティケーター</em>のレコードが含まれています。</dd>
  <dt _msttexthash="27647191" _msthash="1591">加入者管理ウォレット</dt>
  <dd _msttexthash="1297338380" _msthash="1592">CSP によって<em _istranslated="1">属性バンドル</em>が発行される <em _istranslated="1">IdP</em> のタイプ。加入者制御のデバイス (<em _istranslated="1">デジタル ウォレット</em>と呼ばれることもあります) またはリモート サービス (<em _istranslated="1">クラウド ウォレット</em>と呼ばれることもあります) として格納される加入者制御のウォレット。</dd>
  <dt _msttexthash="8477651" _msthash="1593">対称キー</dt>
  <dd _msttexthash="647711623" _msthash="1594">暗号化操作とその逆操作の両方を実行するために使用される<em _istranslated="1">暗号化キー</em> (たとえば、暗号化と復号化、<em _istranslated="1">またはメッセージ認証コード</em>の作成とコードの検証)。</dd>
  <dt _msttexthash="17128514" _msthash="1595">技術プロファイル</dt>
  <dd _msttexthash="416469911" _msthash="1596">プロトコルまたは標準の機能の完全準拠のサブセット。相互運用性を強化するために、技術プロファイルが使用されます。</dd>
  <dt _msttexthash="32825481" _msthash="1597">トランスポート層セキュリティ (TLS)</dt>
  <dd _msttexthash="1843389951" _msthash="1598">ブラウザや Web サーバーに広く実装されている認証およびセキュリティ プロトコル。TLS は、機密性、受信側 (サーバー) エンドポイントの証明書ベースの認証、および発信元 (クライアント) エンドポイントの証明書ベースの認証を提供します。TLSは<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-RFC8446" _istranslated="1">[RFC8446]</a>および<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-SP800-52" _istranslated="1">[SP800-52]</a>で規定されています。</dd>
  <dt _msttexthash="12373088" _msthash="1599">信託契約</dt>
  <dd _msttexthash="508956942" _msthash="1600"><em _istranslated="1">CSP</em>、<em _istranslated="1">IdP</em>、<em _istranslated="1">および RP</em> が<em _istranslated="1">フェデレーション トランザクション</em>に参加して<em _istranslated="1">、加入者</em>と RP 間の認証<em _istranslated="1">セッション</em>を確立できる一連の条件。</dd>
  <dt _msttexthash="11369839" _msthash="1601">ユーザビリティ</dt>
  <dd _msttexthash="558672530" _msthash="1602">特定のユーザーが、特定の使用コンテキストで有効性、効率性、満足度を持って特定の目標を達成するために製品を使用できる程度。<a href="https://pages.nist.gov/800-63-4/sp800-63c.html#ref-ISOIEC9241" _istranslated="1">[ISO/IEC9241-11]</a></dd>
  <dt _msttexthash="9217117" _msthash="1603">検証キー</dt>
  <dd _msttexthash="696019129" _msthash="1604">署名の検証に使用される暗号化キー。非対称暗号化では、検証キーは暗号化キー ペアの<em _istranslated="1">公開キー</em>を参照します。対称暗号化では、検証キーは<em _istranslated="1">対称キー</em>です。</dd>
  <dt _msttexthash="9244066" _msthash="1605">ベリファイア</dt>
  <dd _msttexthash="2297393150" _msthash="1606"><em _istranslated="1">認証プロトコル</em>を使用して、請求者が 1 つ以上の<em _istranslated="1">認証子</em>を所有および制御していることを検証することにより、<em _istranslated="1">請求者の</em> ID を確認するエンティティ。これを行うには、検証者はオーセンティケーターと<em _istranslated="1">加入者アカウント</em>のバインドを確認し、加入者アカウントがアクティブであることを確認する必要があります。</dd>
</dl>

<h1 id="changelog" data-section="C"><font _mstmutation="1" _msttexthash="7900932" _msthash="1607">変更ログ</font><a href="https://pages.nist.gov/800-63-4/sp800-63c.html#changelog" class="header-link"><i class="fa fa-link"></i></a>
  
  
</h1>

<p><em _msttexthash="27927497" _msthash="1608">この付録は有益です。</em></p>

<p _msttexthash="237246529" _msthash="1609">この付録では、最初のリリース以降にSP 800-63Cに加えられた変更点の概要を示します。</p>

<ul>
  <li>
    <p _msttexthash="326683591" _msthash="1610">フェデレーションプロセスの個別のステップとして、信頼契約と登録/検出(キーの確立)を確立します。</p>
  </li>
  <li>
    <p _msttexthash="172238820" _msthash="1611">すべてのFALには、信託契約の確立と登録に関する要件があります。</p>
  </li>
  <li>
    <p _msttexthash="743882438" _msthash="1612">FAL 定義には暗号化要件がなくなりました。むしろ、暗号化は、FAL に関係なく、信頼できない当事者を介してアサーションで個人情報を渡すことによってトリガーされます。</p>
  </li>
  <li>
    <p _msttexthash="112546629" _msthash="1613">FAL2 にはアサーション インジェクション保護が必要です。</p>
  </li>
  <li>
    <p _msttexthash="617304636" _msthash="1614">FAL3 では、RP 管理オーセンティケーターを含む従来のキー所有者アサーションに加えて、より一般的なバインドされたオーセンティケーターを使用できます。</p>
  </li>
  <li>
    <p _msttexthash="50397776" _msthash="1615">IAL/AAL/FAL の通信が必要です。</p>
  </li>
  <li>
    <p _msttexthash="125181004" _msthash="1616">RP サブスクライバー アカウントの定義と説明を追加します。</p>
  </li>
  <li>
    <p _msttexthash="203299499" _msthash="1617">RP サブスクライバ アカウントのプロビジョニング モデルとディスカッションを追加します。</p>
  </li>
  <li>
    <p _msttexthash="244255687" _msthash="1618">汎用 IdP とは分離された特定の要件を持つ加入者制御のウォレット モデルを追加します。</p>
  </li>
  <li>
    <p _msttexthash="432378401" _msthash="1619">コアドキュメントセクションを再構築して、共通、汎用、および加入者制御のウォレット要件を別のセクションで処理します。</p>
  </li>
  <li>
    <p _msttexthash="57736952" _msthash="1620">IdP と RP の救済要件を追加します。</p>
  </li>
  <li>
    <p _msttexthash="226609292" _msthash="1621">エンタープライズおよび動的なユースケースを、明示的な例とともに全体に追加します。</p>
  </li>
</ul>






  </div>
</div>
<footer role="contentInfo" class="site-footer">
  <div class="section-container">
    <div class="section-content">
    </div>
  </div>
</footer>

<script type="text/javascript">
    function loadSearch() {
        var sjs = SimpleJekyllSearch({
          searchInput: document.getElementById('search-input'),
          resultsContainer: document.getElementById('results-container'),
          json: '/800-63-4/search.json'
        });
    }
    $(function() {
      
      // Convert all links to on-page within document in collapsed view
      $('.container a[href^="/800-63-4/sp800-63c/"], .container a[href^="../"]').filter('a[href*="#"]').each(function(i, el) {
          var $el = $(el);
          var newPath = $el.attr('href').replace(/(.*)(\#.+)/, "$2");
          //console.log('1: ' + $el.attr('href') + ' :: ' + newPath);
          $el.attr('href', newPath);
      });
      // Convert all cross-document links when in collapsed view
      $('.container a[href^="/800-63-4/"]').not('a[href*="sp800-63c/"]').each(function(i, el) {
          var $el = $(el);
          var newPath = $el.attr('href').replace(new RegExp('(/800-63-4)/([^/]+)(/.*)?/(#.*)?'), '$1/$2.html$4');
          //console.log('2: ' + $el.attr('href') + ' :: ' + newPath);
          $el.attr('href', newPath);
      });
      
      // highlight normative language by adding classes
      $('strong').filter(':contains("SHALL"), :contains("SHALL NOT"), :contains("SHOULD"), :contains("SHOULD NOT"), :contains("MAY"), :contains("NEED NOT"), :contains("CAN"), :contains("CANNOT"), :contains("CAPITALS")').each(function(i, el) {
        var $el;
        $el = $(el);
        $el.addClass('normative');
      });
      // highlight the target
      $('a:target').parent().addClass('target');
      $(':target').addClass('target');
      $(window).on('hashchange', function(e) {
        $('.target').removeClass('target');
        $('a:target').parent().addClass('target');
        $(':target').addClass('target');
      });
    });
</script>


<script defer="" src="./sp800-63c_files/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon="{&quot;rayId&quot;:&quot;98f790f8ead2ed00&quot;,&quot;serverTiming&quot;:{&quot;name&quot;:{&quot;cfExtPri&quot;:true,&quot;cfEdge&quot;:true,&quot;cfOrigin&quot;:true,&quot;cfL4&quot;:true,&quot;cfSpeedBrain&quot;:true,&quot;cfCacheStatus&quot;:true}},&quot;version&quot;:&quot;2025.9.1&quot;,&quot;token&quot;:&quot;9ef5b487afff42a68917b2d63593a474&quot;}" crossorigin="anonymous"></script>

<div id="nistfootergoeshere"><footer class="nist-footer">
  <div class="nist-footer__inner">
    <div class="nist-footer__menu" role="navigation">
      <ul>
        <li class="nist-footer__menu-item">
          <a href="https://www.nist.gov/privacy-policy" _msttexthash="18662553" _msthash="52">サイトのプライバシー</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.nist.gov/oism/accessibility" _msttexthash="13626912" _msthash="53">アクセシビリティ</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.nist.gov/privacy" _msttexthash="21453471" _msthash="54">プライバシープログラム</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.nist.gov/oism/copyrights" _msttexthash="8375562" _msthash="55">著作権</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.commerce.gov/vulnerability-disclosure-policy" _msttexthash="20347574" _msthash="56">脆弱性の開示</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.nist.gov/no-fear-act-policy" _msttexthash="34125819" _msthash="57">ノー・フィア・アクト・ポリシー</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.nist.gov/foia" _msttexthash="24780340" _msthash="58">FOIA(情報公開法)</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.nist.gov/environmental-policy-statement" _msttexthash="12976015" _msthash="59">環境方針</a>
        </li>
        <li class="nist-footer__menu-item ">
          <a href="https://www.nist.gov/summary-report-scientific-integrity" _msttexthash="18718700" _msthash="60">科学的誠実さ</a>
        </li>
        <li class="nist-footer__menu-item ">
          <a href="https://www.nist.gov/nist-information-quality-standards" _msttexthash="19467526" _msthash="61">情報品質基準</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.commerce.gov/" _msttexthash="194441" _msthash="62">Commerce.gov</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.science.gov/" _msttexthash="169130" _msthash="63">Science.gov</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.usa.gov/" _msttexthash="81939" _msthash="64">USA.gov</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://vote.gov/" _msttexthash="108953" _msthash="65">Vote.gov</a>
        </li>
      </ul>
    </div>
  </div>
  <div class="nist-footer__logo">
    <a href="https://www.nist.gov/" title="National Institute of Standards and Technology" class="nist-footer__logo-link" rel="home">
      <img src="./sp800-63c_files/nist_logo_brand_white.svg" alt="米国国立標準技術研究所のロゴ" _mstalt="1793467" _msthash="66">
    </a>
  </div>
</footer>
</div></body></html>